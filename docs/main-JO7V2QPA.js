import{$ as Bl,$a as bn,A as Rl,Aa as Mt,Ab as pa,B as oa,Ba as Oi,Bb as po,C as vt,Ca as ki,Cb as ma,D as Xr,Da as eo,Db as Xl,E as Bn,Ea as Kl,Eb as nt,F as dn,Fa as Pi,Fb as Ql,G as Ol,Ga as ee,Gb as Jl,H as sa,Ha as L,Hb as wn,I as Wt,Ia as ua,Ib as ga,J as kl,Ja as Gl,Jb as va,K as Pl,Ka as Hl,Kb as Zn,L as Un,La as to,Lb as eu,M as Kt,Ma as Wn,Mb as tu,N as aa,Na as da,Nb as Se,O as Fl,Oa as be,Ob as mo,P as Nl,Pa as no,Pb as go,Q as Vl,Qa as io,Qb as nu,R as jl,Ra as Kn,Rb as iu,S as Ll,Sa as yt,Sb as vo,T as hn,Ta as _n,Tb as yo,U as Ue,Ua as ql,V as At,Va as Zl,W as Ne,Wa as ro,X as Ee,Xa as Fe,Y as fn,Ya as Gn,Z,Za as ze,_ as Oe,_a as Fi,a as j,aa as se,ab as Yl,b as ge,ba as ca,bb as Ve,ca as z,cb as oo,d as np,da as U,db as so,e as ip,ea as Ul,eb as ao,f as qe,fa as Qr,fb as W,g as Zr,ga as Ri,gb as K,h as Al,ha as pe,hb as ce,i as Dt,ia as ke,ib as Ni,j as ia,ja as xe,jb as Ke,k as Mi,ka as pn,kb as tt,l as Ie,la as zl,lb as ha,m as Je,ma as zn,mb as fa,n as Ml,na as at,nb as Vi,o as xl,oa as mn,ob as Hn,p as $t,pa as gn,pb as qn,q as We,qa as vn,qb as me,r as Q,ra as yn,rb as ct,s as xi,sa as $n,sb as _t,t as Ln,ta as la,tb as co,u as Tl,ua as Gt,ub as lo,v as oe,va as Pe,vb as uo,w as Ti,wa as De,wb as lt,x as et,xa as $l,xb as ve,y as Yr,ya as Jr,yb as ho,z as ra,za as Wl,zb as fo}from"./chunk-EAEKJ3PE.js";var Dd=np((Sc,Ic)=>{"use strict";(function(n,e){typeof Sc=="object"&&typeof Ic<"u"?Ic.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Dexie=e())})(Sc,function(){"use strict";var n=function(o,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d])},n(o,s)};function e(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(o,s);function c(){this.constructor=o}o.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}var r=function(){return r=Object.assign||function(s){for(var c,l=1,d=arguments.length;l<d;l++){c=arguments[l];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])}return s},r.apply(this,arguments)};function t(o,s,c){if(c||arguments.length===2)for(var l=0,d=s.length,f;l<d;l++)(f||!(l in s))&&(f||(f=Array.prototype.slice.call(s,0,l)),f[l]=s[l]);return o.concat(f||Array.prototype.slice.call(s))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,a=Object.keys,u=Array.isArray;typeof Promise<"u"&&!i.Promise&&(i.Promise=Promise);function h(o,s){return typeof s!="object"||a(s).forEach(function(c){o[c]=s[c]}),o}var v=Object.getPrototypeOf,y={}.hasOwnProperty;function S(o,s){return y.call(o,s)}function O(o,s){typeof s=="function"&&(s=s(v(o))),(typeof Reflect>"u"?a:Reflect.ownKeys)(s).forEach(function(c){Y(o,c,s[c])})}var F=Object.defineProperty;function Y(o,s,c,l){F(o,s,h(c&&S(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},l))}function re(o){return{from:function(s){return o.prototype=Object.create(s.prototype),Y(o.prototype,"constructor",o),{extend:O.bind(null,o.prototype)}}}}var ye=Object.getOwnPropertyDescriptor;function ne(o,s){var c=ye(o,s),l;return c||(l=v(o))&&ne(l,s)}var le=[].slice;function Me(o,s,c){return le.call(o,s,c)}function Ge(o,s){return s(o)}function Ce(o){if(!o)throw new Error("Assertion Failed")}function Rt(o){i.setImmediate?setImmediate(o):setTimeout(o,0)}function Ct(o,s){return o.reduce(function(c,l,d){var f=s(l,d);return f&&(c[f[0]]=f[1]),c},{})}function $e(o,s){if(typeof s=="string"&&S(o,s))return o[s];if(!s)return o;if(typeof s!="string"){for(var c=[],l=0,d=s.length;l<d;++l){var f=$e(o,s[l]);c.push(f)}return c}var p=s.indexOf(".");if(p!==-1){var m=o[s.substr(0,p)];return m==null?void 0:$e(m,s.substr(p+1))}}function Le(o,s,c){if(!(!o||s===void 0)&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof s!="string"&&"length"in s){Ce(typeof c!="string"&&"length"in c);for(var l=0,d=s.length;l<d;++l)Le(o,s[l],c[l])}else{var f=s.indexOf(".");if(f!==-1){var p=s.substr(0,f),m=s.substr(f+1);if(m==="")c===void 0?u(o)&&!isNaN(parseInt(p))?o.splice(p,1):delete o[p]:o[p]=c;else{var g=o[p];(!g||!S(o,p))&&(g=o[p]={}),Le(g,m,c)}}else c===void 0?u(o)&&!isNaN(parseInt(s))?o.splice(s,1):delete o[s]:o[s]=c}}function Ch(o,s){typeof s=="string"?Le(o,s,void 0):"length"in s&&[].map.call(s,function(c){Le(o,c,void 0)})}function Lc(o){var s={};for(var c in o)S(o,c)&&(s[c]=o[c]);return s}var Eh=[].concat;function Bc(o){return Eh.apply([],o)}var Sh="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bc([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(s){return s+o+"Array"})}))).filter(function(o){return i[o]}),Uc=new Set(Sh.map(function(o){return i[o]}));function zc(o){var s={};for(var c in o)if(S(o,c)){var l=o[c];s[c]=!l||typeof l!="object"||Uc.has(l.constructor)?l:zc(l)}return s}function Ih(o){for(var s in o)if(S(o,s))return!1;return!0}var hi=null;function Ot(o){hi=new WeakMap;var s=ds(o);return hi=null,s}function ds(o){if(!o||typeof o!="object")return o;var s=hi.get(o);if(s)return s;if(u(o)){s=[],hi.set(o,s);for(var c=0,l=o.length;c<l;++c)s.push(ds(o[c]))}else if(Uc.has(o.constructor))s=o;else{var d=v(o);s=d===Object.prototype?{}:Object.create(d),hi.set(o,s);for(var f in o)S(o,f)&&(s[f]=ds(o[f]))}return s}var Dh={}.toString;function hs(o){return Dh.call(o).slice(8,-1)}var fs=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ah=typeof fs=="symbol"?function(o){var s;return o!=null&&(s=o[fs])&&s.apply(o)}:function(){return null};function tn(o,s){var c=o.indexOf(s);return c>=0&&o.splice(c,1),c>=0}var Tn={};function Et(o){var s,c,l,d;if(arguments.length===1){if(u(o))return o.slice();if(this===Tn&&typeof o=="string")return[o];if(d=Ah(o)){for(c=[];l=d.next(),!l.done;)c.push(l.value);return c}if(o==null)return[o];if(s=o.length,typeof s=="number"){for(c=new Array(s);s--;)c[s]=o[s];return c}return[o]}for(s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return c}var ps=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Mh=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],$c=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ms=Mh.concat($c),xh={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Rn(o,s){this.name=o,this.message=s}re(Rn).from(Error).extend({toString:function(){return this.name+": "+this.message}});function Wc(o,s){return o+". Errors: "+Object.keys(s).map(function(c){return s[c].toString()}).filter(function(c,l,d){return d.indexOf(c)===l}).join(`
`)}function Cr(o,s,c,l){this.failures=s,this.failedKeys=l,this.successCount=c,this.message=Wc(o,s)}re(Cr).from(Rn);function On(o,s){this.name="BulkError",this.failures=Object.keys(s).map(function(c){return s[c]}),this.failuresByPos=s,this.message=Wc(o,this.failures)}re(On).from(Rn);var gs=ms.reduce(function(o,s){return o[s]=s+"Error",o},{}),Th=Rn,G=ms.reduce(function(o,s){var c=s+"Error";function l(d,f){this.name=c,d?typeof d=="string"?(this.message="".concat(d).concat(f?`
 `+f:""),this.inner=f||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=xh[s]||c,this.inner=null)}return re(l).from(Th),o[s]=l,o},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var Kc=$c.reduce(function(o,s){return o[s+"Error"]=G[s],o},{});function Rh(o,s){if(!o||o instanceof Rn||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Kc[o.name])return o;var c=new Kc[o.name](s||o.message,o);return"stack"in o&&Y(c,"stack",{get:function(){return this.inner.stack}}),c}var Er=ms.reduce(function(o,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(o[s+"Error"]=G[s]),o},{});Er.ModifyError=Cr,Er.DexieError=Rn,Er.BulkError=On;function he(){}function fi(o){return o}function Oh(o,s){return o==null||o===fi?s:function(c){return s(o(c))}}function nn(o,s){return function(){o.apply(this,arguments),s.apply(this,arguments)}}function kh(o,s){return o===he?s:function(){var c=o.apply(this,arguments);c!==void 0&&(arguments[0]=c);var l=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var f=s.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?nn(l,this.onsuccess):l),d&&(this.onerror=this.onerror?nn(d,this.onerror):d),f!==void 0?f:c}}function Ph(o,s){return o===he?s:function(){o.apply(this,arguments);var c=this.onsuccess,l=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?nn(c,this.onsuccess):c),l&&(this.onerror=this.onerror?nn(l,this.onerror):l)}}function Fh(o,s){return o===he?s:function(c){var l=o.apply(this,arguments);h(c,l);var d=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var p=s.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?nn(d,this.onsuccess):d),f&&(this.onerror=this.onerror?nn(f,this.onerror):f),l===void 0?p===void 0?void 0:p:h(l,p)}}function Nh(o,s){return o===he?s:function(){return s.apply(this,arguments)===!1?!1:o.apply(this,arguments)}}function vs(o,s){return o===he?s:function(){var c=o.apply(this,arguments);if(c&&typeof c.then=="function"){for(var l=this,d=arguments.length,f=new Array(d);d--;)f[d]=arguments[d];return c.then(function(){return s.apply(l,f)})}return s.apply(this,arguments)}}var ft=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Gc(o,s){ft=o}var pi={},Hc=100,ys=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,v(o),o];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,v(s),o]}(),qc=ys[0],Zc=ys[1],Vh=ys[2],jh=Zc&&Zc.then,mi=qc&&qc.constructor,_s=!!Vh;function Lh(){queueMicrotask(Uh)}var gi=function(o,s){vi.push([o,s]),Sr&&(Lh(),Sr=!1)},bs=!0,Sr=!0,rn=[],Ir=[],ws=fi,kt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:he,pgp:!1,env:{},finalize:he},$=kt,vi=[],on=0,Dr=[];function N(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=$;if(typeof o!="function"){if(o!==pi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Es(this,this._value);return}this._state=null,this._value=null,++s.ref,Xc(this,o)}var Cs={get:function(){var o=$,s=Tr;function c(l,d){var f=this,p=!o.global&&(o!==$||s!==Tr),m=p&&!Ft(),g=new N(function(_,C){Ss(f,new Yc(el(l,o,p,m),el(d,o,p,m),_,C,o))});return this._consoleTask&&(g._consoleTask=this._consoleTask),g}return c.prototype=pi,c},set:function(o){Y(this,"then",o&&o.prototype===pi?Cs:{get:function(){return o},set:Cs.set})}};O(N.prototype,{then:Cs,_then:function(o,s){Ss(this,new Yc(null,null,o,s,$))},catch:function(o){if(arguments.length===1)return this.then(null,o);var s=arguments[0],c=arguments[1];return typeof s=="function"?this.then(null,function(l){return l instanceof s?c(l):Ar(l)}):this.then(null,function(l){return l&&l.name===s?c(l):Ar(l)})},finally:function(o){return this.then(function(s){return N.resolve(o()).then(function(){return s})},function(s){return N.resolve(o()).then(function(){return Ar(s)})})},timeout:function(o,s){var c=this;return o<1/0?new N(function(l,d){var f=setTimeout(function(){return d(new G.Timeout(s))},o);c.then(l,d).finally(clearTimeout.bind(null,f))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(N.prototype,Symbol.toStringTag,"Dexie.Promise"),kt.env=Jc();function Yc(o,s,c,l,d){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof s=="function"?s:null,this.resolve=c,this.reject=l,this.psd=d}O(N,{all:function(){var o=Et.apply(null,arguments).map(Rr);return new N(function(s,c){o.length===0&&s([]);var l=o.length;o.forEach(function(d,f){return N.resolve(d).then(function(p){o[f]=p,--l||s(o)},c)})})},resolve:function(o){if(o instanceof N)return o;if(o&&typeof o.then=="function")return new N(function(c,l){o.then(c,l)});var s=new N(pi,!0,o);return s},reject:Ar,race:function(){var o=Et.apply(null,arguments).map(Rr);return new N(function(s,c){o.map(function(l){return N.resolve(l).then(s,c)})})},PSD:{get:function(){return $},set:function(o){return $=o}},totalEchoes:{get:function(){return Tr}},newPSD:Pt,usePSD:sn,scheduler:{get:function(){return gi},set:function(o){gi=o}},rejectionMapper:{get:function(){return ws},set:function(o){ws=o}},follow:function(o,s){return new N(function(c,l){return Pt(function(d,f){var p=$;p.unhandleds=[],p.onunhandled=f,p.finalize=nn(function(){var m=this;zh(function(){m.unhandleds.length===0?d():f(m.unhandleds[0])})},p.finalize),o()},s,c,l)})}}),mi&&(mi.allSettled&&Y(N,"allSettled",function(){var o=Et.apply(null,arguments).map(Rr);return new N(function(s){o.length===0&&s([]);var c=o.length,l=new Array(c);o.forEach(function(d,f){return N.resolve(d).then(function(p){return l[f]={status:"fulfilled",value:p}},function(p){return l[f]={status:"rejected",reason:p}}).then(function(){return--c||s(l)})})})}),mi.any&&typeof AggregateError<"u"&&Y(N,"any",function(){var o=Et.apply(null,arguments).map(Rr);return new N(function(s,c){o.length===0&&c(new AggregateError([]));var l=o.length,d=new Array(l);o.forEach(function(f,p){return N.resolve(f).then(function(m){return s(m)},function(m){d[p]=m,--l||c(new AggregateError(d))})})})}));function Xc(o,s){try{s(function(c){if(o._state===null){if(c===o)throw new TypeError("A promise cannot be resolved with itself.");var l=o._lib&&kn();c&&typeof c.then=="function"?Xc(o,function(d,f){c instanceof N?c._then(d,f):c.then(d,f)}):(o._state=!0,o._value=c,Qc(o)),l&&Pn()}},Es.bind(null,o))}catch(c){Es(o,c)}}function Es(o,s){if(Ir.push(s),o._state===null){var c=o._lib&&kn();s=ws(s),o._state=!1,o._value=s,$h(o),Qc(o),c&&Pn()}}function Qc(o){var s=o._listeners;o._listeners=[];for(var c=0,l=s.length;c<l;++c)Ss(o,s[c]);var d=o._PSD;--d.ref||d.finalize(),on===0&&(++on,gi(function(){--on===0&&Is()},[]))}function Ss(o,s){if(o._state===null){o._listeners.push(s);return}var c=o._state?s.onFulfilled:s.onRejected;if(c===null)return(o._state?s.resolve:s.reject)(o._value);++s.psd.ref,++on,gi(Bh,[c,o,s])}function Bh(o,s,c){try{var l,d=s._value;!s._state&&Ir.length&&(Ir=[]),l=ft&&s._consoleTask?s._consoleTask.run(function(){return o(d)}):o(d),!s._state&&Ir.indexOf(d)===-1&&Wh(s),c.resolve(l)}catch(f){c.reject(f)}finally{--on===0&&Is(),--c.psd.ref||c.psd.finalize()}}function Uh(){sn(kt,function(){kn()&&Pn()})}function kn(){var o=bs;return bs=!1,Sr=!1,o}function Pn(){var o,s,c;do for(;vi.length>0;)for(o=vi,vi=[],c=o.length,s=0;s<c;++s){var l=o[s];l[0].apply(null,l[1])}while(vi.length>0);bs=!0,Sr=!0}function Is(){var o=rn;rn=[],o.forEach(function(l){l._PSD.onunhandled.call(null,l._value,l)});for(var s=Dr.slice(0),c=s.length;c;)s[--c]()}function zh(o){function s(){o(),Dr.splice(Dr.indexOf(s),1)}Dr.push(s),++on,gi(function(){--on===0&&Is()},[])}function $h(o){rn.some(function(s){return s._value===o._value})||rn.push(o)}function Wh(o){for(var s=rn.length;s;)if(rn[--s]._value===o._value){rn.splice(s,1);return}}function Ar(o){return new N(pi,!1,o)}function _e(o,s){var c=$;return function(){var l=kn(),d=$;try{return Nt(c,!0),o.apply(this,arguments)}catch(f){s&&s(f)}finally{Nt(d,!1),l&&Pn()}}}var Te={awaits:0,echoes:0,id:0},Kh=0,Mr=[],xr=0,Tr=0,Gh=0;function Pt(o,s,c,l){var d=$,f=Object.create(d);f.parent=d,f.ref=0,f.global=!1,f.id=++Gh,kt.env,f.env=_s?{Promise:N,PromiseProp:{value:N,configurable:!0,writable:!0},all:N.all,race:N.race,allSettled:N.allSettled,any:N.any,resolve:N.resolve,reject:N.reject}:{},s&&h(f,s),++d.ref,f.finalize=function(){--this.parent.ref||this.parent.finalize()};var p=sn(f,o,c,l);return f.ref===0&&f.finalize(),p}function Fn(){return Te.id||(Te.id=++Kh),++Te.awaits,Te.echoes+=Hc,Te.id}function Ft(){return Te.awaits?(--Te.awaits===0&&(Te.id=0),Te.echoes=Te.awaits*Hc,!0):!1}(""+jh).indexOf("[native code]")===-1&&(Fn=Ft=he);function Rr(o){return Te.echoes&&o&&o.constructor===mi?(Fn(),o.then(function(s){return Ft(),s},function(s){return Ft(),Ae(s)})):o}function Hh(o){++Tr,(!Te.echoes||--Te.echoes===0)&&(Te.echoes=Te.awaits=Te.id=0),Mr.push($),Nt(o,!0)}function qh(){var o=Mr[Mr.length-1];Mr.pop(),Nt(o,!1)}function Nt(o,s){var c=$;if((s?Te.echoes&&(!xr++||o!==$):xr&&(!--xr||o!==$))&&queueMicrotask(s?Hh.bind(null,o):qh),o!==$&&($=o,c===kt&&(kt.env=Jc()),_s)){var l=kt.env.Promise,d=o.env;(c.global||o.global)&&(Object.defineProperty(i,"Promise",d.PromiseProp),l.all=d.all,l.race=d.race,l.resolve=d.resolve,l.reject=d.reject,d.allSettled&&(l.allSettled=d.allSettled),d.any&&(l.any=d.any))}}function Jc(){var o=i.Promise;return _s?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function sn(o,s,c,l,d){var f=$;try{return Nt(o,!0),s(c,l,d)}finally{Nt(f,!1)}}function el(o,s,c,l){return typeof o!="function"?o:function(){var d=$;c&&Fn(),Nt(s,!0);try{return o.apply(this,arguments)}finally{Nt(d,!1),l&&queueMicrotask(Ft)}}}function Ds(o){Promise===mi&&Te.echoes===0?xr===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}var Ae=N.reject;function As(o,s,c,l){if(!o.idbdb||!o._state.openComplete&&!$.letThrough&&!o._vip){if(o._state.openComplete)return Ae(new G.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return Ae(new G.DatabaseClosed);o.open().catch(he)}return o._state.dbReadyPromise.then(function(){return As(o,s,c,l)})}else{var d=o._createTransaction(s,c,o._dbSchema);try{d.create(),o._state.PR1398_maxLoop=3}catch(f){return f.name===gs.InvalidState&&o.isOpen()&&--o._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),o.close({disableAutoOpen:!1}),o.open().then(function(){return As(o,s,c,l)})):Ae(f)}return d._promise(s,function(f,p){return Pt(function(){return $.trans=d,l(f,p,d)})}).then(function(f){if(s==="readwrite")try{d.idbtrans.commit()}catch{}return s==="readonly"?f:d._completion.then(function(){return f})})}}var tl="4.0.7",an="\uFFFF",Ms=-1/0,St="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",nl="String expected.",Nn=[],Or="__dbnames",xs="readonly",Ts="readwrite";function cn(o,s){return o?s?function(){return o.apply(this,arguments)&&s.apply(this,arguments)}:o:s}var il={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function kr(o){return typeof o=="string"&&!/\./.test(o)?function(s){return s[o]===void 0&&o in s&&(s=Ot(s),delete s[o]),s}:function(s){return s}}function rl(){throw G.Type()}function ue(o,s){try{var c=ol(o),l=ol(s);if(c!==l)return c==="Array"?1:l==="Array"?-1:c==="binary"?1:l==="binary"?-1:c==="string"?1:l==="string"?-1:c==="Date"?1:l!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return o>s?1:o<s?-1:0;case"binary":return Yh(sl(o),sl(s));case"Array":return Zh(o,s)}}catch{}return NaN}function Zh(o,s){for(var c=o.length,l=s.length,d=c<l?c:l,f=0;f<d;++f){var p=ue(o[f],s[f]);if(p!==0)return p}return c===l?0:c<l?-1:1}function Yh(o,s){for(var c=o.length,l=s.length,d=c<l?c:l,f=0;f<d;++f)if(o[f]!==s[f])return o[f]<s[f]?-1:1;return c===l?0:c<l?-1:1}function ol(o){var s=typeof o;if(s!=="object")return s;if(ArrayBuffer.isView(o))return"binary";var c=hs(o);return c==="ArrayBuffer"?"binary":c}function sl(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var al=function(){function o(){}return o.prototype._trans=function(s,c,l){var d=this._tx||$.trans,f=this.name,p=ft&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function m(C,b,D){if(!D.schema[f])throw new G.NotFound("Table "+f+" not part of transaction");return c(D.idbtrans,D)}var g=kn();try{var _=d&&d.db._novip===this.db._novip?d===$.trans?d._promise(s,m,l):Pt(function(){return d._promise(s,m,l)},{trans:d,transless:$.transless||$}):As(this.db,s,[this.name],m);return p&&(_._consoleTask=p,_=_.catch(function(C){return console.trace(C),Ae(C)})),_}finally{g&&Pn()}},o.prototype.get=function(s,c){var l=this;return s&&s.constructor===Object?this.where(s).first(c):s==null?Ae(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return l.core.get({trans:d,key:s}).then(function(f){return l.hook.reading.fire(f)})}).then(c)},o.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(u(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var c=a(s);if(c.length===1)return this.where(c[0]).equals(s[c[0]]);var l=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&c.every(function(k){return b.keyPath.indexOf(k)>=0})){for(var D=0;D<c.length;++D)if(c.indexOf(b.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(b,D){return b.keyPath.length-D.keyPath.length})[0];if(l&&this.db._maxKey!==an){var d=l.keyPath.slice(0,c.length);return this.where(d).equals(d.map(function(b){return s[b]}))}!l&&ft&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName,p=this.db._deps.indexedDB;function m(b,D){return p.cmp(b,D)===0}var g=c.reduce(function(b,D){var k=b[0],w=b[1],E=f[D],A=s[D];return[k||E,k||!E?cn(w,E&&E.multi?function(M){var x=$e(M,D);return u(x)&&x.some(function(T){return m(A,T)})}:function(M){return m(A,$e(M,D))}):w]},[null,null]),_=g[0],C=g[1];return _?this.where(_.name).equals(s[_.keyPath]).filter(C):l?this.filter(C):this.where(c).equals("")},o.prototype.filter=function(s){return this.toCollection().and(s)},o.prototype.count=function(s){return this.toCollection().count(s)},o.prototype.offset=function(s){return this.toCollection().offset(s)},o.prototype.limit=function(s){return this.toCollection().limit(s)},o.prototype.each=function(s){return this.toCollection().each(s)},o.prototype.toArray=function(s){return this.toCollection().toArray(s)},o.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},o.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,u(s)?"[".concat(s.join("+"),"]"):s))},o.prototype.reverse=function(){return this.toCollection().reverse()},o.prototype.mapToClass=function(s){var c=this,l=c.db,d=c.name;this.schema.mappedClass=s,s.prototype instanceof rl&&(s=function(g){e(_,g);function _(){return g!==null&&g.apply(this,arguments)||this}return Object.defineProperty(_.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),_.prototype.table=function(){return d},_}(s));for(var f=new Set,p=s.prototype;p;p=v(p))Object.getOwnPropertyNames(p).forEach(function(g){return f.add(g)});var m=function(g){if(!g)return g;var _=Object.create(s.prototype);for(var C in g)if(!f.has(C))try{_[C]=g[C]}catch{}return _};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=m,this.hook("reading",m),s},o.prototype.defineClass=function(){function s(c){h(this,c)}return this.mapToClass(s)},o.prototype.add=function(s,c){var l=this,d=this.schema.primKey,f=d.auto,p=d.keyPath,m=s;return p&&f&&(m=kr(p)(s)),this._trans("readwrite",function(g){return l.core.mutate({trans:g,type:"add",keys:c!=null?[c]:null,values:[m]})}).then(function(g){return g.numFailures?N.reject(g.failures[0]):g.lastResult}).then(function(g){if(p)try{Le(s,p,g)}catch{}return g})},o.prototype.update=function(s,c){if(typeof s=="object"&&!u(s)){var l=$e(s,this.schema.primKey.keyPath);return l===void 0?Ae(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(c)}else return this.where(":id").equals(s).modify(c)},o.prototype.put=function(s,c){var l=this,d=this.schema.primKey,f=d.auto,p=d.keyPath,m=s;return p&&f&&(m=kr(p)(s)),this._trans("readwrite",function(g){return l.core.mutate({trans:g,type:"put",values:[m],keys:c!=null?[c]:null})}).then(function(g){return g.numFailures?N.reject(g.failures[0]):g.lastResult}).then(function(g){if(p)try{Le(s,p,g)}catch{}return g})},o.prototype.delete=function(s){var c=this;return this._trans("readwrite",function(l){return c.core.mutate({trans:l,type:"delete",keys:[s]})}).then(function(l){return l.numFailures?N.reject(l.failures[0]):void 0})},o.prototype.clear=function(){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"deleteRange",range:il})}).then(function(c){return c.numFailures?N.reject(c.failures[0]):void 0})},o.prototype.bulkGet=function(s){var c=this;return this._trans("readonly",function(l){return c.core.getMany({keys:s,trans:l}).then(function(d){return d.map(function(f){return c.hook.reading.fire(f)})})})},o.prototype.bulkAdd=function(s,c,l){var d=this,f=Array.isArray(c)?c:void 0;l=l||(f?void 0:c);var p=l?l.allKeys:void 0;return this._trans("readwrite",function(m){var g=d.schema.primKey,_=g.auto,C=g.keyPath;if(C&&f)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var b=s.length,D=C&&_?s.map(kr(C)):s;return d.core.mutate({trans:m,type:"add",keys:f,values:D,wantResults:p}).then(function(k){var w=k.numFailures,E=k.results,A=k.lastResult,M=k.failures,x=p?E:A;if(w===0)return x;throw new On("".concat(d.name,".bulkAdd(): ").concat(w," of ").concat(b," operations failed"),M)})})},o.prototype.bulkPut=function(s,c,l){var d=this,f=Array.isArray(c)?c:void 0;l=l||(f?void 0:c);var p=l?l.allKeys:void 0;return this._trans("readwrite",function(m){var g=d.schema.primKey,_=g.auto,C=g.keyPath;if(C&&f)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var b=s.length,D=C&&_?s.map(kr(C)):s;return d.core.mutate({trans:m,type:"put",keys:f,values:D,wantResults:p}).then(function(k){var w=k.numFailures,E=k.results,A=k.lastResult,M=k.failures,x=p?E:A;if(w===0)return x;throw new On("".concat(d.name,".bulkPut(): ").concat(w," of ").concat(b," operations failed"),M)})})},o.prototype.bulkUpdate=function(s){var c=this,l=this.core,d=s.map(function(m){return m.key}),f=s.map(function(m){return m.changes}),p=[];return this._trans("readwrite",function(m){return l.getMany({trans:m,keys:d,cache:"clone"}).then(function(g){var _=[],C=[];s.forEach(function(D,k){var w=D.key,E=D.changes,A=g[k];if(A){for(var M=0,x=Object.keys(E);M<x.length;M++){var T=x[M],R=E[T];if(T===c.schema.primKey.keyPath){if(ue(R,w)!==0)throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else Le(A,T,R)}p.push(k),_.push(w),C.push(A)}});var b=_.length;return l.mutate({trans:m,type:"put",keys:_,values:C,updates:{keys:d,changeSpecs:f}}).then(function(D){var k=D.numFailures,w=D.failures;if(k===0)return b;for(var E=0,A=Object.keys(w);E<A.length;E++){var M=A[E],x=p[Number(M)];if(x!=null){var T=w[M];delete w[M],w[x]=T}}throw new On("".concat(c.name,".bulkUpdate(): ").concat(k," of ").concat(b," operations failed"),w)})})})},o.prototype.bulkDelete=function(s){var c=this,l=s.length;return this._trans("readwrite",function(d){return c.core.mutate({trans:d,type:"delete",keys:s})}).then(function(d){var f=d.numFailures,p=d.lastResult,m=d.failures;if(f===0)return p;throw new On("".concat(c.name,".bulkDelete(): ").concat(f," of ").concat(l," operations failed"),m)})},o}();function yi(o){var s={},c=function(m,g){if(g){for(var _=arguments.length,C=new Array(_-1);--_;)C[_-1]=arguments[_];return s[m].subscribe.apply(null,C),o}else if(typeof m=="string")return s[m]};c.addEventType=f;for(var l=1,d=arguments.length;l<d;++l)f(arguments[l]);return c;function f(m,g,_){if(typeof m=="object")return p(m);g||(g=Nh),_||(_=he);var C={subscribers:[],fire:_,subscribe:function(b){C.subscribers.indexOf(b)===-1&&(C.subscribers.push(b),C.fire=g(C.fire,b))},unsubscribe:function(b){C.subscribers=C.subscribers.filter(function(D){return D!==b}),C.fire=C.subscribers.reduce(g,_)}};return s[m]=c[m]=C,C}function p(m){a(m).forEach(function(g){var _=m[g];if(u(_))f(g,m[g][0],m[g][1]);else if(_==="asap")var C=f(g,fi,function(){for(var D=arguments.length,k=new Array(D);D--;)k[D]=arguments[D];C.subscribers.forEach(function(w){Rt(function(){w.apply(null,k)})})});else throw new G.InvalidArgument("Invalid event config")})}}function _i(o,s){return re(s).from({prototype:o}),s}function Xh(o){return _i(al.prototype,function(c,l,d){this.db=o,this._tx=d,this.name=c,this.schema=l,this.hook=o._allTables[c]?o._allTables[c].hook:yi(null,{creating:[kh,he],reading:[Oh,fi],updating:[Fh,he],deleting:[Ph,he]})})}function Vn(o,s){return!(o.filter||o.algorithm||o.or)&&(s?o.justLimit:!o.replayFilter)}function Rs(o,s){o.filter=cn(o.filter,s)}function Os(o,s,c){var l=o.replayFilter;o.replayFilter=l?function(){return cn(l(),s())}:s,o.justLimit=c&&!l}function Qh(o,s){o.isMatch=cn(o.isMatch,s)}function Pr(o,s){if(o.isPrimKey)return s.primaryKey;var c=s.getIndexByKeyPath(o.index);if(!c)throw new G.Schema("KeyPath "+o.index+" on object store "+s.name+" is not indexed");return c}function cl(o,s,c){var l=Pr(o,s.schema);return s.openCursor({trans:c,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:l,range:o.range}})}function Fr(o,s,c,l){var d=o.replayFilter?cn(o.filter,o.replayFilter()):o.filter;if(o.or){var f={},p=function(m,g,_){if(!d||d(g,_,function(D){return g.stop(D)},function(D){return g.fail(D)})){var C=g.primaryKey,b=""+C;b==="[object ArrayBuffer]"&&(b=""+new Uint8Array(C)),S(f,b)||(f[b]=!0,s(m,g,_))}};return Promise.all([o.or._iterate(p,c),ll(cl(o,l,c),o.algorithm,p,!o.keysOnly&&o.valueMapper)])}else return ll(cl(o,l,c),cn(o.algorithm,d),s,!o.keysOnly&&o.valueMapper)}function ll(o,s,c,l){var d=l?function(p,m,g){return c(l(p),m,g)}:c,f=_e(d);return o.then(function(p){if(p)return p.start(function(){var m=function(){return p.continue()};(!s||s(p,function(g){return m=g},function(g){p.stop(g),m=he},function(g){p.fail(g),m=he}))&&f(p.value,p,function(g){return m=g}),m()})})}var Jh=Symbol(),bi=function(){function o(s){Object.assign(this,s)}return o.prototype.execute=function(s){var c;if(this.add!==void 0){var l=this.add;if(u(l))return t(t([],u(s)?s:[],!0),l,!0).sort();if(typeof l=="number")return(Number(s)||0)+l;if(typeof l=="bigint")try{return BigInt(s)+l}catch{return BigInt(0)+l}throw new TypeError("Invalid term ".concat(l))}if(this.remove!==void 0){var d=this.remove;if(u(d))return u(s)?s.filter(function(p){return!d.includes(p)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}var f=(c=this.replacePrefix)===null||c===void 0?void 0:c[0];return f&&typeof s=="string"&&s.startsWith(f)?this.replacePrefix[1]+s.substring(f.length):s},o}(),ef=function(){function o(){}return o.prototype._read=function(s,c){var l=this._ctx;return l.error?l.table._trans(null,Ae.bind(null,l.error)):l.table._trans("readonly",s).then(c)},o.prototype._write=function(s){var c=this._ctx;return c.error?c.table._trans(null,Ae.bind(null,c.error)):c.table._trans("readwrite",s,"locked")},o.prototype._addAlgorithm=function(s){var c=this._ctx;c.algorithm=cn(c.algorithm,s)},o.prototype._iterate=function(s,c){return Fr(this._ctx,s,c,this._ctx.table.core)},o.prototype.clone=function(s){var c=Object.create(this.constructor.prototype),l=Object.create(this._ctx);return s&&h(l,s),c._ctx=l,c},o.prototype.raw=function(){return this._ctx.valueMapper=null,this},o.prototype.each=function(s){var c=this._ctx;return this._read(function(l){return Fr(c,s,l,c.table.core)})},o.prototype.count=function(s){var c=this;return this._read(function(l){var d=c._ctx,f=d.table.core;if(Vn(d,!0))return f.count({trans:l,query:{index:Pr(d,f.schema),range:d.range}}).then(function(m){return Math.min(m,d.limit)});var p=0;return Fr(d,function(){return++p,!1},l,f).then(function(){return p})}).then(s)},o.prototype.sortBy=function(s,c){var l=s.split(".").reverse(),d=l[0],f=l.length-1;function p(_,C){return C?p(_[l[C]],C-1):_[d]}var m=this._ctx.dir==="next"?1:-1;function g(_,C){var b=p(_,f),D=p(C,f);return b<D?-m:b>D?m:0}return this.toArray(function(_){return _.sort(g)}).then(c)},o.prototype.toArray=function(s){var c=this;return this._read(function(l){var d=c._ctx;if(d.dir==="next"&&Vn(d,!0)&&d.limit>0){var f=d.valueMapper,p=Pr(d,d.table.core.schema);return d.table.core.query({trans:l,limit:d.limit,values:!0,query:{index:p,range:d.range}}).then(function(g){var _=g.result;return f?_.map(f):_})}else{var m=[];return Fr(d,function(g){return m.push(g)},l,d.table.core).then(function(){return m})}},s)},o.prototype.offset=function(s){var c=this._ctx;return s<=0?this:(c.offset+=s,Vn(c)?Os(c,function(){var l=s;return function(d,f){return l===0?!0:l===1?(--l,!1):(f(function(){d.advance(l),l=0}),!1)}}):Os(c,function(){var l=s;return function(){return--l<0}}),this)},o.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Os(this._ctx,function(){var c=s;return function(l,d,f){return--c<=0&&d(f),c>=0}},!0),this},o.prototype.until=function(s,c){return Rs(this._ctx,function(l,d,f){return s(l.value)?(d(f),c):!0}),this},o.prototype.first=function(s){return this.limit(1).toArray(function(c){return c[0]}).then(s)},o.prototype.last=function(s){return this.reverse().first(s)},o.prototype.filter=function(s){return Rs(this._ctx,function(c){return s(c.value)}),Qh(this._ctx,s),this},o.prototype.and=function(s){return this.filter(s)},o.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},o.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},o.prototype.desc=function(){return this.reverse()},o.prototype.eachKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(l,d){s(d.key,d)})},o.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},o.prototype.eachPrimaryKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(l,d){s(d.primaryKey,d)})},o.prototype.keys=function(s){var c=this._ctx;c.keysOnly=!c.isMatch;var l=[];return this.each(function(d,f){l.push(f.key)}).then(function(){return l}).then(s)},o.prototype.primaryKeys=function(s){var c=this._ctx;if(c.dir==="next"&&Vn(c,!0)&&c.limit>0)return this._read(function(d){var f=Pr(c,c.table.core.schema);return c.table.core.query({trans:d,values:!1,limit:c.limit,query:{index:f,range:c.range}})}).then(function(d){var f=d.result;return f}).then(s);c.keysOnly=!c.isMatch;var l=[];return this.each(function(d,f){l.push(f.primaryKey)}).then(function(){return l}).then(s)},o.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},o.prototype.firstKey=function(s){return this.limit(1).keys(function(c){return c[0]}).then(s)},o.prototype.lastKey=function(s){return this.reverse().firstKey(s)},o.prototype.distinct=function(){var s=this._ctx,c=s.index&&s.table.schema.idxByName[s.index];if(!c||!c.multi)return this;var l={};return Rs(this._ctx,function(d){var f=d.primaryKey.toString(),p=S(l,f);return l[f]=!0,!p}),this},o.prototype.modify=function(s){var c=this,l=this._ctx;return this._write(function(d){var f;if(typeof s=="function")f=s;else{var p=a(s),m=p.length;f=function(M){for(var x=!1,T=0;T<m;++T){var R=p[T],I=s[R],P=$e(M,R);I instanceof bi?(Le(M,R,I.execute(P)),x=!0):P!==I&&(Le(M,R,I),x=!0)}return x}}var g=l.table.core,_=g.schema.primaryKey,C=_.outbound,b=_.extractKey,D=c.db._options.modifyChunkSize||200,k=[],w=0,E=[],A=function(M,x){var T=x.failures,R=x.numFailures;w+=M-R;for(var I=0,P=a(T);I<P.length;I++){var V=P[I];k.push(T[V])}};return c.clone().primaryKeys().then(function(M){var x=Vn(l)&&l.limit===1/0&&(typeof s!="function"||s===ks)&&{index:l.index,range:l.range},T=function(R){var I=Math.min(D,M.length-R);return g.getMany({trans:d,keys:M.slice(R,R+I),cache:"immutable"}).then(function(P){for(var V=[],B=[],X=C?[]:null,te=[],H=0;H<I;++H){var ae=P[H],J={value:Ot(ae),primKey:M[R+H]};f.call(J,J.value,J)!==!1&&(J.value==null?te.push(M[R+H]):!C&&ue(b(ae),b(J.value))!==0?(te.push(M[R+H]),V.push(J.value)):(B.push(J.value),C&&X.push(M[R+H])))}return Promise.resolve(V.length>0&&g.mutate({trans:d,type:"add",values:V}).then(function(fe){for(var q in fe.failures)te.splice(parseInt(q),1);A(V.length,fe)})).then(function(){return(B.length>0||x&&typeof s=="object")&&g.mutate({trans:d,type:"put",keys:X,values:B,criteria:x,changeSpec:typeof s!="function"&&s,isAdditionalChunk:R>0}).then(function(fe){return A(B.length,fe)})}).then(function(){return(te.length>0||x&&s===ks)&&g.mutate({trans:d,type:"delete",keys:te,criteria:x,isAdditionalChunk:R>0}).then(function(fe){return A(te.length,fe)})}).then(function(){return M.length>R+I&&T(R+D)})})};return T(0).then(function(){if(k.length>0)throw new Cr("Error modifying one or more objects",k,w,E);return M.length})})})},o.prototype.delete=function(){var s=this._ctx,c=s.range;return Vn(s)&&(s.isPrimKey||c.type===3)?this._write(function(l){var d=s.table.core.schema.primaryKey,f=c;return s.table.core.count({trans:l,query:{index:d,range:f}}).then(function(p){return s.table.core.mutate({trans:l,type:"deleteRange",range:f}).then(function(m){var g=m.failures;m.lastResult,m.results;var _=m.numFailures;if(_)throw new Cr("Could not delete some values",Object.keys(g).map(function(C){return g[C]}),p-_);return p-_})})}):this.modify(ks)},o}(),ks=function(o,s){return s.value=null};function tf(o){return _i(ef.prototype,function(c,l){this.db=o;var d=il,f=null;if(l)try{d=l()}catch(_){f=_}var p=c._ctx,m=p.table,g=m.hook.reading.fire;this._ctx={table:m,index:p.index,isPrimKey:!p.index||m.schema.primKey.keyPath&&p.index===m.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:p.or,valueMapper:g!==fi?g:null}})}function nf(o,s){return o<s?-1:o===s?0:1}function rf(o,s){return o>s?-1:o===s?0:1}function He(o,s,c){var l=o instanceof dl?new o.Collection(o):o;return l._ctx.error=c?new c(s):new TypeError(s),l}function jn(o){return new o.Collection(o,function(){return ul("")}).limit(0)}function of(o){return o==="next"?function(s){return s.toUpperCase()}:function(s){return s.toLowerCase()}}function sf(o){return o==="next"?function(s){return s.toLowerCase()}:function(s){return s.toUpperCase()}}function af(o,s,c,l,d,f){for(var p=Math.min(o.length,l.length),m=-1,g=0;g<p;++g){var _=s[g];if(_!==l[g])return d(o[g],c[g])<0?o.substr(0,g)+c[g]+c.substr(g+1):d(o[g],l[g])<0?o.substr(0,g)+l[g]+c.substr(g+1):m>=0?o.substr(0,m)+s[m]+c.substr(m+1):null;d(o[g],_)<0&&(m=g)}return p<l.length&&f==="next"?o+c.substr(o.length):p<o.length&&f==="prev"?o.substr(0,c.length):m<0?null:o.substr(0,m)+l[m]+c.substr(m+1)}function Nr(o,s,c,l){var d,f,p,m,g,_,C,b=c.length;if(!c.every(function(E){return typeof E=="string"}))return He(o,nl);function D(E){d=of(E),f=sf(E),p=E==="next"?nf:rf;var A=c.map(function(M){return{lower:f(M),upper:d(M)}}).sort(function(M,x){return p(M.lower,x.lower)});m=A.map(function(M){return M.upper}),g=A.map(function(M){return M.lower}),_=E,C=E==="next"?"":l}D("next");var k=new o.Collection(o,function(){return Vt(m[0],g[b-1]+l)});k._ondirectionchange=function(E){D(E)};var w=0;return k._addAlgorithm(function(E,A,M){var x=E.key;if(typeof x!="string")return!1;var T=f(x);if(s(T,g,w))return!0;for(var R=null,I=w;I<b;++I){var P=af(x,T,m[I],g[I],p,_);P===null&&R===null?w=I+1:(R===null||p(R,P)>0)&&(R=P)}return A(R!==null?function(){E.continue(R+C)}:M),!1}),k}function Vt(o,s,c,l){return{type:2,lower:o,upper:s,lowerOpen:c,upperOpen:l}}function ul(o){return{type:1,lower:o,upper:o}}var dl=function(){function o(){}return Object.defineProperty(o.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),o.prototype.between=function(s,c,l,d){l=l!==!1,d=d===!0;try{return this._cmp(s,c)>0||this._cmp(s,c)===0&&(l||d)&&!(l&&d)?jn(this):new this.Collection(this,function(){return Vt(s,c,!l,!d)})}catch{return He(this,St)}},o.prototype.equals=function(s){return s==null?He(this,St):new this.Collection(this,function(){return ul(s)})},o.prototype.above=function(s){return s==null?He(this,St):new this.Collection(this,function(){return Vt(s,void 0,!0)})},o.prototype.aboveOrEqual=function(s){return s==null?He(this,St):new this.Collection(this,function(){return Vt(s,void 0,!1)})},o.prototype.below=function(s){return s==null?He(this,St):new this.Collection(this,function(){return Vt(void 0,s,!1,!0)})},o.prototype.belowOrEqual=function(s){return s==null?He(this,St):new this.Collection(this,function(){return Vt(void 0,s)})},o.prototype.startsWith=function(s){return typeof s!="string"?He(this,nl):this.between(s,s+an,!0,!0)},o.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Nr(this,function(c,l){return c.indexOf(l[0])===0},[s],an)},o.prototype.equalsIgnoreCase=function(s){return Nr(this,function(c,l){return c===l[0]},[s],"")},o.prototype.anyOfIgnoreCase=function(){var s=Et.apply(Tn,arguments);return s.length===0?jn(this):Nr(this,function(c,l){return l.indexOf(c)!==-1},s,"")},o.prototype.startsWithAnyOfIgnoreCase=function(){var s=Et.apply(Tn,arguments);return s.length===0?jn(this):Nr(this,function(c,l){return l.some(function(d){return c.indexOf(d)===0})},s,an)},o.prototype.anyOf=function(){var s=this,c=Et.apply(Tn,arguments),l=this._cmp;try{c.sort(l)}catch{return He(this,St)}if(c.length===0)return jn(this);var d=new this.Collection(this,function(){return Vt(c[0],c[c.length-1])});d._ondirectionchange=function(p){l=p==="next"?s._ascending:s._descending,c.sort(l)};var f=0;return d._addAlgorithm(function(p,m,g){for(var _=p.key;l(_,c[f])>0;)if(++f,f===c.length)return m(g),!1;return l(_,c[f])===0?!0:(m(function(){p.continue(c[f])}),!1)}),d},o.prototype.notEqual=function(s){return this.inAnyRange([[Ms,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},o.prototype.noneOf=function(){var s=Et.apply(Tn,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return He(this,St)}var c=s.reduce(function(l,d){return l?l.concat([[l[l.length-1][1],d]]):[[Ms,d]]},null);return c.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},o.prototype.inAnyRange=function(s,c){var l=this,d=this._cmp,f=this._ascending,p=this._descending,m=this._min,g=this._max;if(s.length===0)return jn(this);if(!s.every(function(I){return I[0]!==void 0&&I[1]!==void 0&&f(I[0],I[1])<=0}))return He(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var _=!c||c.includeLowers!==!1,C=c&&c.includeUppers===!0;function b(I,P){for(var V=0,B=I.length;V<B;++V){var X=I[V];if(d(P[0],X[1])<0&&d(P[1],X[0])>0){X[0]=m(X[0],P[0]),X[1]=g(X[1],P[1]);break}}return V===B&&I.push(P),I}var D=f;function k(I,P){return D(I[0],P[0])}var w;try{w=s.reduce(b,[]),w.sort(k)}catch{return He(this,St)}var E=0,A=C?function(I){return f(I,w[E][1])>0}:function(I){return f(I,w[E][1])>=0},M=_?function(I){return p(I,w[E][0])>0}:function(I){return p(I,w[E][0])>=0};function x(I){return!A(I)&&!M(I)}var T=A,R=new this.Collection(this,function(){return Vt(w[0][0],w[w.length-1][1],!_,!C)});return R._ondirectionchange=function(I){I==="next"?(T=A,D=f):(T=M,D=p),w.sort(k)},R._addAlgorithm(function(I,P,V){for(var B=I.key;T(B);)if(++E,E===w.length)return P(V),!1;return x(B)?!0:(l._cmp(B,w[E][1])===0||l._cmp(B,w[E][0])===0||P(function(){D===f?I.continue(w[E][0]):I.continue(w[E][1])}),!1)}),R},o.prototype.startsWithAnyOf=function(){var s=Et.apply(Tn,arguments);return s.every(function(c){return typeof c=="string"})?s.length===0?jn(this):this.inAnyRange(s.map(function(c){return[c,c+an]})):He(this,"startsWithAnyOf() only works with strings")},o}();function cf(o){return _i(dl.prototype,function(c,l,d){if(this.db=o,this._ctx={table:c,index:l===":id"?null:l,or:d},this._cmp=this._ascending=ue,this._descending=function(f,p){return ue(p,f)},this._max=function(f,p){return ue(f,p)>0?f:p},this._min=function(f,p){return ue(f,p)<0?f:p},this._IDBKeyRange=o._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})}function pt(o){return _e(function(s){return wi(s),o(s.target.error),!1})}function wi(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Ci="storagemutated",Ps="x-storagemutated-1",jt=yi(null,Ci),lf=function(){function o(){}return o.prototype._lock=function(){return Ce(!$.global),++this._reculock,this._reculock===1&&!$.global&&($.lockOwnerFor=this),this},o.prototype._unlock=function(){if(Ce(!$.global),--this._reculock===0)for($.global||($.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var s=this._blockedFuncs.shift();try{sn(s[1],s[0])}catch{}}return this},o.prototype._locked=function(){return this._reculock&&$.lockOwnerFor!==this},o.prototype.create=function(s){var c=this;if(!this.mode)return this;var l=this.db.idbdb,d=this.db._state.dbOpenError;if(Ce(!this.idbtrans),!s&&!l)switch(d&&d.name){case"DatabaseClosedError":throw new G.DatabaseClosed(d);case"MissingAPIError":throw new G.MissingAPI(d.message,d);default:throw new G.OpenFailed(d)}if(!this.active)throw new G.TransactionInactive;return Ce(this._completion._state===null),s=this.idbtrans=s||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):l.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),s.onerror=_e(function(f){wi(f),c._reject(s.error)}),s.onabort=_e(function(f){wi(f),c.active&&c._reject(new G.Abort(s.error)),c.active=!1,c.on("abort").fire(f)}),s.oncomplete=_e(function(){c.active=!1,c._resolve(),"mutatedParts"in s&&jt.storagemutated.fire(s.mutatedParts)}),this},o.prototype._promise=function(s,c,l){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return Ae(new G.ReadOnly("Transaction is readonly"));if(!this.active)return Ae(new G.TransactionInactive);if(this._locked())return new N(function(p,m){d._blockedFuncs.push([function(){d._promise(s,c,l).then(p,m)},$])});if(l)return Pt(function(){var p=new N(function(m,g){d._lock();var _=c(m,g,d);_&&_.then&&_.then(m,g)});return p.finally(function(){return d._unlock()}),p._lib=!0,p});var f=new N(function(p,m){var g=c(p,m,d);g&&g.then&&g.then(p,m)});return f._lib=!0,f},o.prototype._root=function(){return this.parent?this.parent._root():this},o.prototype.waitFor=function(s){var c=this._root(),l=N.resolve(s);if(c._waitingFor)c._waitingFor=c._waitingFor.then(function(){return l});else{c._waitingFor=l,c._waitingQueue=[];var d=c.idbtrans.objectStore(c.storeNames[0]);(function p(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(d.get(-1/0).onsuccess=p)})()}var f=c._waitingFor;return new N(function(p,m){l.then(function(g){return c._waitingQueue.push(_e(p.bind(null,g)))},function(g){return c._waitingQueue.push(_e(m.bind(null,g)))}).finally(function(){c._waitingFor===f&&(c._waitingFor=null)})})},o.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},o.prototype.table=function(s){var c=this._memoizedTables||(this._memoizedTables={});if(S(c,s))return c[s];var l=this.schema[s];if(!l)throw new G.NotFound("Table "+s+" not part of transaction");var d=new this.db.Table(s,l,this);return d.core=this.db.core.table(s),c[s]=d,d},o}();function uf(o){return _i(lf.prototype,function(c,l,d,f,p){var m=this;this.db=o,this.mode=c,this.storeNames=l,this.schema=d,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=yi(this,"complete","error","abort"),this.parent=p||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new N(function(g,_){m._resolve=g,m._reject=_}),this._completion.then(function(){m.active=!1,m.on.complete.fire()},function(g){var _=m.active;return m.active=!1,m.on.error.fire(g),m.parent?m.parent._reject(g):_&&m.idbtrans&&m.idbtrans.abort(),Ae(g)})})}function Fs(o,s,c,l,d,f,p){return{name:o,keyPath:s,unique:c,multi:l,auto:d,compound:f,src:(c&&!p?"&":"")+(l?"*":"")+(d?"++":"")+hl(s)}}function hl(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Ns(o,s,c){return{name:o,primKey:s,indexes:c,mappedClass:null,idxByName:Ct(c,function(l){return[l.name,l]})}}function df(o){return o.length===1?o[0]:o}var Ei=function(o){try{return o.only([[]]),Ei=function(){return[[]]},[[]]}catch{return Ei=function(){return an},an}};function Vs(o){return o==null?function(){}:typeof o=="string"?hf(o):function(s){return $e(s,o)}}function hf(o){var s=o.split(".");return s.length===1?function(c){return c[o]}:function(c){return $e(c,o)}}function fl(o){return[].slice.call(o)}var ff=0;function Si(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function pf(o,s,c){function l(b,D){var k=fl(b.objectStoreNames);return{schema:{name:b.name,tables:k.map(function(w){return D.objectStore(w)}).map(function(w){var E=w.keyPath,A=w.autoIncrement,M=u(E),x=E==null,T={},R={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:x,compound:M,keyPath:E,autoIncrement:A,unique:!0,extractKey:Vs(E)},indexes:fl(w.indexNames).map(function(I){return w.index(I)}).map(function(I){var P=I.name,V=I.unique,B=I.multiEntry,X=I.keyPath,te=u(X),H={name:P,compound:te,keyPath:X,unique:V,multiEntry:B,extractKey:Vs(X)};return T[Si(X)]=H,H}),getIndexByKeyPath:function(I){return T[Si(I)]}};return T[":id"]=R.primaryKey,E!=null&&(T[Si(E)]=R.primaryKey),R})},hasGetAll:k.length>0&&"getAll"in D.objectStore(k[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function d(b){if(b.type===3)return null;if(b.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=b.lower,k=b.upper,w=b.lowerOpen,E=b.upperOpen,A=D===void 0?k===void 0?null:s.upperBound(k,!!E):k===void 0?s.lowerBound(D,!!w):s.bound(D,k,!!w,!!E);return A}function f(b){var D=b.name;function k(A){var M=A.trans,x=A.type,T=A.keys,R=A.values,I=A.range;return new Promise(function(P,V){P=_e(P);var B=M.objectStore(D),X=B.keyPath==null,te=x==="put"||x==="add";if(!te&&x!=="delete"&&x!=="deleteRange")throw new Error("Invalid operation type: "+x);var H=(T||R||{length:1}).length;if(T&&R&&T.length!==R.length)throw new Error("Given keys array must have same length as given values array.");if(H===0)return P({numFailures:0,failures:{},results:[],lastResult:void 0});var ae,J=[],fe=[],q=0,Re=function(gt){++q,wi(gt)};if(x==="deleteRange"){if(I.type===4)return P({numFailures:q,failures:fe,results:[],lastResult:void 0});I.type===3?J.push(ae=B.clear()):J.push(ae=B.delete(d(I)))}else{var ot=te?X?[R,T]:[R,null]:[T,null],Ut=ot[0],mt=ot[1];if(te)for(var Qe=0;Qe<H;++Qe)J.push(ae=mt&&mt[Qe]!==void 0?B[x](Ut[Qe],mt[Qe]):B[x](Ut[Qe])),ae.onerror=Re;else for(var Qe=0;Qe<H;++Qe)J.push(ae=B[x](Ut[Qe])),ae.onerror=Re}var zt=function(gt){var Ai=gt.target.result;J.forEach(function(st,qr){return st.error!=null&&(fe[qr]=st.error)}),P({numFailures:q,failures:fe,results:x==="delete"?T:J.map(function(st){return st.result}),lastResult:Ai})};ae.onerror=function(gt){Re(gt),zt(gt)},ae.onsuccess=zt})}function w(A){var M=A.trans,x=A.values,T=A.query,R=A.reverse,I=A.unique;return new Promise(function(P,V){P=_e(P);var B=T.index,X=T.range,te=M.objectStore(D),H=B.isPrimaryKey?te:te.index(B.name),ae=R?I?"prevunique":"prev":I?"nextunique":"next",J=x||!("openKeyCursor"in H)?H.openCursor(d(X),ae):H.openKeyCursor(d(X),ae);J.onerror=pt(V),J.onsuccess=_e(function(fe){var q=J.result;if(!q){P(null);return}q.___id=++ff,q.done=!1;var Re=q.continue.bind(q),ot=q.continuePrimaryKey;ot&&(ot=ot.bind(q));var Ut=q.advance.bind(q),mt=function(){throw new Error("Cursor not started")},Qe=function(){throw new Error("Cursor not stopped")};q.trans=M,q.stop=q.continue=q.continuePrimaryKey=q.advance=mt,q.fail=_e(V),q.next=function(){var zt=this,gt=1;return this.start(function(){return gt--?zt.continue():zt.stop()}).then(function(){return zt})},q.start=function(zt){var gt=new Promise(function(st,qr){st=_e(st),J.onerror=pt(qr),q.fail=qr,q.stop=function(tp){q.stop=q.continue=q.continuePrimaryKey=q.advance=Qe,st(tp)}}),Ai=function(){if(J.result)try{zt()}catch(st){q.fail(st)}else q.done=!0,q.start=function(){throw new Error("Cursor behind last entry")},q.stop()};return J.onsuccess=_e(function(st){J.onsuccess=Ai,Ai()}),q.continue=Re,q.continuePrimaryKey=ot,q.advance=Ut,Ai(),gt},P(q)},V)})}function E(A){return function(M){return new Promise(function(x,T){x=_e(x);var R=M.trans,I=M.values,P=M.limit,V=M.query,B=P===1/0?void 0:P,X=V.index,te=V.range,H=R.objectStore(D),ae=X.isPrimaryKey?H:H.index(X.name),J=d(te);if(P===0)return x({result:[]});if(A){var fe=I?ae.getAll(J,B):ae.getAllKeys(J,B);fe.onsuccess=function(Ut){return x({result:Ut.target.result})},fe.onerror=pt(T)}else{var q=0,Re=I||!("openKeyCursor"in ae)?ae.openCursor(J):ae.openKeyCursor(J),ot=[];Re.onsuccess=function(Ut){var mt=Re.result;if(!mt)return x({result:ot});if(ot.push(I?mt.value:mt.primaryKey),++q===P)return x({result:ot});mt.continue()},Re.onerror=pt(T)}})}}return{name:D,schema:b,mutate:k,getMany:function(A){var M=A.trans,x=A.keys;return new Promise(function(T,R){T=_e(T);for(var I=M.objectStore(D),P=x.length,V=new Array(P),B=0,X=0,te,H=function(q){var Re=q.target;(V[Re._pos]=Re.result)!=null,++X===B&&T(V)},ae=pt(R),J=0;J<P;++J){var fe=x[J];fe!=null&&(te=I.get(x[J]),te._pos=J,te.onsuccess=H,te.onerror=ae,++B)}B===0&&T(V)})},get:function(A){var M=A.trans,x=A.key;return new Promise(function(T,R){T=_e(T);var I=M.objectStore(D),P=I.get(x);P.onsuccess=function(V){return T(V.target.result)},P.onerror=pt(R)})},query:E(g),openCursor:w,count:function(A){var M=A.query,x=A.trans,T=M.index,R=M.range;return new Promise(function(I,P){var V=x.objectStore(D),B=T.isPrimaryKey?V:V.index(T.name),X=d(R),te=X?B.count(X):B.count();te.onsuccess=_e(function(H){return I(H.target.result)}),te.onerror=pt(P)})}}}var p=l(o,c),m=p.schema,g=p.hasGetAll,_=m.tables.map(function(b){return f(b)}),C={};return _.forEach(function(b){return C[b.name]=b}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(b){var D=C[b];if(!D)throw new Error("Table '".concat(b,"' not found"));return C[b]},MIN_KEY:-1/0,MAX_KEY:Ei(s),schema:m}}function mf(o,s){return s.reduce(function(c,l){var d=l.create;return r(r({},c),d(c))},o)}function gf(o,s,c,l){var d=c.IDBKeyRange;c.indexedDB;var f=mf(pf(s,d,l),o.dbcore);return{dbcore:f}}function Vr(o,s){var c=s.db,l=gf(o._middlewares,c,o._deps,s);o.core=l.dbcore,o.tables.forEach(function(d){var f=d.name;o.core.schema.tables.some(function(p){return p.name===f})&&(d.core=o.core.table(f),o[f]instanceof o.Table&&(o[f].core=d.core))})}function jr(o,s,c,l){c.forEach(function(d){var f=l[d];s.forEach(function(p){var m=ne(p,d);(!m||"value"in m&&m.value===void 0)&&(p===o.Transaction.prototype||p instanceof o.Transaction?Y(p,d,{get:function(){return this.table(d)},set:function(g){F(this,d,{value:g,writable:!0,configurable:!0,enumerable:!0})}}):p[d]=new o.Table(d,f))})})}function js(o,s){s.forEach(function(c){for(var l in c)c[l]instanceof o.Table&&delete c[l]})}function vf(o,s){return o._cfg.version-s._cfg.version}function yf(o,s,c,l){var d=o._dbSchema;c.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=Ns("$meta",ml("")[0],[]),o._storeNames.push("$meta"));var f=o._createTransaction("readwrite",o._storeNames,d);f.create(c),f._completion.catch(l);var p=f._reject.bind(f),m=$.transless||$;Pt(function(){if($.trans=f,$.transless=m,s===0)a(d).forEach(function(g){Bs(c,g,d[g].primKey,d[g].indexes)}),Vr(o,c),N.follow(function(){return o.on.populate.fire(f)}).catch(p);else return Vr(o,c),bf(o,f,s).then(function(g){return wf(o,g,f,c)}).catch(p)})}function _f(o,s){pl(o._dbSchema,s),s.db.version%10===0&&!s.objectStoreNames.contains("$meta")&&s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var c=Br(o,o.idbdb,s);Ur(o,o._dbSchema,s);for(var l=Ls(c,o._dbSchema),d=function(_){if(_.change.length||_.recreate)return console.warn("Unable to patch indexes of table ".concat(_.name," because it has changes on the type of index or primary key.")),{value:void 0};var C=s.objectStore(_.name);_.add.forEach(function(b){ft&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_.name,".").concat(b.src)),Lr(C,b)})},f=0,p=l.change;f<p.length;f++){var m=p[f],g=d(m);if(typeof g=="object")return g.value}}function bf(o,s,c){return s.storeNames.includes("$meta")?s.table("$meta").get("version").then(function(l){return l??c}):N.resolve(c)}function wf(o,s,c,l){var d=[],f=o._versions,p=o._dbSchema=Br(o,o.idbdb,l),m=f.filter(function(_){return _._cfg.version>=s});if(m.length===0)return N.resolve();m.forEach(function(_){d.push(function(){var C=p,b=_._cfg.dbschema;Ur(o,C,l),Ur(o,b,l),p=o._dbSchema=b;var D=Ls(C,b);D.add.forEach(function(x){Bs(l,x[0],x[1].primKey,x[1].indexes)}),D.change.forEach(function(x){if(x.recreate)throw new G.Upgrade("Not yet support for changing primary key");var T=l.objectStore(x.name);x.add.forEach(function(R){return Lr(T,R)}),x.change.forEach(function(R){T.deleteIndex(R.name),Lr(T,R)}),x.del.forEach(function(R){return T.deleteIndex(R)})});var k=_._cfg.contentUpgrade;if(k&&_._cfg.version>s){Vr(o,l),c._memoizedTables={};var w=Lc(b);D.del.forEach(function(x){w[x]=C[x]}),js(o,[o.Transaction.prototype]),jr(o,[o.Transaction.prototype],a(w),w),c.schema=w;var E=ps(k);E&&Fn();var A,M=N.follow(function(){if(A=k(c),A&&E){var x=Ft.bind(null,null);A.then(x,x)}});return A&&typeof A.then=="function"?N.resolve(A):M.then(function(){return A})}}),d.push(function(C){var b=_._cfg.dbschema;Cf(b,C),js(o,[o.Transaction.prototype]),jr(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),c.schema=o._dbSchema}),d.push(function(C){o.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(o.idbdb.version/10)===_._cfg.version?(o.idbdb.deleteObjectStore("$meta"),delete o._dbSchema.$meta,o._storeNames=o._storeNames.filter(function(b){return b!=="$meta"})):C.objectStore("$meta").put(_._cfg.version,"version"))})});function g(){return d.length?N.resolve(d.shift()(c.idbtrans)).then(g):N.resolve()}return g().then(function(){pl(p,l)})}function Ls(o,s){var c={del:[],add:[],change:[]},l;for(l in o)s[l]||c.del.push(l);for(l in s){var d=o[l],f=s[l];if(!d)c.add.push([l,f]);else{var p={name:l,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(f.primKey.keyPath||"")||d.primKey.auto!==f.primKey.auto)p.recreate=!0,c.change.push(p);else{var m=d.idxByName,g=f.idxByName,_=void 0;for(_ in m)g[_]||p.del.push(_);for(_ in g){var C=m[_],b=g[_];C?C.src!==b.src&&p.change.push(b):p.add.push(b)}(p.del.length>0||p.add.length>0||p.change.length>0)&&c.change.push(p)}}}return c}function Bs(o,s,c,l){var d=o.db.createObjectStore(s,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return l.forEach(function(f){return Lr(d,f)}),d}function pl(o,s){a(o).forEach(function(c){s.db.objectStoreNames.contains(c)||(ft&&console.debug("Dexie: Creating missing table",c),Bs(s,c,o[c].primKey,o[c].indexes))})}function Cf(o,s){[].slice.call(s.db.objectStoreNames).forEach(function(c){return o[c]==null&&s.db.deleteObjectStore(c)})}function Lr(o,s){o.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function Br(o,s,c){var l={},d=Me(s.objectStoreNames,0);return d.forEach(function(f){for(var p=c.objectStore(f),m=p.keyPath,g=Fs(hl(m),m||"",!0,!1,!!p.autoIncrement,m&&typeof m!="string",!0),_=[],C=0;C<p.indexNames.length;++C){var b=p.index(p.indexNames[C]);m=b.keyPath;var D=Fs(b.name,m,!!b.unique,!!b.multiEntry,!1,m&&typeof m!="string",!1);_.push(D)}l[f]=Ns(f,g,_)}),l}function Ef(o,s,c){o.verno=s.version/10;var l=o._dbSchema=Br(o,s,c);o._storeNames=Me(s.objectStoreNames,0),jr(o,[o._allTables],a(l),l)}function Sf(o,s){var c=Br(o,o.idbdb,s),l=Ls(c,o._dbSchema);return!(l.add.length||l.change.some(function(d){return d.add.length||d.change.length}))}function Ur(o,s,c){for(var l=c.db.objectStoreNames,d=0;d<l.length;++d){var f=l[d],p=c.objectStore(f);o._hasGetAll="getAll"in p;for(var m=0;m<p.indexNames.length;++m){var g=p.indexNames[m],_=p.index(g).keyPath,C=typeof _=="string"?_:"["+Me(_).join("+")+"]";if(s[f]){var b=s[f].idxByName[C];b&&(b.name=g,delete s[f].idxByName[C],s[f].idxByName[g]=b)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function ml(o){return o.split(",").map(function(s,c){s=s.trim();var l=s.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Fs(l,d||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),u(d),c===0)})}var If=function(){function o(){}return o.prototype._parseStoresSpec=function(s,c){a(s).forEach(function(l){if(s[l]!==null){var d=ml(s[l]),f=d.shift();if(f.unique=!0,f.multi)throw new G.Schema("Primary key cannot be multi-valued");d.forEach(function(p){if(p.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!p.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),c[l]=Ns(l,f,d)}})},o.prototype.stores=function(s){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,s):s;var l=c._versions,d={},f={};return l.forEach(function(p){h(d,p._cfg.storesSource),f=p._cfg.dbschema={},p._parseStoresSpec(d,f)}),c._dbSchema=f,js(c,[c._allTables,c,c.Transaction.prototype]),jr(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],a(f),f),c._storeNames=a(f),this},o.prototype.upgrade=function(s){return this._cfg.contentUpgrade=vs(this._cfg.contentUpgrade||he,s),this},o}();function Df(o){return _i(If.prototype,function(c){this.db=o,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Us(o,s){var c=o._dbNamesDB;return c||(c=o._dbNamesDB=new It(Or,{addons:[],indexedDB:o,IDBKeyRange:s}),c.version(1).stores({dbnames:"name"})),c.table("dbnames")}function zs(o){return o&&typeof o.databases=="function"}function Af(o){var s=o.indexedDB,c=o.IDBKeyRange;return zs(s)?Promise.resolve(s.databases()).then(function(l){return l.map(function(d){return d.name}).filter(function(d){return d!==Or})}):Us(s,c).toCollection().primaryKeys()}function Mf(o,s){var c=o.indexedDB,l=o.IDBKeyRange;!zs(c)&&s!==Or&&Us(c,l).put({name:s}).catch(he)}function xf(o,s){var c=o.indexedDB,l=o.IDBKeyRange;!zs(c)&&s!==Or&&Us(c,l).delete(s).catch(he)}function $s(o){return Pt(function(){return $.letThrough=!0,o()})}function Tf(){var o=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!o||!indexedDB.databases)return Promise.resolve();var s;return new Promise(function(c){var l=function(){return indexedDB.databases().finally(c)};s=setInterval(l,100),l()}).finally(function(){return clearInterval(s)})}var Ws;function Ks(o){return!("from"in o)}var Be=function(o,s){if(this)h(this,arguments.length?{d:1,from:o,to:arguments.length>1?s:o}:{d:0});else{var c=new Be;return o&&"d"in o&&h(c,o),c}};O(Be.prototype,(Ws={add:function(o){return Di(this,o),this},addKey:function(o){return Ii(this,o,o),this},addKeys:function(o){var s=this;return o.forEach(function(c){return Ii(s,c,c)}),this}},Ws[fs]=function(){return Gs(this)},Ws));function Ii(o,s,c){var l=ue(s,c);if(!isNaN(l)){if(l>0)throw RangeError();if(Ks(o))return h(o,{from:s,to:c,d:1});var d=o.l,f=o.r;if(ue(c,o.from)<0)return d?Ii(d,s,c):o.l={from:s,to:c,d:1,l:null,r:null},gl(o);if(ue(s,o.to)>0)return f?Ii(f,s,c):o.r={from:s,to:c,d:1,l:null,r:null},gl(o);ue(s,o.from)<0&&(o.from=s,o.l=null,o.d=f?f.d+1:1),ue(c,o.to)>0&&(o.to=c,o.r=null,o.d=o.l?o.l.d+1:1);var p=!o.r;d&&!o.l&&Di(o,d),f&&p&&Di(o,f)}}function Di(o,s){function c(l,d){var f=d.from,p=d.to,m=d.l,g=d.r;Ii(l,f,p),m&&c(l,m),g&&c(l,g)}Ks(s)||c(o,s)}function zr(o,s){var c=Gs(s),l=c.next();if(l.done)return!1;for(var d=l.value,f=Gs(o),p=f.next(d.from),m=p.value;!l.done&&!p.done;){if(ue(m.from,d.to)<=0&&ue(m.to,d.from)>=0)return!0;ue(d.from,m.from)<0?d=(l=c.next(m.from)).value:m=(p=f.next(d.from)).value}return!1}function Gs(o){var s=Ks(o)?null:{s:0,n:o};return{next:function(c){for(var l=arguments.length>0;s;)switch(s.s){case 0:if(s.s=1,l)for(;s.n.l&&ue(c,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!l||ue(c,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function gl(o){var s,c,l=(((s=o.r)===null||s===void 0?void 0:s.d)||0)-(((c=o.l)===null||c===void 0?void 0:c.d)||0),d=l>1?"r":l<-1?"l":"";if(d){var f=d==="r"?"l":"r",p=r({},o),m=o[d];o.from=m.from,o.to=m.to,o[d]=m[d],p[d]=m[f],o[f]=p,p.d=vl(p)}o.d=vl(o)}function vl(o){var s=o.r,c=o.l;return(s?c?Math.max(s.d,c.d):s.d:c?c.d:0)+1}function $r(o,s){return a(s).forEach(function(c){o[c]?Di(o[c],s[c]):o[c]=zc(s[c])}),o}function Hs(o,s){return o.all||s.all||Object.keys(o).some(function(c){return s[c]&&zr(s[c],o[c])})}var ln={},qs={},Zs=!1;function Wr(o,s){$r(qs,o),Zs||(Zs=!0,setTimeout(function(){Zs=!1;var c=qs;qs={},Ys(c,!1)},0))}function Ys(o,s){s===void 0&&(s=!1);var c=new Set;if(o.all)for(var l=0,d=Object.values(ln);l<d.length;l++){var f=d[l];yl(f,o,c,s)}else for(var p in o){var m=/^idb\:\/\/(.*)\/(.*)\//.exec(p);if(m){var g=m[1],_=m[2],f=ln["idb://".concat(g,"/").concat(_)];f&&yl(f,o,c,s)}}c.forEach(function(C){return C()})}function yl(o,s,c,l){for(var d=[],f=0,p=Object.entries(o.queries.query);f<p.length;f++){for(var m=p[f],g=m[0],_=m[1],C=[],b=0,D=_;b<D.length;b++){var k=D[b];Hs(s,k.obsSet)?k.subscribers.forEach(function(M){return c.add(M)}):l&&C.push(k)}l&&d.push([g,C])}if(l)for(var w=0,E=d;w<E.length;w++){var A=E[w],g=A[0],C=A[1];o.queries.query[g]=C}}function Rf(o){var s=o._state,c=o._deps.indexedDB;if(s.isBeingOpened||o.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?Ae(s.dbOpenError):o});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var l=s.openCanceller,d=Math.round(o.verno*10),f=!1;function p(){if(s.openCanceller!==l)throw new G.DatabaseClosed("db.open() was cancelled")}var m=s.dbReadyResolve,g=null,_=!1,C=function(){return new N(function(b,D){if(p(),!c)throw new G.MissingAPI;var k=o.name,w=s.autoSchema||!d?c.open(k):c.open(k,d);if(!w)throw new G.MissingAPI;w.onerror=pt(D),w.onblocked=_e(o._fireOnBlocked),w.onupgradeneeded=_e(function(E){if(g=w.transaction,s.autoSchema&&!o._options.allowEmptyDB){w.onerror=wi,g.abort(),w.result.close();var A=c.deleteDatabase(k);A.onsuccess=A.onerror=_e(function(){D(new G.NoSuchDatabase("Database ".concat(k," doesnt exist")))})}else{g.onerror=pt(D);var M=E.oldVersion>Math.pow(2,62)?0:E.oldVersion;_=M<1,o.idbdb=w.result,f&&_f(o,g),yf(o,M/10,g,D)}},D),w.onsuccess=_e(function(){g=null;var E=o.idbdb=w.result,A=Me(E.objectStoreNames);if(A.length>0)try{var M=E.transaction(df(A),"readonly");if(s.autoSchema)Ef(o,E,M);else if(Ur(o,o._dbSchema,M),!Sf(o,M)&&!f)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),E.close(),d=E.version+1,f=!0,b(C());Vr(o,M)}catch{}Nn.push(o),E.onversionchange=_e(function(x){s.vcFired=!0,o.on("versionchange").fire(x)}),E.onclose=_e(function(x){o.on("close").fire(x)}),_&&Mf(o._deps,k),b()},D)}).catch(function(b){switch(b?.name){case"UnknownError":if(s.PR1398_maxLoop>0)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),C();break;case"VersionError":if(d>0)return d=0,C();break}return N.reject(b)})};return N.race([l,(typeof navigator>"u"?N.resolve():Tf()).then(C)]).then(function(){return p(),s.onReadyBeingFired=[],N.resolve($s(function(){return o.on.ready.fire(o.vip)})).then(function b(){if(s.onReadyBeingFired.length>0){var D=s.onReadyBeingFired.reduce(vs,he);return s.onReadyBeingFired=[],N.resolve($s(function(){return D(o.vip)})).then(b)}})}).finally(function(){s.openCanceller===l&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(b){s.dbOpenError=b;try{g&&g.abort()}catch{}return l===s.openCanceller&&o._close(),Ae(b)}).finally(function(){s.openComplete=!0,m()}).then(function(){if(_){var b={};o.tables.forEach(function(D){D.schema.indexes.forEach(function(k){k.name&&(b["idb://".concat(o.name,"/").concat(D.name,"/").concat(k.name)]=new Be(-1/0,[[[]]]))}),b["idb://".concat(o.name,"/").concat(D.name,"/")]=b["idb://".concat(o.name,"/").concat(D.name,"/:dels")]=new Be(-1/0,[[[]]])}),jt(Ci).fire(b),Ys(b,!0)}return o})}function Xs(o){var s=function(p){return o.next(p)},c=function(p){return o.throw(p)},l=f(s),d=f(c);function f(p){return function(m){var g=p(m),_=g.value;return g.done?_:!_||typeof _.then!="function"?u(_)?Promise.all(_).then(l,d):l(_):_.then(l,d)}}return f(s)()}function Of(o,s,c){var l=arguments.length;if(l<2)throw new G.InvalidArgument("Too few arguments");for(var d=new Array(l-1);--l;)d[l-1]=arguments[l];c=d.pop();var f=Bc(d);return[o,f,c]}function _l(o,s,c,l,d){return N.resolve().then(function(){var f=$.transless||$,p=o._createTransaction(s,c,o._dbSchema,l);p.explicit=!0;var m={trans:p,transless:f};if(l)p.idbtrans=l.idbtrans;else try{p.create(),p.idbtrans._explicit=!0,o._state.PR1398_maxLoop=3}catch(b){return b.name===gs.InvalidState&&o.isOpen()&&--o._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),o.close({disableAutoOpen:!1}),o.open().then(function(){return _l(o,s,c,null,d)})):Ae(b)}var g=ps(d);g&&Fn();var _,C=N.follow(function(){if(_=d.call(p,p),_)if(g){var b=Ft.bind(null,null);_.then(b,b)}else typeof _.next=="function"&&typeof _.throw=="function"&&(_=Xs(_))},m);return(_&&typeof _.then=="function"?N.resolve(_).then(function(b){return p.active?b:Ae(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):C.then(function(){return _})).then(function(b){return l&&p._resolve(),p._completion.then(function(){return b})}).catch(function(b){return p._reject(b),Ae(b)})})}function Kr(o,s,c){for(var l=u(o)?o.slice():[o],d=0;d<c;++d)l.push(s);return l}function kf(o){return r(r({},o),{table:function(s){var c=o.table(s),l=c.schema,d={},f=[];function p(E,A,M){var x=Si(E),T=d[x]=d[x]||[],R=E==null?0:typeof E=="string"?1:E.length,I=A>0,P=r(r({},M),{name:I?"".concat(x,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:I,keyTail:A,keyLength:R,extractKey:Vs(E),unique:!I&&M.unique});if(T.push(P),P.isPrimaryKey||f.push(P),R>1){var V=R===2?E[0]:E.slice(0,R-1);p(V,A+1,M)}return T.sort(function(B,X){return B.keyTail-X.keyTail}),P}var m=p(l.primaryKey.keyPath,0,l.primaryKey);d[":id"]=[m];for(var g=0,_=l.indexes;g<_.length;g++){var C=_[g];p(C.keyPath,0,C)}function b(E){var A=d[Si(E)];return A&&A[0]}function D(E,A){return{type:E.type===1?2:E.type,lower:Kr(E.lower,E.lowerOpen?o.MAX_KEY:o.MIN_KEY,A),lowerOpen:!0,upper:Kr(E.upper,E.upperOpen?o.MIN_KEY:o.MAX_KEY,A),upperOpen:!0}}function k(E){var A=E.query.index;return A.isVirtual?r(r({},E),{query:{index:A.lowLevelIndex,range:D(E.query.range,A.keyTail)}}):E}var w=r(r({},c),{schema:r(r({},l),{primaryKey:m,indexes:f,getIndexByKeyPath:b}),count:function(E){return c.count(k(E))},query:function(E){return c.query(k(E))},openCursor:function(E){var A=E.query.index,M=A.keyTail,x=A.isVirtual,T=A.keyLength;if(!x)return c.openCursor(E);function R(I){function P(B){B!=null?I.continue(Kr(B,E.reverse?o.MAX_KEY:o.MIN_KEY,M)):E.unique?I.continue(I.key.slice(0,T).concat(E.reverse?o.MIN_KEY:o.MAX_KEY,M)):I.continue()}var V=Object.create(I,{continue:{value:P},continuePrimaryKey:{value:function(B,X){I.continuePrimaryKey(Kr(B,o.MAX_KEY,M),X)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var B=I.key;return T===1?B[0]:B.slice(0,T)}},value:{get:function(){return I.value}}});return V}return c.openCursor(k(E)).then(function(I){return I&&R(I)})}});return w}})}var Pf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:kf};function Qs(o,s,c,l){return c=c||{},l=l||"",a(o).forEach(function(d){if(!S(s,d))c[l+d]=void 0;else{var f=o[d],p=s[d];if(typeof f=="object"&&typeof p=="object"&&f&&p){var m=hs(f),g=hs(p);m!==g?c[l+d]=s[d]:m==="Object"?Qs(f,p,c,l+d+"."):f!==p&&(c[l+d]=s[d])}else f!==p&&(c[l+d]=s[d])}}),a(s).forEach(function(d){S(o,d)||(c[l+d]=s[d])}),c}function Js(o,s){return s.type==="delete"?s.keys:s.keys||s.values.map(o.extractKey)}var Ff={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(s){var c=o.table(s),l=c.schema.primaryKey,d=r(r({},c),{mutate:function(f){var p=$.trans,m=p.table(s).hook,g=m.deleting,_=m.creating,C=m.updating;switch(f.type){case"add":if(_.fire===he)break;return p._promise("readwrite",function(){return b(f)},!0);case"put":if(_.fire===he&&C.fire===he)break;return p._promise("readwrite",function(){return b(f)},!0);case"delete":if(g.fire===he)break;return p._promise("readwrite",function(){return b(f)},!0);case"deleteRange":if(g.fire===he)break;return p._promise("readwrite",function(){return D(f)},!0)}return c.mutate(f);function b(w){var E=$.trans,A=w.keys||Js(l,w);if(!A)throw new Error("Keys missing");return w=w.type==="add"||w.type==="put"?r(r({},w),{keys:A}):r({},w),w.type!=="delete"&&(w.values=t([],w.values,!0)),w.keys&&(w.keys=t([],w.keys,!0)),Nf(c,w,A).then(function(M){var x=A.map(function(T,R){var I=M[R],P={onerror:null,onsuccess:null};if(w.type==="delete")g.fire.call(P,T,I,E);else if(w.type==="add"||I===void 0){var V=_.fire.call(P,T,w.values[R],E);T==null&&V!=null&&(T=V,w.keys[R]=T,l.outbound||Le(w.values[R],l.keyPath,T))}else{var B=Qs(I,w.values[R]),X=C.fire.call(P,B,T,I,E);if(X){var te=w.values[R];Object.keys(X).forEach(function(H){S(te,H)?te[H]=X[H]:Le(te,H,X[H])})}}return P});return c.mutate(w).then(function(T){for(var R=T.failures,I=T.results,P=T.numFailures,V=T.lastResult,B=0;B<A.length;++B){var X=I?I[B]:A[B],te=x[B];X==null?te.onerror&&te.onerror(R[B]):te.onsuccess&&te.onsuccess(w.type==="put"&&M[B]?w.values[B]:X)}return{failures:R,results:I,numFailures:P,lastResult:V}}).catch(function(T){return x.forEach(function(R){return R.onerror&&R.onerror(T)}),Promise.reject(T)})})}function D(w){return k(w.trans,w.range,1e4)}function k(w,E,A){return c.query({trans:w,values:!1,query:{index:l,range:E},limit:A}).then(function(M){var x=M.result;return b({type:"delete",keys:x,trans:w}).then(function(T){return T.numFailures>0?Promise.reject(T.failures[0]):x.length<A?{failures:[],numFailures:0,lastResult:void 0}:k(w,r(r({},E),{lower:x[x.length-1],lowerOpen:!0}),A)})})}}});return d}})}};function Nf(o,s,c){return s.type==="add"?Promise.resolve([]):o.getMany({trans:s.trans,keys:c,cache:"immutable"})}function bl(o,s,c){try{if(!s||s.keys.length<o.length)return null;for(var l=[],d=0,f=0;d<s.keys.length&&f<o.length;++d)ue(s.keys[d],o[f])===0&&(l.push(c?Ot(s.values[d]):s.values[d]),++f);return l.length===o.length?l:null}catch{return null}}var Vf={stack:"dbcore",level:-1,create:function(o){return{table:function(s){var c=o.table(s);return r(r({},c),{getMany:function(l){if(!l.cache)return c.getMany(l);var d=bl(l.keys,l.trans._cache,l.cache==="clone");return d?N.resolve(d):c.getMany(l).then(function(f){return l.trans._cache={keys:l.keys,values:l.cache==="clone"?Ot(f):f},f})},mutate:function(l){return l.type!=="add"&&(l.trans._cache=null),c.mutate(l)}})}}}};function wl(o,s){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function Cl(o,s){switch(o){case"query":return s.values&&!s.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var jf={stack:"dbcore",level:0,name:"Observability",create:function(o){var s=o.schema.name,c=new Be(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(l,d,f){if($.subscr&&d!=="readonly")throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat($.querier));return o.transaction(l,d,f)},table:function(l){var d=o.table(l),f=d.schema,p=f.primaryKey,m=f.indexes,g=p.extractKey,_=p.outbound,C=p.autoIncrement&&m.filter(function(w){return w.compound&&w.keyPath.includes(p.keyPath)}),b=r(r({},d),{mutate:function(w){var E=w.trans,A=w.mutatedParts||(w.mutatedParts={}),M=function(H){var ae="idb://".concat(s,"/").concat(l,"/").concat(H);return A[ae]||(A[ae]=new Be)},x=M(""),T=M(":dels"),R=w.type,I=w.type==="deleteRange"?[w.range]:w.type==="delete"?[w.keys]:w.values.length<50?[Js(p,w).filter(function(H){return H}),w.values]:[],P=I[0],V=I[1],B=w.trans._cache;if(u(P)){x.addKeys(P);var X=R==="delete"||P.length===V.length?bl(P,B):null;X||T.addKeys(P),(X||V)&&Lf(M,f,X,V)}else if(P){var te={from:P.lower,to:P.upper};T.add(te),x.add(te)}else x.add(c),T.add(c),f.indexes.forEach(function(H){return M(H.name).add(c)});return d.mutate(w).then(function(H){return P&&(w.type==="add"||w.type==="put")&&(x.addKeys(H.results),C&&C.forEach(function(ae){var J=w.values.map(function(q){return ae.extractKey(q)}),fe=ae.keyPath.findIndex(function(q){return q===p.keyPath});H.results.forEach(function(q){return J[fe]=q}),M(ae.name).addKeys(J)})),E.mutatedParts=$r(E.mutatedParts||{},A),H})}}),D=function(w){var E,A,M=w.query,x=M.index,T=M.range;return[x,new Be((E=T.lower)!==null&&E!==void 0?E:o.MIN_KEY,(A=T.upper)!==null&&A!==void 0?A:o.MAX_KEY)]},k={get:function(w){return[p,new Be(w.key)]},getMany:function(w){return[p,new Be().addKeys(w.keys)]},count:D,query:D,openCursor:D};return a(k).forEach(function(w){b[w]=function(E){var A=$.subscr,M=!!A,x=wl($,d)&&Cl(w,E),T=x?E.obsSet={}:A;if(M){var R=function(H){var ae="idb://".concat(s,"/").concat(l,"/").concat(H);return T[ae]||(T[ae]=new Be)},I=R(""),P=R(":dels"),V=k[w](E),B=V[0],X=V[1];if(w==="query"&&B.isPrimaryKey&&!E.values?P.add(X):R(B.name||"").add(X),!B.isPrimaryKey)if(w==="count")P.add(c);else{var te=w==="query"&&_&&E.values&&d.query(r(r({},E),{values:!1}));return d[w].apply(this,arguments).then(function(H){if(w==="query"){if(_&&E.values)return te.then(function(q){var Re=q.result;return I.addKeys(Re),H});var ae=E.values?H.result.map(g):H.result;E.values?I.addKeys(ae):P.addKeys(ae)}else if(w==="openCursor"){var J=H,fe=E.values;return J&&Object.create(J,{key:{get:function(){return P.addKey(J.primaryKey),J.key}},primaryKey:{get:function(){var q=J.primaryKey;return P.addKey(q),q}},value:{get:function(){return fe&&I.addKey(J.primaryKey),J.value}}})}return H})}}return d[w].apply(this,arguments)}}),b}})}};function Lf(o,s,c,l){function d(f){var p=o(f.name||"");function m(_){return _!=null?f.extractKey(_):null}var g=function(_){return f.multiEntry&&u(_)?_.forEach(function(C){return p.addKey(C)}):p.addKey(_)};(c||l).forEach(function(_,C){var b=c&&m(c[C]),D=l&&m(l[C]);ue(b,D)!==0&&(b!=null&&g(b),D!=null&&g(D))})}s.indexes.forEach(d)}function El(o,s,c){if(c.numFailures===0)return s;if(s.type==="deleteRange")return null;var l=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;if(c.numFailures===l)return null;var d=r({},s);return u(d.keys)&&(d.keys=d.keys.filter(function(f,p){return!(p in c.failures)})),"values"in d&&u(d.values)&&(d.values=d.values.filter(function(f,p){return!(p in c.failures)})),d}function Bf(o,s){return s.lower===void 0?!0:s.lowerOpen?ue(o,s.lower)>0:ue(o,s.lower)>=0}function Uf(o,s){return s.upper===void 0?!0:s.upperOpen?ue(o,s.upper)<0:ue(o,s.upper)<=0}function ea(o,s){return Bf(o,s)&&Uf(o,s)}function Sl(o,s,c,l,d,f){if(!c||c.length===0)return o;var p=s.query.index,m=p.multiEntry,g=s.query.range,_=l.schema.primaryKey,C=_.extractKey,b=p.extractKey,D=(p.lowLevelIndex||p).extractKey,k=c.reduce(function(w,E){var A=w,M=E.type==="add"||E.type==="put"?E.values.filter(function(I){var P=b(I);return m&&u(P)?P.some(function(V){return ea(V,g)}):ea(P,g)}).map(function(I){return I=Ot(I),f&&Object.freeze(I),I}):[];switch(E.type){case"add":A=w.concat(s.values?M:M.map(function(I){return C(I)}));break;case"put":var x=new Be().addKeys(E.values.map(function(I){return C(I)}));A=w.filter(function(I){var P=s.values?C(I):I;return!zr(new Be(P),x)}).concat(s.values?M:M.map(function(I){return C(I)}));break;case"delete":var T=new Be().addKeys(E.keys);A=w.filter(function(I){var P=s.values?C(I):I;return!zr(new Be(P),T)});break;case"deleteRange":var R=E.range;A=w.filter(function(I){return!ea(C(I),R)});break}return A},o);return k===o?o:(k.sort(function(w,E){return ue(D(w),D(E))||ue(C(w),C(E))}),s.limit&&s.limit<1/0&&(k.length>s.limit?k.length=s.limit:o.length===s.limit&&k.length<s.limit&&(d.dirty=!0)),f?Object.freeze(k):k)}function Il(o,s){return ue(o.lower,s.lower)===0&&ue(o.upper,s.upper)===0&&!!o.lowerOpen==!!s.lowerOpen&&!!o.upperOpen==!!s.upperOpen}function zf(o,s,c,l){if(o===void 0)return s!==void 0?-1:0;if(s===void 0)return 1;var d=ue(o,s);if(d===0){if(c&&l)return 0;if(c)return 1;if(l)return-1}return d}function $f(o,s,c,l){if(o===void 0)return s!==void 0?1:0;if(s===void 0)return-1;var d=ue(o,s);if(d===0){if(c&&l)return 0;if(c)return-1;if(l)return 1}return d}function Wf(o,s){return zf(o.lower,s.lower,o.lowerOpen,s.lowerOpen)<=0&&$f(o.upper,s.upper,o.upperOpen,s.upperOpen)>=0}function Kf(o,s,c,l){var d=ln["idb://".concat(o,"/").concat(s)];if(!d)return[];var f=d.queries[c];if(!f)return[null,!1,d,null];var p=l.query?l.query.index.name:null,m=f[p||""];if(!m)return[null,!1,d,null];switch(c){case"query":var g=m.find(function(b){return b.req.limit===l.limit&&b.req.values===l.values&&Il(b.req.query.range,l.query.range)});if(g)return[g,!0,d,m];var _=m.find(function(b){var D="limit"in b.req?b.req.limit:1/0;return D>=l.limit&&(l.values?b.req.values:!0)&&Wf(b.req.query.range,l.query.range)});return[_,!1,d,m];case"count":var C=m.find(function(b){return Il(b.req.query.range,l.query.range)});return[C,!!C,d,m]}}function Gf(o,s,c,l){o.subscribers.add(c),l.addEventListener("abort",function(){o.subscribers.delete(c),o.subscribers.size===0&&Hf(o,s)})}function Hf(o,s){setTimeout(function(){o.subscribers.size===0&&tn(s,o)},3e3)}var qf={stack:"dbcore",level:0,name:"Cache",create:function(o){var s=o.schema.name,c=r(r({},o),{transaction:function(l,d,f){var p=o.transaction(l,d,f);if(d==="readwrite"){var m=new AbortController,g=m.signal,_=function(C){return function(){if(m.abort(),d==="readwrite"){for(var b=new Set,D=0,k=l;D<k.length;D++){var w=k[D],E=ln["idb://".concat(s,"/").concat(w)];if(E){var A=o.table(w),M=E.optimisticOps.filter(function(fe){return fe.trans===p});if(p._explicit&&C&&p.mutatedParts)for(var x=0,T=Object.values(E.queries.query);x<T.length;x++)for(var R=T[x],I=0,P=R.slice();I<P.length;I++){var V=P[I];Hs(V.obsSet,p.mutatedParts)&&(tn(R,V),V.subscribers.forEach(function(fe){return b.add(fe)}))}else if(M.length>0){E.optimisticOps=E.optimisticOps.filter(function(fe){return fe.trans!==p});for(var B=0,X=Object.values(E.queries.query);B<X.length;B++)for(var R=X[B],te=0,H=R.slice();te<H.length;te++){var V=H[te];if(V.res!=null&&p.mutatedParts)if(C&&!V.dirty){var ae=Object.isFrozen(V.res),J=Sl(V.res,V.req,M,A,V,ae);V.dirty?(tn(R,V),V.subscribers.forEach(function(Re){return b.add(Re)})):J!==V.res&&(V.res=J,V.promise=N.resolve({result:J}))}else V.dirty&&tn(R,V),V.subscribers.forEach(function(Re){return b.add(Re)})}}}}b.forEach(function(fe){return fe()})}}};p.addEventListener("abort",_(!1),{signal:g}),p.addEventListener("error",_(!1),{signal:g}),p.addEventListener("complete",_(!0),{signal:g})}return p},table:function(l){var d=o.table(l),f=d.schema.primaryKey,p=r(r({},d),{mutate:function(m){var g=$.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit)return d.mutate(m);var _=ln["idb://".concat(s,"/").concat(l)];if(!_)return d.mutate(m);var C=d.mutate(m);return(m.type==="add"||m.type==="put")&&(m.values.length>=50||Js(f,m).some(function(b){return b==null}))?C.then(function(b){var D=r(r({},m),{values:m.values.map(function(w,E){var A,M=!((A=f.keyPath)===null||A===void 0)&&A.includes(".")?Ot(w):r({},w);return Le(M,f.keyPath,b.results[E]),M})}),k=El(_,D,b);_.optimisticOps.push(k),queueMicrotask(function(){return m.mutatedParts&&Wr(m.mutatedParts)})}):(_.optimisticOps.push(m),m.mutatedParts&&Wr(m.mutatedParts),C.then(function(b){if(b.numFailures>0){tn(_.optimisticOps,m);var D=El(_,m,b);D&&_.optimisticOps.push(D),m.mutatedParts&&Wr(m.mutatedParts)}}),C.catch(function(){tn(_.optimisticOps,m),m.mutatedParts&&Wr(m.mutatedParts)})),C},query:function(m){var g;if(!wl($,d)||!Cl("query",m))return d.query(m);var _=((g=$.trans)===null||g===void 0?void 0:g.db._options.cache)==="immutable",C=$,b=C.requery,D=C.signal,k=Kf(s,l,"query",m),w=k[0],E=k[1],A=k[2],M=k[3];if(w&&E)w.obsSet=m.obsSet;else{var x=d.query(m).then(function(T){var R=T.result;if(w&&(w.res=R),_){for(var I=0,P=R.length;I<P;++I)Object.freeze(R[I]);Object.freeze(R)}else T.result=Ot(R);return T}).catch(function(T){return M&&w&&tn(M,w),Promise.reject(T)});w={obsSet:m.obsSet,promise:x,subscribers:new Set,type:"query",req:m,dirty:!1},M?M.push(w):(M=[w],A||(A=ln["idb://".concat(s,"/").concat(l)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),A.queries.query[m.query.index.name||""]=M)}return Gf(w,M,b,D),w.promise.then(function(T){return{result:Sl(T.result,m,A?.optimisticOps,d,w,_)}})}});return p}});return c}};function Gr(o,s){return new Proxy(o,{get:function(c,l,d){return l==="db"?s:Reflect.get(c,l,d)}})}var It=function(){function o(s,c){var l=this;this._middlewares={},this.verno=0;var d=o.dependencies;this._options=c=r({addons:o.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};var f=c.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};p.dbReadyPromise=new N(function(g){p.dbReadyResolve=g}),p.openCanceller=new N(function(g,_){p.cancelOpen=_}),this._state=p,this.name=s,this.on=yi(this,"populate","blocked","versionchange","close",{ready:[vs,he]}),this.on.ready.subscribe=Ge(this.on.ready.subscribe,function(g){return function(_,C){o.vip(function(){var b=l._state;if(b.openComplete)b.dbOpenError||N.resolve().then(_),C&&g(_);else if(b.onReadyBeingFired)b.onReadyBeingFired.push(_),C&&g(_);else{g(_);var D=l;C||g(function k(){D.on.ready.unsubscribe(_),D.on.ready.unsubscribe(k)})}})}}),this.Collection=tf(this),this.Table=Xh(this),this.Transaction=uf(this),this.Version=Df(this),this.WhereClause=cf(this),this.on("versionchange",function(g){g.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(l.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(l.name,"'. Closing db now to resume the delete request.")),l.close({disableAutoOpen:!1})}),this.on("blocked",function(g){!g.newVersion||g.newVersion<g.oldVersion?console.warn("Dexie.delete('".concat(l.name,"') was blocked")):console.warn("Upgrade '".concat(l.name,"' blocked by other connection holding version ").concat(g.oldVersion/10))}),this._maxKey=Ei(c.IDBKeyRange),this._createTransaction=function(g,_,C,b){return new l.Transaction(g,_,C,l._options.chromeTransactionDurability,b)},this._fireOnBlocked=function(g){l.on("blocked").fire(g),Nn.filter(function(_){return _.name===l.name&&_!==l&&!_._state.vcFired}).map(function(_){return _.on("versionchange").fire(g)})},this.use(Vf),this.use(qf),this.use(jf),this.use(Pf),this.use(Ff);var m=new Proxy(this,{get:function(g,_,C){if(_==="_vip")return!0;if(_==="table")return function(D){return Gr(l.table(D),m)};var b=Reflect.get(g,_,C);return b instanceof al?Gr(b,m):_==="tables"?b.map(function(D){return Gr(D,m)}):_==="_createTransaction"?function(){var D=b.apply(this,arguments);return Gr(D,m)}:b}});this.vip=m,f.forEach(function(g){return g(l)})}return o.prototype.version=function(s){if(isNaN(s)||s<.1)throw new G.Type("Given version is not a positive number");if(s=Math.round(s*10)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var c=this._versions,l=c.filter(function(d){return d._cfg.version===s})[0];return l||(l=new this.Version(s),c.push(l),c.sort(vf),l.stores({}),this._state.autoSchema=!1,l)},o.prototype._whenReady=function(s){var c=this;return this.idbdb&&(this._state.openComplete||$.letThrough||this._vip)?s():new N(function(l,d){if(c._state.openComplete)return d(new G.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen){d(new G.DatabaseClosed);return}c.open().catch(he)}c._state.dbReadyPromise.then(l,d)}).then(s)},o.prototype.use=function(s){var c=s.stack,l=s.create,d=s.level,f=s.name;f&&this.unuse({stack:c,name:f});var p=this._middlewares[c]||(this._middlewares[c]=[]);return p.push({stack:c,create:l,level:d??10,name:f}),p.sort(function(m,g){return m.level-g.level}),this},o.prototype.unuse=function(s){var c=s.stack,l=s.name,d=s.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(f){return d?f.create!==d:l?f.name!==l:!1})),this},o.prototype.open=function(){var s=this;return sn(kt,function(){return Rf(s)})},o.prototype._close=function(){var s=this._state,c=Nn.indexOf(this);if(c>=0&&Nn.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new N(function(l){s.dbReadyResolve=l}),s.openCanceller=new N(function(l,d){s.cancelOpen=d}))},o.prototype.close=function(s){var c=s===void 0?{disableAutoOpen:!0}:s,l=c.disableAutoOpen,d=this._state;l?(d.isBeingOpened&&d.cancelOpen(new G.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new G.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},o.prototype.delete=function(s){var c=this;s===void 0&&(s={disableAutoOpen:!0});var l=arguments.length>0&&typeof arguments[0]!="object",d=this._state;return new N(function(f,p){var m=function(){c.close(s);var g=c._deps.indexedDB.deleteDatabase(c.name);g.onsuccess=_e(function(){xf(c._deps,c.name),f()}),g.onerror=pt(p),g.onblocked=c._fireOnBlocked};if(l)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(m):m()})},o.prototype.backendDB=function(){return this.idbdb},o.prototype.isOpen=function(){return this.idbdb!==null},o.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},o.prototype.hasFailed=function(){return this._state.dbOpenError!==null},o.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(o.prototype,"tables",{get:function(){var s=this;return a(this._allTables).map(function(c){return s._allTables[c]})},enumerable:!1,configurable:!0}),o.prototype.transaction=function(){var s=Of.apply(this,arguments);return this._transaction.apply(this,s)},o.prototype._transaction=function(s,c,l){var d=this,f=$.trans;(!f||f.db!==this||s.indexOf("!")!==-1)&&(f=null);var p=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");var m,g;try{if(g=c.map(function(C){var b=C instanceof d.Table?C.name:C;if(typeof b!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return b}),s=="r"||s===xs)m=xs;else if(s=="rw"||s==Ts)m=Ts;else throw new G.InvalidArgument("Invalid transaction mode: "+s);if(f){if(f.mode===xs&&m===Ts)if(p)f=null;else throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f&&g.forEach(function(C){if(f&&f.storeNames.indexOf(C)===-1)if(p)f=null;else throw new G.SubTransaction("Table "+C+" not included in parent transaction.")}),p&&f&&!f.active&&(f=null)}}catch(C){return f?f._promise(null,function(b,D){D(C)}):Ae(C)}var _=_l.bind(null,this,m,g,f,l);return f?f._promise(m,_,"lock"):$.trans?sn($.transless,function(){return d._whenReady(_)}):this._whenReady(_)},o.prototype.table=function(s){if(!S(this._allTables,s))throw new G.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},o}(),Zf=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Yf=function(){function o(s){this._subscribe=s}return o.prototype.subscribe=function(s,c,l){return this._subscribe(!s||typeof s=="function"?{next:s,error:c,complete:l}:s)},o.prototype[Zf]=function(){return this},o}(),Hr;try{Hr={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Hr={indexedDB:null,IDBKeyRange:null}}function Dl(o){var s=!1,c,l=new Yf(function(d){var f=ps(o);function p(M){var x=kn();try{f&&Fn();var T=Pt(o,M);return f&&(T=T.finally(Ft)),T}finally{x&&Pn()}}var m=!1,g,_={},C={},b={get closed(){return m},unsubscribe:function(){m||(m=!0,g&&g.abort(),D&&jt.storagemutated.unsubscribe(E))}};d.start&&d.start(b);var D=!1,k=function(){return Ds(A)};function w(){return Hs(C,_)}var E=function(M){$r(_,M),w()&&k()},A=function(){if(!(m||!Hr.indexedDB)){_={};var M={};g&&g.abort(),g=new AbortController;var x={subscr:M,signal:g.signal,requery:k,querier:o,trans:null},T=p(x);Promise.resolve(T).then(function(R){s=!0,c=R,!(m||x.signal.aborted)&&(_={},C=M,!Ih(C)&&!D&&(jt(Ci,E),D=!0),Ds(function(){return!m&&d.next&&d.next(R)}))},function(R){s=!1,["DatabaseClosedError","AbortError"].includes(R?.name)||m||Ds(function(){m||d.error&&d.error(R)})})}};return setTimeout(k,0),b});return l.hasValue=function(){return s},l.getValue=function(){return c},l}var un=It;O(un,r(r({},Er),{delete:function(o){var s=new un(o,{addons:[]});return s.delete()},exists:function(o){return new un(o,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return Af(un.dependencies).then(o)}catch{return Ae(new G.MissingAPI)}},defineClass:function(){function o(s){h(this,s)}return o},ignoreTransaction:function(o){return $.trans?sn($.transless,o):o()},vip:$s,async:function(o){return function(){try{var s=Xs(o.apply(this,arguments));return!s||typeof s.then!="function"?N.resolve(s):s}catch(c){return Ae(c)}}},spawn:function(o,s,c){try{var l=Xs(o.apply(c,s||[]));return!l||typeof l.then!="function"?N.resolve(l):l}catch(d){return Ae(d)}},currentTransaction:{get:function(){return $.trans||null}},waitFor:function(o,s){var c=N.resolve(typeof o=="function"?un.ignoreTransaction(o):o).timeout(s||6e4);return $.trans?$.trans.waitFor(c):c},Promise:N,debug:{get:function(){return ft},set:function(o){Gc(o)}},derive:re,extend:h,props:O,override:Ge,Events:yi,on:jt,liveQuery:Dl,extendObservabilitySet:$r,getByKeyPath:$e,setByKeyPath:Le,delByKeyPath:Ch,shallowClone:Lc,deepClone:Ot,getObjectDiff:Qs,cmp:ue,asap:Rt,minKey:Ms,addons:[],connections:Nn,errnames:gs,dependencies:Hr,cache:ln,semVer:tl,version:tl.split(".").map(function(o){return parseInt(o)}).reduce(function(o,s,c){return o+s/Math.pow(10,c*2)})})),un.maxKey=Ei(un.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(jt(Ci,function(o){if(!Lt){var s;s=new CustomEvent(Ps,{detail:o}),Lt=!0,dispatchEvent(s),Lt=!1}}),addEventListener(Ps,function(o){var s=o.detail;Lt||ta(s)}));function ta(o){var s=Lt;try{Lt=!0,jt.storagemutated.fire(o),Ys(o,!0)}finally{Lt=s}}var Lt=!1,Bt,na=function(){};typeof BroadcastChannel<"u"&&(na=function(){Bt=new BroadcastChannel(Ps),Bt.onmessage=function(o){return o.data&&ta(o.data)}},na(),typeof Bt.unref=="function"&&Bt.unref(),jt(Ci,function(o){Lt||Bt.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!It.disableBfCache&&o.persisted){ft&&console.debug("Dexie: handling persisted pagehide"),Bt?.close();for(var s=0,c=Nn;s<c.length;s++){var l=c[s];l.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(o){!It.disableBfCache&&o.persisted&&(ft&&console.debug("Dexie: handling persisted pageshow"),na(),ta({all:new Be(-1/0,[[]])}))}));function Xf(o){return new bi({add:o})}function Qf(o){return new bi({remove:o})}function Jf(o,s){return new bi({replacePrefix:[o,s]})}N.rejectionMapper=Rh,Gc(ft);var ep=Object.freeze({__proto__:null,Dexie:It,liveQuery:Dl,Entity:rl,cmp:ue,PropModSymbol:Jh,PropModification:bi,replacePrefix:Jf,add:Xf,remove:Qf,default:It,RangeSet:Be,mergeRanges:Di,rangesOverlap:zr});return r(It,ep,{default:It}),It})});var Li=class{},bo=class{},xt=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let t=r.indexOf(":");if(t>0){let i=r.slice(0,t),a=i.toLowerCase(),u=r.slice(t+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,t)=>{this.setHeaderEntries(t,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,t])=>{this.setHeaderEntries(r,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new n;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...t),this.headers.set(r,i);break;case"d":let a=e.value;if(!a)this.headers.delete(r),this.normalizedNames.delete(r);else{let u=this.headers.get(r);if(!u)return;u=u.filter(h=>a.indexOf(h)===-1),u.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,u)}break}}setHeaderEntries(e,r){let t=(Array.isArray(r)?r:[r]).map(a=>a.toString()),i=e.toLowerCase();this.headers.set(i,t),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var _a=class{encodeKey(e){return ru(e)}encodeValue(e){return ru(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function op(n,e){let r=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let a=i.indexOf("="),[u,h]=a==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],v=r.get(u)||[];v.push(h),r.set(u,v)}),r}var sp=/%(\d[a-f0-9])/gi,ap={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ru(n){return encodeURIComponent(n).replace(sp,(e,r)=>ap[r]??e)}function _o(n){return`${n}`}var qt=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _a,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=op(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let t=e.fromObject[r],i=Array.isArray(t)?t.map(_o):[_o(t)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(t=>{let i=e[t];Array.isArray(i)?i.forEach(a=>{r.push({param:t,value:a,op:"a"})}):r.push({param:t,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(t=>r+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new n({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(_o(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],i=t.indexOf(_o(e.value));i!==-1&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ba=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function cp(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ou(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function su(n){return typeof Blob<"u"&&n instanceof Blob}function au(n){return typeof FormData<"u"&&n instanceof FormData}function lp(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ji=class n{constructor(e,r,t,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let a;if(cp(this.method)||i?(this.body=t!==void 0?t:null,a=i):a=t,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new xt,this.context??=new ba,!this.params)this.params=new qt,this.urlWithParams=r;else{let u=this.params.toString();if(u.length===0)this.urlWithParams=r;else{let h=r.indexOf("?"),v=h===-1?"?":h<r.length-1?"&":"";this.urlWithParams=r+v+u}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ou(this.body)||su(this.body)||au(this.body)||lp(this.body)?this.body:this.body instanceof qt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||au(this.body)?null:su(this.body)?this.body.type||null:ou(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,t=e.url||this.url,i=e.responseType||this.responseType,a=e.transferCache??this.transferCache,u=e.body!==void 0?e.body:this.body,h=e.withCredentials??this.withCredentials,v=e.reportProgress??this.reportProgress,y=e.headers||this.headers,S=e.params||this.params,O=e.context??this.context;return e.setHeaders!==void 0&&(y=Object.keys(e.setHeaders).reduce((F,Y)=>F.set(Y,e.setHeaders[Y]),y)),e.setParams&&(S=Object.keys(e.setParams).reduce((F,Y)=>F.set(Y,e.setParams[Y]),S)),new n(r,t,u,{params:S,headers:y,context:O,reportProgress:v,responseType:i,withCredentials:h,transferCache:a})}},Zt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Zt||{}),Bi=class{constructor(e,r=200,t="OK"){this.headers=e.headers||new xt,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},wo=class n extends Bi{constructor(e={}){super(e),this.type=Zt.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ui=class n extends Bi{constructor(e={}){super(e),this.type=Zt.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ht=class extends Bi{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},du=200,up=204;function ya(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var zi=(()=>{let e=class e{constructor(t){this.handler=t}request(t,i,a={}){let u;if(t instanceof ji)u=t;else{let y;a.headers instanceof xt?y=a.headers:y=new xt(a.headers);let S;a.params&&(a.params instanceof qt?S=a.params:S=new qt({fromObject:a.params})),u=new ji(t,i,a.body!==void 0?a.body:null,{headers:y,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let h=Q(u).pipe(dn(y=>this.handler.handle(y)));if(t instanceof ji||a.observe==="events")return h;let v=h.pipe(vt(y=>y instanceof Ui));switch(a.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return v.pipe(oe(y=>{if(y.body!==null&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return v.pipe(oe(y=>{if(y.body!==null&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return v.pipe(oe(y=>{if(y.body!==null&&typeof y.body!="string")throw new Error("Response is not a string.");return y.body}));case"json":default:return v.pipe(oe(y=>y.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new qt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,a={}){return this.request("PATCH",t,ya(a,i))}post(t,i,a={}){return this.request("POST",t,ya(a,i))}put(t,i,a={}){return this.request("PUT",t,ya(a,i))}};e.\u0275fac=function(i){return new(i||e)(z(Li))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),dp=/^\)\]\}',?\n/,hp="X-Request-URL";function cu(n){if(n.url)return n.url;let e=hp.toLocaleLowerCase();return n.headers.get(e)}var fp=(()=>{let e=class e{constructor(){this.fetchImpl=U(wa,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=U(be)}handle(t){return new Dt(i=>{let a=new AbortController;return this.doRequest(t,a.signal,i).then(Ca,u=>i.error(new Ht({error:u}))),()=>a.abort()})}doRequest(t,i,a){return qe(this,null,function*(){let u=this.createRequestInit(t),h;try{let re=this.fetchImpl(t.urlWithParams,j({signal:i},u));pp(re),a.next({type:Zt.Sent}),h=yield re}catch(re){a.error(new Ht({error:re,status:re.status??0,statusText:re.statusText,url:t.urlWithParams,headers:re.headers}));return}let v=new xt(h.headers),y=h.statusText,S=cu(h)??t.urlWithParams,O=h.status,F=null;if(t.reportProgress&&a.next(new wo({headers:v,status:O,statusText:y,url:S})),h.body){let re=h.headers.get("content-length"),ye=[],ne=h.body.getReader(),le=0,Me,Ge,Ce=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>qe(this,null,function*(){for(;;){let{done:Ct,value:$e}=yield ne.read();if(Ct)break;if(ye.push($e),le+=$e.length,t.reportProgress){Ge=t.responseType==="text"?(Ge??"")+(Me??=new TextDecoder).decode($e,{stream:!0}):void 0;let Le=()=>a.next({type:Zt.DownloadProgress,total:re?+re:void 0,loaded:le,partialText:Ge});Ce?Ce.run(Le):Le()}}}));let Rt=this.concatChunks(ye,le);try{let Ct=h.headers.get("Content-Type")??"";F=this.parseBody(t,Rt,Ct)}catch(Ct){a.error(new Ht({error:Ct,headers:new xt(h.headers),status:h.status,statusText:h.statusText,url:cu(h)??t.urlWithParams}));return}}O===0&&(O=F?du:0),O>=200&&O<300?(a.next(new Ui({body:F,headers:v,status:O,statusText:y,url:S})),a.complete()):a.error(new Ht({error:F,headers:v,status:O,statusText:y,url:S}))})}parseBody(t,i,a){switch(t.responseType){case"json":let u=new TextDecoder().decode(i).replace(dp,"");return u===""?null:JSON.parse(u);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:a});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},a=t.withCredentials?"include":void 0;if(t.headers.forEach((u,h)=>i[u]=h.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let u=t.detectContentTypeHeader();u!==null&&(i["Content-Type"]=u)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:a}}concatChunks(t,i){let a=new Uint8Array(i),u=0;for(let h of t)a.set(h,u),u+=h.length;return a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),wa=class{};function Ca(){}function pp(n){n.then(Ca,Ca)}function mp(n,e){return e(n)}function gp(n,e,r){return(t,i)=>at(r,()=>e(t,a=>n(a,i)))}var hu=new se(""),vp=new se(""),yp=new se("",{providedIn:"root",factory:()=>!0});var lu=(()=>{let e=class e extends Li{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=U(ro),this.contributeToStability=U(yp)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(hu),...this.injector.get(vp,[])]));this.chain=i.reduceRight((a,u)=>gp(a,u,this.injector),mp)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,a=>this.backend.handle(a)).pipe(Un(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(z(bo),z(zn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();var _p=/^\)\]\}',?\n/;function bp(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var uu=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ee(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?We(i.\u0275loadImpl()):Q(null)).pipe(Ue(()=>new Dt(u=>{let h=i.build();if(h.open(t.method,t.urlWithParams),t.withCredentials&&(h.withCredentials=!0),t.headers.forEach((ne,le)=>h.setRequestHeader(ne,le.join(","))),t.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let ne=t.detectContentTypeHeader();ne!==null&&h.setRequestHeader("Content-Type",ne)}if(t.responseType){let ne=t.responseType.toLowerCase();h.responseType=ne!=="json"?ne:"text"}let v=t.serializeBody(),y=null,S=()=>{if(y!==null)return y;let ne=h.statusText||"OK",le=new xt(h.getAllResponseHeaders()),Me=bp(h)||t.url;return y=new wo({headers:le,status:h.status,statusText:ne,url:Me}),y},O=()=>{let{headers:ne,status:le,statusText:Me,url:Ge}=S(),Ce=null;le!==up&&(Ce=typeof h.response>"u"?h.responseText:h.response),le===0&&(le=Ce?du:0);let Rt=le>=200&&le<300;if(t.responseType==="json"&&typeof Ce=="string"){let Ct=Ce;Ce=Ce.replace(_p,"");try{Ce=Ce!==""?JSON.parse(Ce):null}catch($e){Ce=Ct,Rt&&(Rt=!1,Ce={error:$e,text:Ce})}}Rt?(u.next(new Ui({body:Ce,headers:ne,status:le,statusText:Me,url:Ge||void 0})),u.complete()):u.error(new Ht({error:Ce,headers:ne,status:le,statusText:Me,url:Ge||void 0}))},F=ne=>{let{url:le}=S(),Me=new Ht({error:ne,status:h.status||0,statusText:h.statusText||"Unknown Error",url:le||void 0});u.error(Me)},Y=!1,re=ne=>{Y||(u.next(S()),Y=!0);let le={type:Zt.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(le.total=ne.total),t.responseType==="text"&&h.responseText&&(le.partialText=h.responseText),u.next(le)},ye=ne=>{let le={type:Zt.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(le.total=ne.total),u.next(le)};return h.addEventListener("load",O),h.addEventListener("error",F),h.addEventListener("timeout",F),h.addEventListener("abort",F),t.reportProgress&&(h.addEventListener("progress",re),v!==null&&h.upload&&h.upload.addEventListener("progress",ye)),h.send(v),u.next({type:Zt.Sent}),()=>{h.removeEventListener("error",F),h.removeEventListener("abort",F),h.removeEventListener("load",O),h.removeEventListener("timeout",F),t.reportProgress&&(h.removeEventListener("progress",re),v!==null&&h.upload&&h.upload.removeEventListener("progress",ye)),h.readyState!==h.DONE&&h.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(z(yo))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),fu=new se(""),wp="XSRF-TOKEN",Cp=new se("",{providedIn:"root",factory:()=>wp}),Ep="X-XSRF-TOKEN",Sp=new se("",{providedIn:"root",factory:()=>Ep}),Co=class{},Ip=(()=>{let e=class e{constructor(t,i,a){this.doc=t,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=go(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(z(Se),z(Mt),z(Cp))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();function Dp(n,e){let r=n.url.toLowerCase();if(!U(fu)||n.method==="GET"||n.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(n);let t=U(Co).getToken(),i=U(Sp);return t!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,t)})),e(n)}function pu(...n){let e=[zi,uu,lu,{provide:Li,useExisting:lu},{provide:bo,useFactory:()=>U(fp,{optional:!0})??U(uu)},{provide:hu,useValue:Dp,multi:!0},{provide:fu,useValue:!0},{provide:Co,useClass:Ip}];for(let r of n)e.push(...r.\u0275providers);return pn(e)}var Ia=class extends tu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Da=class n extends Ia{static makeCurrent(){eu(new n)}onAndCancel(e,r,t){return e.addEventListener(r,t),()=>{e.removeEventListener(r,t)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=Mp();return r==null?null:xp(r)}resetBaseElement(){$i=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return go(document.cookie,e)}},$i=null;function Mp(){return $i=$i||document.querySelector("base"),$i?$i.getAttribute("href"):null}function xp(n){return new URL(n,document.baseURI).pathname}var Tp=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),Aa=new se(""),yu=(()=>{let e=class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,a){return this._findPluginFor(i).addEventListener(t,i,a)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(u=>u.supports(t)),!i)throw new Ee(5101,!1);return this._eventNameToPlugin.set(t,i),i}};e.\u0275fac=function(i){return new(i||e)(z(Aa),z(be))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),Eo=class{constructor(e){this._doc=e}},Ea="ng-app-id",_u=(()=>{let e=class e{constructor(t,i,a,u={}){this.doc=t,this.appId=i,this.nonce=a,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vo(u),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(a=>a.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ea}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(a=>{a.textContent!=null&&i.set(a.textContent,a)}),i}return null}changeUsageCount(t,i){let a=this.styleRef;if(a.has(t)){let u=a.get(t);return u.usage+=i,u.usage}return a.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let a=this.styleNodesInDOM,u=a?.get(i);if(u?.parentNode===t)return a.delete(i),u.removeAttribute(Ea),u;{let h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(Ea,this.appId),t.appendChild(h),h}}addStyleToHost(t,i){let a=this.getStyleElement(t,i),u=this.styleRef,h=u.get(i)?.elements;h?h.push(a):u.set(i,{elements:[a],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(z(Se),z(Jr),z(ki,8),z(Mt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),Sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ta=/%COMP%/g,bu="%COMP%",Rp=`_nghost-${bu}`,Op=`_ngcontent-${bu}`,kp=!0,Pp=new se("",{providedIn:"root",factory:()=>kp});function Fp(n){return Op.replace(Ta,n)}function Np(n){return Rp.replace(Ta,n)}function wu(n,e){return e.map(r=>r.replace(Ta,n))}var So=(()=>{let e=class e{constructor(t,i,a,u,h,v,y,S=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=v,this.ngZone=y,this.nonce=S,this.rendererByCompId=new Map,this.platformIsServer=vo(v),this.defaultRenderer=new Wi(t,h,y,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ri.ShadowDom&&(i=ge(j({},i),{encapsulation:Ri.Emulated}));let a=this.getOrCreateRenderer(t,i);return a instanceof Io?a.applyToHost(t):a instanceof Ki&&a.applyStyles(),a}getOrCreateRenderer(t,i){let a=this.rendererByCompId,u=a.get(i.id);if(!u){let h=this.doc,v=this.ngZone,y=this.eventManager,S=this.sharedStylesHost,O=this.removeStylesOnCompDestroy,F=this.platformIsServer;switch(i.encapsulation){case Ri.Emulated:u=new Io(y,S,i,this.appId,O,h,v,F);break;case Ri.ShadowDom:return new Ma(y,S,t,i,h,v,this.nonce,F);default:u=new Ki(y,S,i,O,h,v,F);break}a.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(z(yu),z(_u),z(Jr),z(Pp),z(Se),z(Mt),z(be),z(ki))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),Wi=class{constructor(e,r,t,i){this.eventManager=e,this.doc=r,this.ngZone=t,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Sa[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(gu(e)?e.content:e).appendChild(r)}insertBefore(e,r,t){e&&(gu(e)?e.content:e).insertBefore(r,t)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new Ee(-5104,!1);return r||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,t,i){if(i){r=i+":"+r;let a=Sa[i];a?e.setAttributeNS(a,r,t):e.setAttribute(r,t)}else e.setAttribute(r,t)}removeAttribute(e,r,t){if(t){let i=Sa[t];i?e.removeAttributeNS(i,r):e.removeAttribute(`${t}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,t,i){i&(Pi.DashCase|Pi.Important)?e.style.setProperty(r,t,i&Pi.Important?"important":""):e.style[r]=t}removeStyle(e,r,t){t&Pi.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,t){e!=null&&(e[r]=t)}setValue(e,r){e.nodeValue=r}listen(e,r,t){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(t))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function gu(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ma=class extends Wi{constructor(e,r,t,i,a,u,h,v){super(e,a,u,v),this.sharedStylesHost=r,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=wu(i.id,i.styles);for(let S of y){let O=document.createElement("style");h&&O.setAttribute("nonce",h),O.textContent=S,this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,t){return super.insertBefore(this.nodeOrShadowRoot(e),r,t)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ki=class extends Wi{constructor(e,r,t,i,a,u,h,v){super(e,a,u,h),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=v?wu(v,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Io=class extends Ki{constructor(e,r,t,i,a,u,h,v){let y=i+"-"+t.id;super(e,r,t,a,u,h,v,y),this.contentAttr=Fp(y),this.hostAttr=Np(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let t=super.createElement(e,r);return super.setAttribute(t,this.contentAttr,""),t}},Vp=(()=>{let e=class e extends Eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,a){return t.addEventListener(i,a,!1),()=>this.removeEventListener(t,i,a)}removeEventListener(t,i,a){return t.removeEventListener(i,a)}};e.\u0275fac=function(i){return new(i||e)(z(Se))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),vu=["alt","control","meta","shift"],jp={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Bp=(()=>{let e=class e extends Eo{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,a){let u=e.parseEventName(i),h=e.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(t,u.domEventName,h))}static parseEventName(t){let i=t.toLowerCase().split("."),a=i.shift();if(i.length===0||!(a==="keydown"||a==="keyup"))return null;let u=e._normalizeKey(i.pop()),h="",v=i.indexOf("code");if(v>-1&&(i.splice(v,1),h="code."),vu.forEach(S=>{let O=i.indexOf(S);O>-1&&(i.splice(O,1),h+=S+".")}),h+=u,i.length!=0||u.length===0)return null;let y={};return y.domEventName=a,y.fullKey=h,y}static matchEventFullKeyCode(t,i){let a=jp[t.key]||t.key,u="";return i.indexOf("code.")>-1&&(a=t.code,u="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),vu.forEach(h=>{if(h!==a){let v=Lp[h];v(t)&&(u+=h+".")}}),u+=a,u===i)}static eventCallback(t,i,a){return u=>{e.matchEventFullKeyCode(u,t)&&a.runGuarded(()=>i(u))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(i){return new(i||e)(z(Se))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();function Cu(n,e){return Jl(j({rootComponent:n},Up(e)))}function Up(n){return{appProviders:[...Gp,...n?.providers??[]],platformProviders:Kp}}function zp(){Da.makeCurrent()}function $p(){return new la}function Wp(){return $l(document),document}var Kp=[{provide:Mt,useValue:nu},{provide:Wl,useValue:zp,multi:!0},{provide:Se,useFactory:Wp,deps:[]}];var Gp=[{provide:zl,useValue:"root"},{provide:la,useFactory:$p,deps:[]},{provide:Aa,useClass:Vp,multi:!0,deps:[Se,be,Mt]},{provide:Aa,useClass:Bp,multi:!0,deps:[Se]},So,_u,yu,{provide:to,useExisting:So},{provide:yo,useClass:Tp,deps:[]},[]];var Eu=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(i){return new(i||e)(z(Se))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ie="primary",cr=Symbol("RouteTitle"),Fa=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function ti(n){return new Fa(n)}function qp(n,e,r){let t=r.path.split("/");if(t.length>n.length||r.pathMatch==="full"&&(e.hasChildren()||t.length<n.length))return null;let i={};for(let a=0;a<t.length;a++){let u=t[a],h=n[a];if(u[0]===":")i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,t.length),posParams:i}}function Zp(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!bt(n[r],e[r]))return!1;return!0}function bt(n,e){let r=n?Na(n):void 0,t=e?Na(e):void 0;if(!r||!t||r.length!=t.length)return!1;let i;for(let a=0;a<r.length;a++)if(i=r[a],!Ru(n[i],e[i]))return!1;return!0}function Na(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ru(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let r=[...n].sort(),t=[...e].sort();return r.every((i,a)=>t[a]===i)}else return n===e}function Ou(n){return n.length>0?n[n.length-1]:null}function Qt(n){return Ln(n)?n:fo(n)?We(Promise.resolve(n)):Q(n)}var Yp={exact:Pu,subset:Fu},ku={exact:Xp,subset:Qp,ignored:()=>!0};function Su(n,e,r){return Yp[r.paths](n.root,e.root,r.matrixParams)&&ku[r.queryParams](n.queryParams,e.queryParams)&&!(r.fragment==="exact"&&n.fragment!==e.fragment)}function Xp(n,e){return bt(n,e)}function Pu(n,e,r){if(!En(n.segments,e.segments)||!Mo(n.segments,e.segments,r)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!n.children[t]||!Pu(n.children[t],e.children[t],r))return!1;return!0}function Qp(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(r=>Ru(n[r],e[r]))}function Fu(n,e,r){return Nu(n,e,e.segments,r)}function Nu(n,e,r,t){if(n.segments.length>r.length){let i=n.segments.slice(0,r.length);return!(!En(i,r)||e.hasChildren()||!Mo(i,r,t))}else if(n.segments.length===r.length){if(!En(n.segments,r)||!Mo(n.segments,r,t))return!1;for(let i in e.children)if(!n.children[i]||!Fu(n.children[i],e.children[i],t))return!1;return!0}else{let i=r.slice(0,n.segments.length),a=r.slice(n.segments.length);return!En(n.segments,i)||!Mo(n.segments,i,t)||!n.children[ie]?!1:Nu(n.children[ie],e,a,t)}}function Mo(n,e,r){return e.every((t,i)=>ku[r](n[i].parameters,t.parameters))}var Yt=class{constructor(e=new de([],{}),r={},t=null){this.root=e,this.queryParams=r,this.fragment=t}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){return tm.serialize(this)}},de=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xo(this)}},Cn=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=ti(this.parameters),this._parameterMap}toString(){return ju(this)}};function Jp(n,e){return En(n,e)&&n.every((r,t)=>bt(r.parameters,e[t].parameters))}function En(n,e){return n.length!==e.length?!1:n.every((r,t)=>r.path===e[t].path)}function em(n,e){let r=[];return Object.entries(n.children).forEach(([t,i])=>{t===ie&&(r=r.concat(e(i,t)))}),Object.entries(n.children).forEach(([t,i])=>{t!==ie&&(r=r.concat(e(i,t)))}),r}var cc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>new Qi,providedIn:"root"});let n=e;return n})(),Qi=class{parse(e){let r=new ja(e);return new Yt(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Gi(e.root,!0)}`,t=rm(e.queryParams),i=typeof e.fragment=="string"?`#${nm(e.fragment)}`:"";return`${r}${t}${i}`}},tm=new Qi;function xo(n){return n.segments.map(e=>ju(e)).join("/")}function Gi(n,e){if(!n.hasChildren())return xo(n);if(e){let r=n.children[ie]?Gi(n.children[ie],!1):"",t=[];return Object.entries(n.children).forEach(([i,a])=>{i!==ie&&t.push(`${i}:${Gi(a,!1)}`)}),t.length>0?`${r}(${t.join("//")})`:r}else{let r=em(n,(t,i)=>i===ie?[Gi(n.children[ie],!1)]:[`${i}:${Gi(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${xo(n)}/${r[0]}`:`${xo(n)}/(${r.join("//")})`}}function Vu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Do(n){return Vu(n).replace(/%3B/gi,";")}function nm(n){return encodeURI(n)}function Va(n){return Vu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function To(n){return decodeURIComponent(n)}function Iu(n){return To(n.replace(/\+/g,"%20"))}function ju(n){return`${Va(n.path)}${im(n.parameters)}`}function im(n){return Object.entries(n).map(([e,r])=>`;${Va(e)}=${Va(r)}`).join("")}function rm(n){let e=Object.entries(n).map(([r,t])=>Array.isArray(t)?t.map(i=>`${Do(r)}=${Do(i)}`).join("&"):`${Do(r)}=${Do(t)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var om=/^[^\/()?;#]+/;function Ra(n){let e=n.match(om);return e?e[0]:""}var sm=/^[^\/()?;=#]+/;function am(n){let e=n.match(sm);return e?e[0]:""}var cm=/^[^=?&#]+/;function lm(n){let e=n.match(cm);return e?e[0]:""}var um=/^[^&#]+/;function dm(n){let e=n.match(um);return e?e[0]:""}var ja=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(t[ie]=new de(e,r)),t}parseSegment(){let e=Ra(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(e),new Cn(To(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=am(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let i=Ra(this.remaining);i&&(t=i,this.capture(t))}e[To(r)]=To(t)}parseQueryParam(e){let r=lm(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let u=dm(this.remaining);u&&(t=u,this.capture(t))}let i=Iu(r),a=Iu(t);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Ra(this.remaining),i=this.remaining[t.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ee(4010,!1);let a;t.indexOf(":")>-1?(a=t.slice(0,t.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=ie);let u=this.parseChildren();r[a]=Object.keys(u).length===1?u[ie]:new de([],u),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ee(4011,!1)}};function Lu(n){return n.segments.length>0?new de([],{[ie]:n}):n}function Bu(n){let e={};for(let[t,i]of Object.entries(n.children)){let a=Bu(i);if(t===ie&&a.segments.length===0&&a.hasChildren())for(let[u,h]of Object.entries(a.children))e[u]=h;else(a.segments.length>0||a.hasChildren())&&(e[t]=a)}let r=new de(n.segments,e);return hm(r)}function hm(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new de(n.segments.concat(e.segments),e.children)}return n}function Ji(n){return n instanceof Yt}function fm(n,e,r=null,t=null){let i=Uu(n);return zu(i,e,r,t)}function Uu(n){let e;function r(a){let u={};for(let v of a.children){let y=r(v);u[v.outlet]=y}let h=new de(a.url,u);return a===n&&(e=h),h}let t=r(n.root),i=Lu(t);return e??i}function zu(n,e,r,t){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Oa(i,i,i,r,t);let a=pm(e);if(a.toRoot())return Oa(i,i,new de([],{}),r,t);let u=mm(a,i,n),h=u.processChildren?Zi(u.segmentGroup,u.index,a.commands):Wu(u.segmentGroup,u.index,a.commands);return Oa(i,u.segmentGroup,h,r,t)}function Ro(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function er(n){return typeof n=="object"&&n!=null&&n.outlets}function Oa(n,e,r,t,i){let a={};t&&Object.entries(t).forEach(([v,y])=>{a[v]=Array.isArray(y)?y.map(S=>`${S}`):`${y}`});let u;n===e?u=r:u=$u(n,e,r);let h=Lu(Bu(u));return new Yt(h,a,i)}function $u(n,e,r){let t={};return Object.entries(n.children).forEach(([i,a])=>{a===e?t[i]=r:t[i]=$u(a,e,r)}),new de(n.segments,t)}var Oo=class{constructor(e,r,t){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=t,e&&t.length>0&&Ro(t[0]))throw new Ee(4003,!1);let i=t.find(er);if(i&&i!==Ou(t))throw new Ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pm(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Oo(!0,0,n);let e=0,r=!1,t=n.reduce((i,a,u)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let h={};return Object.entries(a.outlets).forEach(([v,y])=>{h[v]=typeof y=="string"?y.split("/"):y}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return typeof a!="string"?[...i,a]:u===0?(a.split("/").forEach((h,v)=>{v==0&&h==="."||(v==0&&h===""?r=!0:h===".."?e++:h!=""&&i.push(h))}),i):[...i,a]},[]);return new Oo(r,e,t)}var Qn=class{constructor(e,r,t){this.segmentGroup=e,this.processChildren=r,this.index=t}};function mm(n,e,r){if(n.isAbsolute)return new Qn(e,!0,0);if(!r)return new Qn(e,!1,NaN);if(r.parent===null)return new Qn(r,!0,0);let t=Ro(n.commands[0])?0:1,i=r.segments.length-1+t;return gm(r,i,n.numberOfDoubleDots)}function gm(n,e,r){let t=n,i=e,a=r;for(;a>i;){if(a-=i,t=t.parent,!t)throw new Ee(4005,!1);i=t.segments.length}return new Qn(t,!1,i-a)}function vm(n){return er(n[0])?n[0].outlets:{[ie]:n}}function Wu(n,e,r){if(n??=new de([],{}),n.segments.length===0&&n.hasChildren())return Zi(n,e,r);let t=ym(n,e,r),i=r.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let a=new de(n.segments.slice(0,t.pathIndex),{});return a.children[ie]=new de(n.segments.slice(t.pathIndex),n.children),Zi(a,0,i)}else return t.match&&i.length===0?new de(n.segments,{}):t.match&&!n.hasChildren()?La(n,e,r):t.match?Zi(n,0,i):La(n,e,r)}function Zi(n,e,r){if(r.length===0)return new de(n.segments,{});{let t=vm(r),i={};if(Object.keys(t).some(a=>a!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let a=Zi(n.children[ie],e,r);return new de(n.segments,a.children)}return Object.entries(t).forEach(([a,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(i[a]=Wu(n.children[a],e,u))}),Object.entries(n.children).forEach(([a,u])=>{t[a]===void 0&&(i[a]=u)}),new de(n.segments,i)}}function ym(n,e,r){let t=0,i=e,a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(t>=r.length)return a;let u=n.segments[i],h=r[t];if(er(h))break;let v=`${h}`,y=t<r.length-1?r[t+1]:null;if(i>0&&v===void 0)break;if(v&&y&&typeof y=="object"&&y.outlets===void 0){if(!Au(v,y,u))return a;t+=2}else{if(!Au(v,{},u))return a;t++}i++}return{match:!0,pathIndex:i,commandIndex:t}}function La(n,e,r){let t=n.segments.slice(0,e),i=0;for(;i<r.length;){let a=r[i];if(er(a)){let v=_m(a.outlets);return new de(t,v)}if(i===0&&Ro(r[0])){let v=n.segments[e];t.push(new Cn(v.path,Du(r[0]))),i++;continue}let u=er(a)?a.outlets[ie]:`${a}`,h=i<r.length-1?r[i+1]:null;u&&h&&Ro(h)?(t.push(new Cn(u,Du(h))),i+=2):(t.push(new Cn(u,{})),i++)}return new de(t,{})}function _m(n){let e={};return Object.entries(n).forEach(([r,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[r]=La(new de([],{}),0,t))}),e}function Du(n){let e={};return Object.entries(n).forEach(([r,t])=>e[r]=`${t}`),e}function Au(n,e,r){return n==r.path&&bt(e,r.parameters)}var Yi="imperative",je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(je||{}),it=class{constructor(e,r){this.id=e,this.url=r}},tr=class extends it{constructor(e,r,t="imperative",i=null){super(e,r),this.type=je.NavigationStart,this.navigationTrigger=t,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends it{constructor(e,r,t){super(e,r),this.urlAfterRedirects=t,this.type=je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ye=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ye||{}),Ba=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ba||{}),Tt=class extends it{constructor(e,r,t,i){super(e,r),this.reason=t,this.code=i,this.type=je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},In=class extends it{constructor(e,r,t,i){super(e,r),this.reason=t,this.code=i,this.type=je.NavigationSkipped}},nr=class extends it{constructor(e,r,t,i){super(e,r),this.error=t,this.target=i,this.type=je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ko=class extends it{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ua=class extends it{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},za=class extends it{constructor(e,r,t,i,a){super(e,r),this.urlAfterRedirects=t,this.state=i,this.shouldActivate=a,this.type=je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$a=class extends it{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wa=class extends it{constructor(e,r,t,i){super(e,r),this.urlAfterRedirects=t,this.state=i,this.type=je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ka=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ga=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ha=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qa=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Za=class{constructor(e){this.snapshot=e,this.type=je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ya=class{constructor(e){this.snapshot=e,this.type=je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ir=class{},ni=class{constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}};var Xa=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Bo(this.injector),this.attachRef=null}},Bo=(()=>{let e=class e{constructor(t){this.parentInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let a=this.getOrCreateContext(t);a.outlet=i,this.contexts.set(t,a)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Xa(this.parentInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(i){return new(i||e)(z(zn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Po=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=Qa(e,this._root);return r?r.children.map(t=>t.value):[]}firstChild(e){let r=Qa(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=Ja(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ja(e,this._root).map(r=>r.value)}};function Qa(n,e){if(n===e.value)return e;for(let r of e.children){let t=Qa(n,r);if(t)return t}return null}function Ja(n,e){if(n===e.value)return[e];for(let r of e.children){let t=Ja(n,r);if(t.length)return t.unshift(e),t}return[]}var Ze=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Xn(n){let e={};return n&&n.children.forEach(r=>e[r.value.outlet]=r),e}var Fo=class extends Po{constructor(e,r){super(e),this.snapshot=r,lc(this,e)}toString(){return this.snapshot.toString()}};function Ku(n){let e=bm(n),r=new Je([new Cn("",{})]),t=new Je({}),i=new Je({}),a=new Je({}),u=new Je(""),h=new Xt(r,t,a,u,i,ie,n,e.root);return h.snapshot=e.root,new Fo(new Ze(h,[]),e)}function bm(n){let e={},r={},t={},i="",a=new Jn([],e,t,i,r,ie,n,null,{});return new Vo("",new Ze(a,[]))}var Xt=class{constructor(e,r,t,i,a,u,h,v){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=t,this.fragmentSubject=i,this.dataSubject=a,this.outlet=u,this.component=h,this._futureSnapshot=v,this.title=this.dataSubject?.pipe(oe(y=>y[cr]))??Q(void 0),this.url=e,this.params=r,this.queryParams=t,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>ti(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>ti(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function No(n,e,r="emptyOnly"){let t,{routeConfig:i}=n;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:t={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&Hu(i)&&(t.resolve[cr]=i.title),t}var Jn=class{get title(){return this.data?.[cr]}constructor(e,r,t,i,a,u,h,v,y){this.url=e,this.params=r,this.queryParams=t,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.routeConfig=v,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Vo=class extends Po{constructor(e,r){super(r),this.url=e,lc(this,r)}toString(){return Gu(this._root)}};function lc(n,e){e.value._routerState=n,e.children.forEach(r=>lc(n,r))}function Gu(n){let e=n.children.length>0?` { ${n.children.map(Gu).join(", ")} } `:"";return`${n.value}${e}`}function ka(n){if(n.snapshot){let e=n.snapshot,r=n._futureSnapshot;n.snapshot=r,bt(e.queryParams,r.queryParams)||n.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&n.fragmentSubject.next(r.fragment),bt(e.params,r.params)||n.paramsSubject.next(r.params),Zp(e.url,r.url)||n.urlSubject.next(r.url),bt(e.data,r.data)||n.dataSubject.next(r.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ec(n,e){let r=bt(n.params,e.params)&&Jp(n.url,e.url),t=!n.parent!=!e.parent;return r&&!t&&(!n.parent||ec(n.parent,e.parent))}function Hu(n){return typeof n.title=="string"||n.title===null}var uc=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=U(Bo),this.location=U(io),this.changeDetector=U(nt),this.inputBinder=U(dc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:a}=t.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Ee(4013,!1);this._activatedRoute=t;let a=this.location,h=t.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,y=new tc(t,v,a.injector);this.activated=a.createComponent(h,{index:a.length,injector:y,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]});let n=e;return n})(),tc=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,r,t){this.route=e,this.childContexts=r,this.parent=t}get(e,r){return e===Xt?this.route:e===Bo?this.childContexts:this.parent.get(e,r)}},dc=new se("");function wm(n,e,r){let t=rr(n,e._root,r?r._root:void 0);return new Fo(t,e)}function rr(n,e,r){if(r&&n.shouldReuseRoute(e.value,r.value.snapshot)){let t=r.value;t._futureSnapshot=e.value;let i=Cm(n,e,r);return new Ze(t,i)}else{if(n.shouldAttach(e.value)){let a=n.retrieve(e.value);if(a!==null){let u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>rr(n,h)),u}}let t=Em(e.value),i=e.children.map(a=>rr(n,a));return new Ze(t,i)}}function Cm(n,e,r){return e.children.map(t=>{for(let i of r.children)if(n.shouldReuseRoute(t.value,i.value.snapshot))return rr(n,t,i);return rr(n,t)})}function Em(n){return new Xt(new Je(n.url),new Je(n.params),new Je(n.queryParams),new Je(n.fragment),new Je(n.data),n.outlet,n.component,n)}var or=class{constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}},qu="ngNavigationCancelingError";function jo(n,e){let{redirectTo:r,navigationBehaviorOptions:t}=Ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zu(!1,Ye.Redirect);return i.url=r,i.navigationBehaviorOptions=t,i}function Zu(n,e){let r=new Error(`NavigationCancelingError: ${n||""}`);return r[qu]=!0,r.cancellationCode=e,r}function Sm(n){return Yu(n)&&Ji(n.url)}function Yu(n){return!!n&&n[qu]}var Im=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ve],decls:1,vars:0,template:function(i,a){i&1&&ce(0,"router-outlet")},dependencies:[uc],encapsulation:2});let n=e;return n})();function Dm(n,e){return n.providers&&!n._injector&&(n._injector=Zl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hc(n){let e=n.children&&n.children.map(hc),r=e?ge(j({},n),{children:e}):j({},n);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ie&&(r.component=Im),r}function ut(n){return n.outlet||ie}function Am(n,e){let r=n.filter(t=>ut(t)===e);return r.push(...n.filter(t=>ut(t)!==e)),r}function lr(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Mm=(n,e,r,t)=>oe(i=>(new nc(e,i.targetRouterState,i.currentRouterState,r,t).activate(n),i)),nc=class{constructor(e,r,t,i,a){this.routeReuseStrategy=e,this.futureState=r,this.currState=t,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){let r=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,t,e),ka(this.futureState.root),this.activateChildRoutes(r,t,e)}deactivateChildRoutes(e,r,t){let i=Xn(r);e.children.forEach(a=>{let u=a.value.outlet;this.deactivateRoutes(a,i[u],t),delete i[u]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,t)})}deactivateRoutes(e,r,t){let i=e.value,a=r?r.value:null;if(i===a)if(i.component){let u=t.getContext(i.outlet);u&&this.deactivateChildRoutes(e,r,u.children)}else this.deactivateChildRoutes(e,r,t);else a&&this.deactivateRouteAndItsChildren(r,t)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let t=r.getContext(e.value.outlet),i=t&&e.value.component?t.children:r,a=Xn(e);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,i);if(t&&t.outlet){let u=t.outlet.detach(),h=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,r){let t=r.getContext(e.value.outlet),i=t&&e.value.component?t.children:r,a=Xn(e);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,i);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,r,t){let i=Xn(r);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],t),this.forwardEvent(new Ya(a.value.snapshot))}),e.children.length&&this.forwardEvent(new qa(e.value.snapshot))}activateRoutes(e,r,t){let i=e.value,a=r?r.value:null;if(ka(i),i===a)if(i.component){let u=t.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,u.children)}else this.activateChildRoutes(e,r,t);else if(i.component){let u=t.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),ka(h.route.value),this.activateChildRoutes(e,null,u.children)}else{let h=lr(i.snapshot);u.attachRef=null,u.route=i,u.injector=h??u.injector,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,t)}},Lo=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ei=class{constructor(e,r){this.component=e,this.route=r}};function xm(n,e,r){let t=n._root,i=e?e._root:null;return Hi(t,i,r,[t.value])}function Tm(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ri(n,e){let r=Symbol(),t=e.get(n,r);return t===r?typeof n=="function"&&!Bl(n)?n:e.get(n):t}function Hi(n,e,r,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let a=Xn(e);return n.children.forEach(u=>{Rm(u,a[u.value.outlet],r,t.concat([u.value]),i),delete a[u.value.outlet]}),Object.entries(a).forEach(([u,h])=>Xi(h,r.getContext(u),i)),i}function Rm(n,e,r,t,i={canDeactivateChecks:[],canActivateChecks:[]}){let a=n.value,u=e?e.value:null,h=r?r.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){let v=Om(u,a,a.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Lo(t)):(a.data=u.data,a._resolvedData=u._resolvedData),a.component?Hi(n,e,h?h.children:null,t,i):Hi(n,e,r,t,i),v&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new ei(h.outlet.component,u))}else u&&Xi(e,h,i),i.canActivateChecks.push(new Lo(t)),a.component?Hi(n,null,h?h.children:null,t,i):Hi(n,null,r,t,i);return i}function Om(n,e,r){if(typeof r=="function")return r(n,e);switch(r){case"pathParamsChange":return!En(n.url,e.url);case"pathParamsOrQueryParamsChange":return!En(n.url,e.url)||!bt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ec(n,e)||!bt(n.queryParams,e.queryParams);case"paramsChange":default:return!ec(n,e)}}function Xi(n,e,r){let t=Xn(n),i=n.value;Object.entries(t).forEach(([a,u])=>{i.component?e?Xi(u,e.children.getContext(a),r):Xi(u,null,r):Xi(u,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new ei(e.outlet.component,i)):r.canDeactivateChecks.push(new ei(null,i)):r.canDeactivateChecks.push(new ei(null,i))}function ur(n){return typeof n=="function"}function km(n){return typeof n=="boolean"}function Pm(n){return n&&ur(n.canLoad)}function Fm(n){return n&&ur(n.canActivate)}function Nm(n){return n&&ur(n.canActivateChild)}function Vm(n){return n&&ur(n.canDeactivate)}function jm(n){return n&&ur(n.canMatch)}function Xu(n){return n instanceof Tl||n?.name==="EmptyError"}var Ao=Symbol("INITIAL_VALUE");function ii(){return Ue(n=>Ti(n.map(e=>e.pipe(Wt(1),hn(Ao)))).pipe(oe(e=>{for(let r of e)if(r!==!0){if(r===Ao)return Ao;if(r===!1||Lm(r))return r}return!0}),vt(e=>e!==Ao),Wt(1)))}function Lm(n){return Ji(n)||n instanceof or}function Bm(n,e){return et(r=>{let{targetSnapshot:t,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=r;return u.length===0&&a.length===0?Q(ge(j({},r),{guardsResult:!0})):Um(u,t,i,n).pipe(et(h=>h&&km(h)?zm(t,a,n,e):Q(h)),oe(h=>ge(j({},r),{guardsResult:h})))})}function Um(n,e,r,t){return We(n).pipe(et(i=>Hm(i.component,i.route,r,e,t)),Kt(i=>i!==!0,!0))}function zm(n,e,r,t){return We(e).pipe(dn(i=>Yr(Wm(i.route.parent,t),$m(i.route,t),Gm(n,i.path,r),Km(n,i.route,r))),Kt(i=>i!==!0,!0))}function $m(n,e){return n!==null&&e&&e(new Za(n)),Q(!0)}function Wm(n,e){return n!==null&&e&&e(new Ha(n)),Q(!0)}function Km(n,e,r){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return Q(!0);let i=t.map(a=>ra(()=>{let u=lr(e)??r,h=ri(a,u),v=Fm(h)?h.canActivate(e,n):at(u,()=>h(e,n));return Qt(v).pipe(Kt())}));return Q(i).pipe(ii())}function Gm(n,e,r){let t=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>Tm(u)).filter(u=>u!==null).map(u=>ra(()=>{let h=u.guards.map(v=>{let y=lr(u.node)??r,S=ri(v,y),O=Nm(S)?S.canActivateChild(t,n):at(y,()=>S(t,n));return Qt(O).pipe(Kt())});return Q(h).pipe(ii())}));return Q(a).pipe(ii())}function Hm(n,e,r,t,i){let a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||a.length===0)return Q(!0);let u=a.map(h=>{let v=lr(e)??i,y=ri(h,v),S=Vm(y)?y.canDeactivate(n,e,r,t):at(v,()=>y(n,e,r,t));return Qt(S).pipe(Kt())});return Q(u).pipe(ii())}function qm(n,e,r,t){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let a=i.map(u=>{let h=ri(u,n),v=Pm(h)?h.canLoad(e,r):at(n,()=>h(e,r));return Qt(v)});return Q(a).pipe(ii(),Qu(t))}function Qu(n){return Al(Ne(e=>{if(typeof e!="boolean")throw jo(n,e)}),oe(e=>e===!0))}function Zm(n,e,r,t){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let a=i.map(u=>{let h=ri(u,n),v=jm(h)?h.canMatch(e,r):at(n,()=>h(e,r));return Qt(v)});return Q(a).pipe(ii(),Qu(t))}var sr=class{constructor(e){this.segmentGroup=e||null}},ar=class extends Error{constructor(e){super(),this.urlTree=e}};function Yn(n){return xi(new sr(n))}function Ym(n){return xi(new Ee(4e3,!1))}function Xm(n){return xi(Zu(!1,Ye.GuardRejected))}var ic=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let t=[],i=r.root;for(;;){if(t=t.concat(i.segments),i.numberOfChildren===0)return Q(t);if(i.numberOfChildren>1||!i.children[ie])return Ym(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,r,t,i,a){if(typeof r!="string"){let h=r,{queryParams:v,fragment:y,routeConfig:S,url:O,outlet:F,params:Y,data:re,title:ye}=i,ne=at(a,()=>h({params:Y,data:re,queryParams:v,fragment:y,routeConfig:S,url:O,outlet:F,title:ye}));if(ne instanceof Yt)throw new ar(ne);r=ne}let u=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,t);if(r[0]==="/")throw new ar(u);return u}applyRedirectCreateUrlTree(e,r,t,i){let a=this.createSegmentGroup(e,r.root,t,i);return new Yt(a,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let t={};return Object.entries(e).forEach(([i,a])=>{if(typeof a=="string"&&a[0]===":"){let h=a.substring(1);t[i]=r[h]}else t[i]=a}),t}createSegmentGroup(e,r,t,i){let a=this.createSegments(e,r.segments,t,i),u={};return Object.entries(r.children).forEach(([h,v])=>{u[h]=this.createSegmentGroup(e,v,t,i)}),new de(a,u)}createSegments(e,r,t,i){return r.map(a=>a.path[0]===":"?this.findPosParam(e,a,i):this.findOrReturn(a,t))}findPosParam(e,r,t){let i=t[r.path.substring(1)];if(!i)throw new Ee(4001,!1);return i}findOrReturn(e,r){let t=0;for(let i of r){if(i.path===e.path)return r.splice(t),i;t++}return e}},rc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qm(n,e,r,t,i){let a=fc(n,e,r);return a.matched?(t=Dm(e,t),Zm(t,e,r,i).pipe(oe(u=>u===!0?a:j({},rc)))):Q(a)}function fc(n,e,r){if(e.path==="**")return Jm(r);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||r.length>0)?j({},rc):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qp)(r,n,e);if(!i)return j({},rc);let a={};Object.entries(i.posParams??{}).forEach(([h,v])=>{a[h]=v.path});let u=i.consumed.length>0?j(j({},a),i.consumed[i.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Jm(n){return{matched:!0,parameters:n.length>0?Ou(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Mu(n,e,r,t){return r.length>0&&ng(n,r,t)?{segmentGroup:new de(e,tg(t,new de(r,n.children))),slicedSegments:[]}:r.length===0&&ig(n,r,t)?{segmentGroup:new de(n.segments,eg(n,r,t,n.children)),slicedSegments:r}:{segmentGroup:new de(n.segments,n.children),slicedSegments:r}}function eg(n,e,r,t){let i={};for(let a of r)if(Uo(n,e,a)&&!t[ut(a)]){let u=new de([],{});i[ut(a)]=u}return j(j({},t),i)}function tg(n,e){let r={};r[ie]=e;for(let t of n)if(t.path===""&&ut(t)!==ie){let i=new de([],{});r[ut(t)]=i}return r}function ng(n,e,r){return r.some(t=>Uo(n,e,t)&&ut(t)!==ie)}function ig(n,e,r){return r.some(t=>Uo(n,e,t))}function Uo(n,e,r){return(n.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function rg(n,e,r,t){return ut(n)!==t&&(t===ie||!Uo(e,r,n))?!1:fc(e,n,r).matched}function og(n,e,r){return e.length===0&&!n.children[r]}var oc=class{};function sg(n,e,r,t,i,a,u="emptyOnly"){return new sc(n,e,r,t,i,u,a).recognize()}var ag=31,sc=class{constructor(e,r,t,i,a,u,h){this.injector=e,this.configLoader=r,this.rootComponentType=t,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.applyRedirects=new ic(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=Mu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:r,rootSnapshot:t})=>{let i=new Ze(t,r),a=new Vo("",i),u=fm(t,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(u),{state:a,tree:u}}))}match(e){let r=new Jn([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,r).pipe(oe(t=>({children:t,rootSnapshot:r})),Bn(t=>{if(t instanceof ar)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof sr?this.noMatchError(t):t}))}processSegmentGroup(e,r,t,i,a){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,r,t,a):this.processSegment(e,r,t,t.segments,i,!0,a).pipe(oe(u=>u instanceof Ze?[u]:[]))}processChildren(e,r,t,i){let a=[];for(let u of Object.keys(t.children))u==="primary"?a.unshift(u):a.push(u);return We(a).pipe(dn(u=>{let h=t.children[u],v=Am(r,u);return this.processSegmentGroup(e,v,h,u,i)}),Vl((u,h)=>(u.push(...h),u)),sa(null),Fl(),et(u=>{if(u===null)return Yn(t);let h=Ju(u);return cg(h),Q(h)}))}processSegment(e,r,t,i,a,u,h){return We(r).pipe(dn(v=>this.processSegmentAgainstRoute(v._injector??e,r,v,t,i,a,u,h).pipe(Bn(y=>{if(y instanceof sr)return Q(null);throw y}))),Kt(v=>!!v),Bn(v=>{if(Xu(v))return og(t,i,a)?Q(new oc):Yn(t);throw v}))}processSegmentAgainstRoute(e,r,t,i,a,u,h,v){return rg(t,i,a,u)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,t,a,u,v):this.allowRedirects&&h?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,t,a,u,v):Yn(i):Yn(i)}expandSegmentAgainstRouteUsingRedirect(e,r,t,i,a,u,h){let{matched:v,parameters:y,consumedSegments:S,positionalParamSegments:O,remainingSegments:F}=fc(r,i,a);if(!v)return Yn(r);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ag&&(this.allowRedirects=!1));let Y=new Jn(a,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,xu(i),ut(i),i.component??i._loadedComponent??null,i,Tu(i)),re=No(Y,h,this.paramsInheritanceStrategy);Y.params=Object.freeze(re.params),Y.data=Object.freeze(re.data);let ye=this.applyRedirects.applyRedirectCommands(S,i.redirectTo,O,Y,e);return this.applyRedirects.lineralizeSegments(i,ye).pipe(et(ne=>this.processSegment(e,t,r,ne.concat(F),u,!1,h)))}matchSegmentAgainstRoute(e,r,t,i,a,u){let h=Qm(r,t,i,e,this.urlSerializer);return t.path==="**"&&(r.children={}),h.pipe(Ue(v=>v.matched?(e=t._injector??e,this.getChildConfig(e,t,i).pipe(Ue(({routes:y})=>{let S=t._loadedInjector??e,{parameters:O,consumedSegments:F,remainingSegments:Y}=v,re=new Jn(F,O,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,xu(t),ut(t),t.component??t._loadedComponent??null,t,Tu(t)),ye=No(re,u,this.paramsInheritanceStrategy);re.params=Object.freeze(ye.params),re.data=Object.freeze(ye.data);let{segmentGroup:ne,slicedSegments:le}=Mu(r,F,Y,y);if(le.length===0&&ne.hasChildren())return this.processChildren(S,y,ne,re).pipe(oe(Ge=>new Ze(re,Ge)));if(y.length===0&&le.length===0)return Q(new Ze(re,[]));let Me=ut(t)===a;return this.processSegment(S,y,ne,le,Me?ie:a,!0,re).pipe(oe(Ge=>new Ze(re,Ge instanceof Ze?[Ge]:[])))}))):Yn(r)))}getChildConfig(e,r,t){return r.children?Q({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?Q({routes:r._loadedRoutes,injector:r._loadedInjector}):qm(e,r,t,this.urlSerializer).pipe(et(i=>i?this.configLoader.loadChildren(e,r).pipe(Ne(a=>{r._loadedRoutes=a.routes,r._loadedInjector=a.injector})):Xm(r))):Q({routes:[],injector:e})}};function cg(n){n.sort((e,r)=>e.value.outlet===ie?-1:r.value.outlet===ie?1:e.value.outlet.localeCompare(r.value.outlet))}function lg(n){let e=n.value.routeConfig;return e&&e.path===""}function Ju(n){let e=[],r=new Set;for(let t of n){if(!lg(t)){e.push(t);continue}let i=e.find(a=>t.value.routeConfig===a.value.routeConfig);i!==void 0?(i.children.push(...t.children),r.add(i)):e.push(t)}for(let t of r){let i=Ju(t.children);e.push(new Ze(t.value,i))}return e.filter(t=>!r.has(t))}function xu(n){return n.data||{}}function Tu(n){return n.resolve||{}}function ug(n,e,r,t,i,a){return et(u=>sg(n,e,r,t,u.extractedUrl,i,a).pipe(oe(({state:h,tree:v})=>ge(j({},u),{targetSnapshot:h,urlAfterRedirects:v}))))}function dg(n,e){return et(r=>{let{targetSnapshot:t,guards:{canActivateChecks:i}}=r;if(!i.length)return Q(r);let a=new Set(i.map(v=>v.route)),u=new Set;for(let v of a)if(!u.has(v))for(let y of ed(v))u.add(y);let h=0;return We(u).pipe(dn(v=>a.has(v)?hg(v,t,n,e):(v.data=No(v,v.parent,n).resolve,Q(void 0))),Ne(()=>h++),aa(1),et(v=>h===u.size?Q(r):$t))})}function ed(n){let e=n.children.map(r=>ed(r)).flat();return[n,...e]}function hg(n,e,r,t){let i=n.routeConfig,a=n._resolve;return i?.title!==void 0&&!Hu(i)&&(a[cr]=i.title),fg(a,n,e,t).pipe(oe(u=>(n._resolvedData=u,n.data=No(n,n.parent,r).resolve,null)))}function fg(n,e,r,t){let i=Na(n);if(i.length===0)return Q({});let a={};return We(i).pipe(et(u=>pg(n[u],e,r,t).pipe(Kt(),Ne(h=>{if(h instanceof or)throw jo(new Qi,h);a[u]=h}))),aa(1),kl(a),Bn(u=>Xu(u)?$t:xi(u)))}function pg(n,e,r,t){let i=lr(e)??t,a=ri(n,i),u=a.resolve?a.resolve(e,r):at(i,()=>a(e,r));return Qt(u)}function Pa(n){return Ue(e=>{let r=n(e);return r?We(r).pipe(oe(()=>e)):Q(e)})}var td=(()=>{let e=class e{buildTitle(t){let i,a=t.root;for(;a!==void 0;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(u=>u.outlet===ie);return i}getResolvedTitleForRoute(t){return t.data[cr]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>U(mg),providedIn:"root"});let n=e;return n})(),mg=(()=>{let e=class e extends td{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(z(Eu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),pc=new se("",{providedIn:"root",factory:()=>({})}),mc=new se(""),gg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(ma)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Qt(t.loadComponent()).pipe(oe(nd),Ne(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Un(()=>{this.componentLoaders.delete(t)})),a=new Mi(i,()=>new Ie).pipe(ia());return this.componentLoaders.set(t,a),a}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let u=vg(i,this.compiler,t,this.onLoadEndListener).pipe(Un(()=>{this.childrenLoaders.delete(i)})),h=new Mi(u,()=>new Ie).pipe(ia());return this.childrenLoaders.set(i,h),h}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function vg(n,e,r,t){return Qt(n.loadChildren()).pipe(oe(nd),et(i=>i instanceof ql||Array.isArray(i)?Q(i):We(e.compileModuleAsync(i))),oe(i=>{t&&t(n);let a,u,h=!1;return Array.isArray(i)?(u=i,h=!0):(a=i.create(r).injector,u=a.get(mc,[],{optional:!0,self:!0}).flat()),{routes:u.map(hc),injector:a}}))}function yg(n){return n&&typeof n=="object"&&"default"in n}function nd(n){return yg(n)?n.default:n}var gc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>U(_g),providedIn:"root"});let n=e;return n})(),_g=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bg=new se("");var wg=new se(""),Cg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie,this.transitionAbortSubject=new Ie,this.configLoader=U(gg),this.environmentInjector=U(zn),this.urlSerializer=U(cc),this.rootContexts=U(Bo),this.location=U(mo),this.inputBindingEnabled=U(dc,{optional:!0})!==null,this.titleStrategy=U(td),this.options=U(pc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(gc),this.createViewTransition=U(bg,{optional:!0}),this.navigationErrorHandler=U(wg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let t=a=>this.events.next(new Ka(a)),i=a=>this.events.next(new Ga(a));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ge(j(j({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,a){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yi,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(u=>u.id!==0),oe(u=>ge(j({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),Ue(u=>{let h=!1,v=!1;return Q(u).pipe(Ue(y=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",Ye.SupersededByNewNavigation),$t;this.currentTransition=u,this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?ge(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let S=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),O=y.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!S&&O!=="reload"){let F="";return this.events.next(new In(y.id,this.urlSerializer.serialize(y.rawUrl),F,Ba.IgnoredSameUrlNavigation)),y.resolve(!1),$t}if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Q(y).pipe(Ue(F=>{let Y=this.transitions?.getValue();return this.events.next(new tr(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),Y!==this.transitions?.getValue()?$t:Promise.resolve(F)}),ug(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(F=>{u.targetSnapshot=F.targetSnapshot,u.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation=ge(j({},this.currentNavigation),{finalUrl:F.urlAfterRedirects});let Y=new ko(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(Y)}));if(S&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){let{id:F,extractedUrl:Y,source:re,restoredState:ye,extras:ne}=y,le=new tr(F,this.urlSerializer.serialize(Y),re,ye);this.events.next(le);let Me=Ku(this.rootComponentType).snapshot;return this.currentTransition=u=ge(j({},y),{targetSnapshot:Me,urlAfterRedirects:Y,extras:ge(j({},ne),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=Y,Q(u)}else{let F="";return this.events.next(new In(y.id,this.urlSerializer.serialize(y.extractedUrl),F,Ba.IgnoredByUrlHandlingStrategy)),y.resolve(!1),$t}}),Ne(y=>{let S=new Ua(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(S)}),oe(y=>(this.currentTransition=u=ge(j({},y),{guards:xm(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),u)),Bm(this.environmentInjector,y=>this.events.next(y)),Ne(y=>{if(u.guardsResult=y.guardsResult,y.guardsResult&&typeof y.guardsResult!="boolean")throw jo(this.urlSerializer,y.guardsResult);let S=new za(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(S)}),vt(y=>y.guardsResult?!0:(this.cancelNavigationTransition(y,"",Ye.GuardRejected),!1)),Pa(y=>{if(y.guards.canActivateChecks.length)return Q(y).pipe(Ne(S=>{let O=new $a(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(O)}),Ue(S=>{let O=!1;return Q(S).pipe(dg(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>O=!0,complete:()=>{O||this.cancelNavigationTransition(S,"",Ye.NoDataFromResolver)}}))}),Ne(S=>{let O=new Wa(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(O)}))}),Pa(y=>{let S=O=>{let F=[];O.routeConfig?.loadComponent&&!O.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(O.routeConfig).pipe(Ne(Y=>{O.component=Y}),oe(()=>{})));for(let Y of O.children)F.push(...S(Y));return F};return Ti(S(y.targetSnapshot.root)).pipe(sa(null),Wt(1))}),Pa(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:y,targetSnapshot:S}=u,O=this.createViewTransition?.(this.environmentInjector,y.root,S.root);return O?We(O).pipe(oe(()=>u)):Q(u)}),oe(y=>{let S=wm(t.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=u=ge(j({},y),{targetRouterState:S}),this.currentNavigation.targetRouterState=S,u}),Ne(()=>{this.events.next(new ir)}),Mm(this.rootContexts,t.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Wt(1),Ne({next:y=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{h=!0}}),At(this.transitionAbortSubject.pipe(Ne(y=>{throw y}))),Un(()=>{!h&&!v&&this.cancelNavigationTransition(u,"",Ye.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(y=>{if(v=!0,Yu(y))this.events.next(new Tt(u.id,this.urlSerializer.serialize(u.extractedUrl),y.message,y.cancellationCode)),Sm(y)?this.events.next(new ni(y.url,y.navigationBehaviorOptions)):u.resolve(!1);else{let S=new nr(u.id,this.urlSerializer.serialize(u.extractedUrl),y,u.targetSnapshot??void 0);try{let O=at(this.environmentInjector,()=>this.navigationErrorHandler?.(S));if(O instanceof or){let{message:F,cancellationCode:Y}=jo(this.urlSerializer,O);this.events.next(new Tt(u.id,this.urlSerializer.serialize(u.extractedUrl),F,Y)),this.events.next(new ni(O.redirectTo,O.navigationBehaviorOptions))}else{this.events.next(S);let F=t.errorHandler(y);u.resolve(!!F)}}catch(O){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(O)}}return $t}))}))}cancelNavigationTransition(t,i,a){let u=new Tt(t.id,this.urlSerializer.serialize(t.extractedUrl),i,a);this.events.next(u),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Eg(n){return n!==Yi}var Sg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>U(Ig),providedIn:"root"});let n=e;return n})(),ac=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},Ig=(()=>{let e=class e extends ac{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=yn(e)))(a||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),id=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>U(Dg),providedIn:"root"});let n=e;return n})(),Dg=(()=>{let e=class e extends id{constructor(){super(...arguments),this.location=U(mo),this.urlSerializer=U(cc),this.options=U(pc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(gc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ku(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof tr)this.stateMemento=this.createStateMemento();else if(t instanceof In)this.rawUrlTree=i.initialUrl;else if(t instanceof ko){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(a,i)}}else t instanceof ir?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Tt&&(t.code===Ye.GuardRejected||t.code===Ye.NoDataFromResolver)?this.restoreHistory(i):t instanceof nr?this.restoreHistory(i,!0):t instanceof Sn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let a=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){let u=this.browserPageId,h=j(j({},i.extras.state),this.generateNgRouterState(i.id,u));this.location.replaceState(a,"",h)}else{let u=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(a,"",u)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,u=this.currentPageId-a;u!==0?this.location.historyGo(u):this.currentUrlTree===t.finalUrl&&u===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=yn(e)))(a||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qi=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qi||{});function Ag(n,e){n.events.pipe(vt(r=>r instanceof Sn||r instanceof Tt||r instanceof nr||r instanceof In),oe(r=>r instanceof Sn||r instanceof In?qi.COMPLETE:(r instanceof Tt?r.code===Ye.Redirect||r.code===Ye.SupersededByNewNavigation:!1)?qi.REDIRECTING:qi.FAILED),vt(r=>r!==qi.REDIRECTING),Wt(1)).subscribe(()=>{e()})}function Mg(n){throw n}var xg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=U(ho),this.stateManager=U(id),this.options=U(pc,{optional:!0})||{},this.pendingTasks=U(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(Cg),this.urlSerializer=U(cc),this.location=U(mo),this.urlHandlingStrategy=U(gc),this._events=new Ie,this.errorHandler=this.options.errorHandler||Mg,this.navigated=!1,this.routeReuseStrategy=U(Sg),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(mc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(dc,{optional:!0}),this.eventsSubscription=new Zr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let a=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(a!==null&&u!==null){if(this.stateManager.handleRouterEvent(i,u),i instanceof Tt&&i.code!==Ye.Redirect&&i.code!==Ye.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Sn)this.navigated=!0;else if(i instanceof ni){let h=i.navigationBehaviorOptions,v=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),y=j({info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Eg(a.source)},h);this.scheduleNavigation(v,Yi,null,y,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Og(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,a){let u={replaceUrl:!0},h=a?.navigationId?a:null;if(a){let y=j({},a);delete y.navigationId,delete y.\u0275routerPageId,Object.keys(y).length!==0&&(u.state=y)}let v=this.parseUrl(t);this.scheduleNavigation(v,i,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:a,queryParams:u,fragment:h,queryParamsHandling:v,preserveFragment:y}=i,S=y?this.currentUrlTree.fragment:h,O=null;switch(v){case"merge":O=j(j({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}O!==null&&(O=this.removeEmptyProps(O));let F;try{let Y=a?a.snapshot:this.routerState.snapshot.root;F=Uu(Y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),F=this.currentUrlTree.root}return zu(F,t,O,S??null)}navigateByUrl(t,i={skipLocationChange:!1}){let a=Ji(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,Yi,null,i)}navigate(t,i={skipLocationChange:!1}){return Rg(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let a;if(i===!0?a=j({},xg):i===!1?a=j({},Tg):a=i,Ji(t))return Su(this.currentUrlTree,t,a);let u=this.parseUrl(t);return Su(this.currentUrlTree,u,a)}removeEmptyProps(t){return Object.entries(t).reduce((i,[a,u])=>(u!=null&&(i[a]=u),i),{})}scheduleNavigation(t,i,a,u,h){if(this.disposed)return Promise.resolve(!1);let v,y,S;h?(v=h.resolve,y=h.reject,S=h.promise):S=new Promise((F,Y)=>{v=F,y=Y});let O=this.pendingTasks.add();return Ag(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(O))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:v,reject:y,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(F=>Promise.reject(F))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Rg(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ee(4008,!1)}function Og(n){return!(n instanceof ir)&&!(n instanceof ni)}var kg=new se("");function rd(n,...e){return pn([{provide:mc,multi:!0,useValue:n},[],{provide:Xt,useFactory:Pg,deps:[Jt]},{provide:pa,multi:!0,useFactory:Fg},e.map(r=>r.\u0275providers)])}function Pg(n){return n.routerState.root}function Fg(){let n=U($n);return e=>{let r=n.get(po);if(e!==r.components[0])return;let t=n.get(Jt),i=n.get(Ng);n.get(Vg)===1&&t.initialNavigation(),n.get(jg,null,ca.Optional)?.setUpPreloading(),n.get(kg,null,ca.Optional)?.init(),t.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ng=new se("",{factory:()=>new Ie}),Vg=new se("",{providedIn:"root",factory:()=>1});var jg=new se("");var vc;try{vc=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vc=!1}var wt=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?iu(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||vc)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(z(Mt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var dr;function Lg(){if(dr==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dr=!0}))}finally{dr=dr||!1}return dr}function yc(n){return Lg()?n:!!n.capture}var dt=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(dt||{}),$o,Dn;function od(){if(Dn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Dn=!1,Dn;if("scrollBehavior"in document.documentElement.style)Dn=!0;else{let n=Element.prototype.scrollTo;n?Dn=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Dn=!1}}return Dn}function oi(){if(typeof document!="object"||!document)return dt.NORMAL;if($o==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let r=document.createElement("div"),t=r.style;t.width="2px",t.height="1px",n.appendChild(r),document.body.appendChild(n),$o=dt.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,$o=n.scrollLeft===0?dt.NEGATED:dt.INVERTED),n.remove()}return $o}function sd(n){return n.composedPath?n.composedPath()[0]:n.target}function ad(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function si(n,e=0){return Bg(n)?Number(n):e}function Bg(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function bc(n){return Array.isArray(n)?n:[n]}function hr(n){return n instanceof Pe?n.nativeElement:n}var cd=new Set,An,Ug=(()=>{let e=class e{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$g}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&zg(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(i){return new(i||e)(z(wt),z(ki,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function zg(n,e){if(!cd.has(n))try{An||(An=document.createElement("style"),e&&An.setAttribute("nonce",e),An.setAttribute("type","text/css"),document.head.appendChild(An)),An.sheet&&(An.sheet.insertRule(`@media ${n} {body{ }}`,0),cd.add(n))}catch(r){console.error(r)}}function $g(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var ud=(()=>{let e=class e{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ie}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ld(bc(t)).some(a=>this._registerQuery(a).mql.matches)}observe(t){let a=ld(bc(t)).map(h=>this._registerQuery(h).observable),u=Ti(a);return u=Yr(u.pipe(Wt(1)),u.pipe(Ll(1),Ol(0))),u.pipe(oe(h=>{let v={matches:!1,breakpoints:{}};return h.forEach(({matches:y,query:S})=>{v.matches=v.matches||y,v.breakpoints[S]=y}),v}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),u={observable:new Dt(h=>{let v=y=>this._zone.run(()=>h.next(y));return i.addListener(v),()=>{i.removeListener(v)}}).pipe(hn(i),oe(({matches:h})=>({query:t,matches:h})),At(this._destroySubject)),mql:i};return this._queries.set(t,u),u}};e.\u0275fac=function(i){return new(i||e)(z(Ug),z(be))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ld(n){return n.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}function fd(n){return n.buttons===0||n.detail===0}function pd(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Mn=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Mn||{}),dd="cdk-high-contrast-black-on-white",hd="cdk-high-contrast-white-on-black",wc="cdk-high-contrast-active",md=(()=>{let e=class e{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=U(ud).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Mn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,a=i&&i.getComputedStyle?i.getComputedStyle(t):null,u=(a&&a.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Mn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Mn.BLACK_ON_WHITE}return Mn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(wc,dd,hd),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Mn.BLACK_ON_WHITE?t.add(wc,dd):i===Mn.WHITE_ON_BLACK&&t.add(wc,hd)}}};e.\u0275fac=function(i){return new(i||e)(z(wt),z(Se))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Kg=new se("cdk-dir-doc",{providedIn:"root",factory:Gg});function Gg(){return U(Se)}var Hg=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function qg(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Hg.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Wo=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new De,t){let i=t.body?t.body.dir:null,a=t.documentElement?t.documentElement.dir:null;this.value=qg(i||a||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(z(Kg,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ai=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let n=e;return n})();function Yg(){return!0}var Xg=new se("mat-sanity-checks",{providedIn:"root",factory:Yg}),Cd=(()=>{let e=class e{constructor(t,i,a){this._sanityChecks=i,this._document=a,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return ad()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(i){return new(i||e)(z(md),z(Xg,8),z(Se))},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[ai,ai]});let n=e;return n})();var rt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(rt||{}),Cc=class{constructor(e,r,t,i=!1){this._renderer=e,this.element=r,this.config=t,this._animationForciblyDisabledThroughCss=i,this.state=rt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},gd=yc({passive:!0,capture:!0}),Ec=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let r=sd(e);r&&this._events.get(e.type)?.forEach((t,i)=>{(i===r||i.contains(r))&&t.forEach(a=>a.handleEvent(e))})}}addHandler(e,r,t,i){let a=this._events.get(r);if(a){let u=a.get(t);u?u.add(i):a.set(t,new Set([i]))}else this._events.set(r,new Map([[t,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,gd)})}removeHandler(e,r,t){let i=this._events.get(e);if(!i)return;let a=i.get(r);a&&(a.delete(t),a.size===0&&i.delete(r),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,gd)))}},vd={enterDuration:225,exitDuration:150},Qg=800,yd=yc({passive:!0,capture:!0}),_d=["mousedown","touchstart"],bd=["mouseup","mouseleave","touchend","touchcancel"],fr=class fr{constructor(e,r,t,i){this._target=e,this._ngZone=r,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=hr(t))}fadeInRipple(e,r,t={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=j(j({},vd),t.animation);t.centered&&(e=i.left+i.width/2,r=i.top+i.height/2);let u=t.radius||Jg(e,r,i),h=e-i.left,v=r-i.top,y=a.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=`${h-u}px`,S.style.top=`${v-u}px`,S.style.height=`${u*2}px`,S.style.width=`${u*2}px`,t.color!=null&&(S.style.backgroundColor=t.color),S.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(S);let O=window.getComputedStyle(S),F=O.transitionProperty,Y=O.transitionDuration,re=F==="none"||Y==="0s"||Y==="0s, 0s"||i.width===0&&i.height===0,ye=new Cc(this,S,t,re);S.style.transform="scale3d(1, 1, 1)",ye.state=rt.FADING_IN,t.persistent||(this._mostRecentTransientRipple=ye);let ne=null;return!re&&(y||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let le=()=>this._finishRippleTransition(ye),Me=()=>this._destroyRipple(ye);S.addEventListener("transitionend",le),S.addEventListener("transitioncancel",Me),ne={onTransitionEnd:le,onTransitionCancel:Me}}),this._activeRipples.set(ye,ne),(re||!y)&&this._finishRippleTransition(ye),ye}fadeOutRipple(e){if(e.state===rt.FADING_OUT||e.state===rt.HIDDEN)return;let r=e.element,t=j(j({},vd),e.config.animation);r.style.transitionDuration=`${t.exitDuration}ms`,r.style.opacity="0",e.state=rt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let r=hr(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,_d.forEach(t=>{fr._eventManager.addHandler(this._ngZone,t,r,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bd.forEach(r=>{this._triggerElement.addEventListener(r,this,yd)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===rt.FADING_IN?this._startFadeOutTransition(e):e.state===rt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let r=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=rt.VISIBLE,!t&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=rt.HIDDEN,r!==null&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){let r=fd(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Qg;!this._target.rippleDisabled&&!r&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!pd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=e.changedTouches;if(r)for(let t=0;t<r.length;t++)this.fadeInRipple(r[t].clientX,r[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let r=e.state===rt.VISIBLE||e.config.terminateOnPointerUp&&e.state===rt.FADING_IN;!e.config.persistent&&r&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(_d.forEach(r=>fr._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&(bd.forEach(r=>e.removeEventListener(r,this,yd)),this._pointerUpEventsRegistered=!1))}};fr._eventManager=new Ec;var wd=fr;function Jg(n,e,r){let t=Math.max(Math.abs(n-r.left),Math.abs(n-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(t*t+i*i)}function ev(n,e){n&1&&ce(0,"div",2)}var tv=new se("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Sd=(()=>{let e=class e{constructor(t,i,a,u,h){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=a,this._animationMode=u,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new De,this._mode="determinate",this._transitionendHandler=v=>{this.animationEnd.observers.length===0||!v.target||!v.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=u==="NoopAnimations",h&&(h.color&&(this.color=this._defaultColor=h.color),this.mode=h.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=Ed(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Ed(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};e.\u0275fac=function(i){return new(i||e)(L(Pe),L(be),L(nt),L(Oi,8),L(tv,8))},e.\u0275cmp=pe({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,a){i&2&&(Gn("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),Yl("mat-"+a.color),bn("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",ga],bufferValue:[2,"bufferValue","bufferValue",ga],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[_n,ve],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,a){i&1&&(W(0,"div",0),ce(1,"div",1),Fe(2,ev,1,0,"div",2),K(),W(3,"div",3),ce(4,"span",4),K(),W(5,"div",5),ce(6,"span",4),K()),i&2&&(ee(),Fi("flex-basis",a._getBufferBarFlexBasis()),ee(),Ve(a.mode==="buffer"?2:-1),ee(),Fi("transform",a._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0});let n=e;return n})();function Ed(n,e=0,r=100){return Math.max(e,Math.min(r,n))}var Id=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[Cd]});let n=e;return n})();var Ko=class{constructor(e,r){this.name="",this.type="",this.color="",this.rarity="",this.author="",this.power=0,this.toughness=0,this.manaCost="",this.convertedManaCost=0,this.count=0,this.foilCount=0,this.specialFoilCount=0,this.price="",this.foilPrice="",this.number=0,this.set="",this.setCode="",this.id=0,this.multiverseId=0,this.comments="",this.toTrade=0,this.wanted=0,this.condition="",this.grading="",this.language="",this.tcgId=0,this.cardMarketId=0,this.scryfallId=0,this.imageUri="loading",this.releaseDate="";let t=0;for(let i of Object.keys(this))e[t]===i.toString().toLowerCase()&&(this[i]=r[t]),t++}};var ht=class{constructor(e,r){this.cards=e,this.file=r}};var Go=class{constructor(e,r,t){this.object=e,this.has_more=r,this.data=t}getDownloadUri(e){let r="";return this.data.forEach(t=>{t.type===e&&(r=t.download_uri)}),r}},Ho=class{constructor(e,r,t,i,a,u,h,v,y,S,O){this.object=e,this.id=r,this.type=t,this.updated_at=i,this.uri=a,this.name=u,this.description=h,this.size=v,this.download_uri=y,this.content_type=S,this.content_encoding=O}};var qo=class{constructor(e){this.cards=e}},Zo=class{constructor(e,r,t,i,a,u,h){this.id=e,this.tcgplayer_id=r,this.cardmarket_id=t,this.image_uris=i,this.prices=a,this.faces=u,this.released_at=h}},Yo=class{constructor(e){this.image_uris=e}},pr=class{constructor(e,r,t,i,a,u){this.small=e,this.normal=r,this.large=t,this.png=i,this.art_crop=a,this.border_crop=u}},Xo=class{constructor(e,r,t,i){this.eur=e,this.eur_foil=r,this.usd=t,this.usd_etched=i}};var ci=class{constructor(){this.white=!1,this.blue=!1,this.black=!1,this.red=!1,this.green=!1,this.multicolor=!1,this.colorless=!1}};var mr=class{constructor(){this.common=!1,this.uncommon=!1,this.rare=!1,this.mythic=!1,this.special=!1}};var Qo=ip(Dd(),1),Ad=Symbol.for("Dexie"),Jo=globalThis[Ad]||(globalThis[Ad]=Qo.default);if(Qo.default.semVer!==Jo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qo.default.semVer} and ${Jo.semVer}`);var{liveQuery:nb,mergeRanges:ib,rangesOverlap:rb,RangeSet:ob,cmp:sb,Entity:ab,PropModSymbol:cb,PropModification:lb,replacePrefix:ub,add:db,remove:hb}=Jo;var Md=Jo;var xd=(()=>{let e=class e extends Md{constructor(){super("MyAppDatabase"),this.version(1).stores({collections:"++id, cards, file"}),this.collections=this.table("collections")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Xe=(()=>{let e=class e{constructor(t,i,a){this.http=t,this.router=i,this.dexieDB=a,this.rightToLeft=!0,this.nameFilter="",this.colorFilter=new ci,this.colorUnfilter=new ci,this.rarityFilter=new mr,this.resultingCollectionUpdated=new De}transferCollections(t,i){this.collection1=t,this.collection2=i,this.saveCollection()}saveCollection(){return qe(this,null,function*(){!this.collection1||!this.collection2||(yield this.dexieDB.collections.clear(),this.dexieDB.collections.put(this.collection1,0),this.dexieDB.collections.put(this.collection2,1))})}loadCollections(){return qe(this,null,function*(){let t=yield this.dexieDB.collections.toArray();t.length==2&&(this.collection1=t[0],this.collection2=t[1])})}swap(){this.rightToLeft=!this.rightToLeft,this.updateResultingCollection()}update(){this.updateResultingCollection()}updateColors(t,i){i?this.colorFilter=t:this.colorUnfilter=t,this.updateResultingCollection()}updateName(t){this.nameFilter=t,this.updateResultingCollection()}updateRarities(t){this.rarityFilter=t,this.updateResultingCollection()}getCollection(t){return qe(this,null,function*(){return(this.collection1===void 0||this.collection2===void 0)&&(yield this.loadCollections()),this.updateResultingCollection(),t==="Details 1"?this.collection1:this.collection2})}updateResultingCollection(){if(this.collection1===void 0||this.collection2===void 0)return;let t=this.filterCollection(this.collection1),i=this.filterCollection(this.collection2),a=new ht(this.rightToLeft?i:t),u=new ht(this.rightToLeft?t:i);a.cards=a.cards.filter(h=>!u?.cards.some(v=>h.id===v.id)),this.resultingCollectionUpdated.emit(a)}filterCollection(t){return t.cards.filter(i=>i.name.toLowerCase().includes(this.nameFilter.toLowerCase())&&this.filterColor(this.colorFilter,i,!0)&&this.filterColor(this.colorUnfilter,i,!1)&&this.filterRarity(i))}filterRarity(t){if(t.rarity===void 0)return!1;for(let[i,a]of Object.entries(this.rarityFilter))if(i.toLowerCase()==t.rarity.toLowerCase()&&a)return!1;return!0}filterColor(t,i,a){if(i.manaCost===void 0)return!1;let u=(h,v)=>v?i.manaCost.includes(h):!i.manaCost.includes(h);if(t.white&&!u("W",a)||t.blue&&!u("U",a)||t.black&&!u("B",a)||t.red&&!u("R",a)||t.green&&!u("G",a))return!1;if(t.colorless){let h=["W","U","B","R","G"].some(v=>i.manaCost.includes(v));if(a&&h||!a&&!h)return!1}if(t.multicolor){let h=0;if(i.manaCost.includes("W")&&h++,i.manaCost.includes("U")&&h++,i.manaCost.includes("B")&&h++,i.manaCost.includes("R")&&h++,i.manaCost.includes("G")&&h++,a&&h<2||!a&&h>=2)return!1}return!0}};e.\u0275fac=function(i){return new(i||e)(z(zi),z(Jt),z(xd))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var xn=(()=>{let e=class e{constructor(t,i){this.http=t,this.compareService=i,this.scryFallURL="https://api.scryfall.com",this.scryfallBulkDataType="default_cards",this.collectionLoading=new De,this.collectionLoaded=new De,this.scryfallLoaded=new De,this.collectionsReady=new De,this.cards=[]}transferCollections(){this.collection1&&this.collection2&&this.compareService.transferCollections(this.collection1,this.collection2)}loadScryfallCollection(){if(this.scryfallCollection)return this.scryfallCollection;this.getScryfallCollection().subscribe(t=>{this.scryfallCollection=t,this.scryfallLoaded.emit(t),this.collection1!==void 0&&this.linkImagesToCards(this.collection1),this.collection2!==void 0&&this.linkImagesToCards(this.collection2)})}getScryfallCollection(){return this.getBulkData().pipe(Ue(t=>{let i=t.getDownloadUri(this.scryfallBulkDataType);return this.http.get(i).pipe(oe(a=>{let u=[];return a.forEach(h=>{let v=[];h.card_faces&&(v=h.card_faces.map(O=>new Yo(new pr(O.image_uris?.small,O.image_uris?.normal,O.image_uris?.large,O.image_uris?.png,O.image_uris?.art_crop,O.image_uris?.border_crop))));let y=new pr(h.image_uris?.small,h.image_uris?.normal,h.image_uris?.large,h.image_uris?.png,h.image_uris?.art_crop,h.image_uris?.border_crop),S=new Xo(h.prices?.eur,h.prices?.eur_foil,h.prices?.usd,h.prices?.usd_foil);u.push(new Zo(h.id,h.tcgplayer_id,h.cardmarket_id,y,S,v,h.released_at))}),new qo(u)}))}))}getBulkData(){return this.http.get(this.scryFallURL+"/bulk-data").pipe(oe(t=>{let i=t.data.map(a=>new Ho(a.object,a.id,a.type,a.updated_at,a.uri,a.name,a.description,a.size,a.download_uri,a.content_type,a.content_encoding));return new Go(t.object,t.has_more,i)}))}loadUrzaCards(t,i,a,u,h){return qe(this,null,function*(){let v=[];a=a.map(O=>O.replaceAll(" ","").toLowerCase());let y=100;for(let O=0;O<u.length;O++)v.push(new Ko(a,u[O].split(new RegExp(`${i}(?!\\s)`)))),O%y===0&&(this.collectionLoading.emit({progress:Math.round(100*O/u.length),importerId:h}),yield new Promise(F=>setTimeout(F,0)));let S=new ht(v,t);h==="Importer 1"?this.collection1=S:h==="Importer 2"&&(this.collection2=S),this.collectionsReady.emit(this.collection1!==void 0&&this.collection2!==void 0),this.collectionLoading.emit({progress:100,importerId:h}),this.collectionLoaded.emit(S),yield this.linkImagesToCards(S)})}linkImagesToCards(t){return qe(this,null,function*(){if(!this.scryfallCollection)return;let i=10,a=this.scryfallCollection.cards,u=0;for(let h of t.cards){let v=a.find(y=>y.id===h.scryfallId);h.imageUri="",v&&(v.image_uris.normal!==void 0?h.imageUri=v.image_uris.normal:v.faces.length>0&&(h.imageUri=v.faces[0].image_uris.normal),h.prices=v.prices,h.releaseDate=v.released_at),u%i===0&&(yield new Promise(y=>setTimeout(y,0))),u=u+1}console.log("Finished loading"),this.collectionLoaded.emit(t)})}clearImportedCollection(t){t==="Importer 1"?this.collection1=void 0:t==="Importer 2"&&(this.collection2=void 0),this.collectionsReady.emit(!1)}areCollectionsImported(){return this.collection1!==void 0&&this.collection2!==void 0}};e.\u0275fac=function(i){return new(i||e)(z(zi),z(Xe))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function rv(n,e){if(n&1){let r=Ni();W(0,"div",3)(1,"p",4),me(2),K(),W(3,"button",5),Ke("click",function(){gn(r);let i=tt();return vn(i.clearFile())}),me(4,"Clear"),K()(),ce(5,"img",6)}if(n&2){let r=tt();ee(2),ct(r.file.name),ee(3),ze("src",r.imageURL,eo)}}function ov(n,e){if(n&1&&(W(0,"div",1)(1,"p",7),me(2),K(),ce(3,"mat-progress-bar",8),K()),n&2){let r=tt();ee(2),_t("Progress: ",r.progress,"%"),ee(),ze("value",r.progress)}}function sv(n,e){if(n&1){let r=Ni();W(0,"div",2)(1,"div",9),ce(2,"i",10),W(3,"p",11),me(4,"Upload your collection (.csv)"),K()(),W(5,"input",12),Ke("change",function(i){gn(r);let a=tt();return vn(a.getFile(i))}),K()()}}var Td=(()=>{let e=class e{constructor(t){this.cardsService=t,this.id=Gt.required(),this.imageURL="",this.progress=0}ngOnInit(){this.cardsService.collectionLoading.subscribe(i=>{this.id()===i.importerId&&(this.progress=i.progress)});let t=this.id()==="Importer 1"?this.cardsService.collection1:this.cardsService.collection2;t&&(this.file=t.file,this.progress=100)}clearFile(){this.file=void 0,this.progress=0,this.cardsService.clearImportedCollection(this.id())}getFile(t){let i=new FileReader;this.file=t.target.files[0],i.onload=()=>qe(this,null,function*(){let u=i.result.split(/[\r\n]+/g);if(u.length>2){let h=",",v=u[0];v.includes("sep=")&&v.length>=7&&(h=u[0].slice(5,6));let y=u[1].split(h);this.cardsService.loadUrzaCards(this.file,h,y,u.slice(2),this.id())}}),i.readAsText(this.file)}};e.\u0275fac=function(i){return new(i||e)(L(xn))},e.\u0275cmp=pe({type:e,selectors:[["app-collection-import"]],inputs:{id:[1,"id"]},standalone:!0,features:[ve],decls:4,vars:1,consts:[[1,"import"],[1,"load-container"],[1,"file-container"],[1,"file-uploaded"],[1,"file-name"],[1,"btn","btn-light","reset",3,"click"],["height","400",3,"src"],[1,"progress-desc"],["mode","indeterminate",1,"progress",3,"value"],[1,"upload"],[1,"bi","bi-upload","upload-icon",2,"font-size","3rem"],[1,"upload-description"],["type","file","accept",".csv",1,"file",3,"change"]],template:function(i,a){i&1&&(W(0,"div",0),Fe(1,rv,6,2)(2,ov,4,2,"div",1)(3,sv,6,0,"div",2),K()),i&2&&(ee(),Ve(a.progress===100?1:a.progress>0&&a.progress<100?2:3))},dependencies:[Id,Sd],styles:[".import[_ngcontent-%COMP%]{width:100%;min-width:200px;height:200px}.file-container[_ngcontent-%COMP%]{height:100%;background-color:#d3d3d3;border-radius:20px;position:relative}.file[_ngcontent-%COMP%]{opacity:0;padding:5rem;width:100%;height:100%;position:absolute;top:0;left:0}.file[_ngcontent-%COMP%]:hover{cursor:pointer}.upload[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center}.upload-icon[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;top:50%;left:50%;margin:-50px 0 0 -50px}.upload-description[_ngcontent-%COMP%]{width:100%;height:auto;position:absolute;top:50%;margin:20px 0 0}.file-uploaded[_ngcontent-%COMP%]{background-color:#d47100;position:relative;color:#fff;border-radius:20px;height:100%}.file-name[_ngcontent-%COMP%]{width:100%;padding:20px;position:absolute;text-align:center;font-weight:700;top:50%;margin:-40px 0 0}.reset[_ngcontent-%COMP%]{width:100px;position:absolute;bottom:20px;left:50%;margin:10px 0 0 -50px}.load-container[_ngcontent-%COMP%]{background-color:#d3d3d3;border:2px solid black;position:relative;border-radius:20px;height:100%}.progress-desc[_ngcontent-%COMP%]{width:90%;position:absolute;bottom:20%;font-weight:700;left:5%;margin:-30px 0 0}.progress[_ngcontent-%COMP%]{width:90%;position:absolute;bottom:15%;left:5%;margin:-30px 0 0}"]});let n=e;return n})();var Rd=(()=>{let e=class e{constructor(t,i){this.cardsService=t,this.router=i,this.disableCompare=!0}ngOnInit(){this.cardsService.collectionsReady.subscribe(t=>{this.disableCompare=!t}),this.disableCompare=!this.cardsService.areCollectionsImported()}startComparing(){this.cardsService.transferCollections(),this.router.navigate(["/compare"])}};e.\u0275fac=function(i){return new(i||e)(L(xn),L(Jt))},e.\u0275cmp=pe({type:e,selectors:[["app-welcome-page"]],standalone:!0,features:[ve],decls:12,vars:1,consts:[["id","welcome"],["id","title",1,"text-primary"],["id","description"],["id","tutorial"],["id","imports",1,"row"],["id","Importer 1",1,"import","col"],["id","Importer 2",1,"import","col"],["id","button",1,"btn","btn-primary",3,"click","disabled"]],template:function(i,a){i&1&&(W(0,"div",0)(1,"h1",1),me(2,"Urza Comparator"),K(),W(3,"p",2),me(4,"- An Urza Gatherer collection comparator -"),K(),W(5,"h4",3),me(6,"Start by importing two collections"),K(),W(7,"div",4),ce(8,"app-collection-import",5)(9,"app-collection-import",6),K(),W(10,"button",7),Ke("click",function(){return a.startComparing()}),me(11," Compare my collections "),K()()),i&2&&(ee(10),ze("disabled",a.disableCompare))},dependencies:[Td],styles:["#welcome[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;padding:0 20px}#title[_ngcontent-%COMP%]{text-align:center;margin-top:40px}#description[_ngcontent-%COMP%]{text-align:center;font-style:italic}#tutorial[_ngcontent-%COMP%]{text-align:center;margin-top:60px}#imports[_ngcontent-%COMP%]{width:80%;margin:0 auto}.import[_ngcontent-%COMP%]{width:100%;height:200px;margin:20px}#button[_ngcontent-%COMP%]{width:fit-content;margin-inline:auto;margin-top:20px}"]});let n=e;return n})();var Dc=class{};function Od(n){return n&&typeof n.connect=="function"&&!(n instanceof Mi)}var ts=class extends Dc{constructor(e){super(),this._data=e}connect(){return Ln(this._data)?this._data:Q(this._data)}disconnect(){}},gr=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(gr||{}),Ac=new se("_ViewRepeater");var ns=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,r,t,i,a){e.forEachOperation((u,h,v)=>{let y,S;if(u.previousIndex==null){let O=()=>t(u,h,v);y=this._insertView(O,v,r,i(u)),S=y?gr.INSERTED:gr.REPLACED}else v==null?(this._detachAndCacheView(h,r),S=gr.REMOVED):(y=this._moveView(h,v,r,i(u)),S=gr.MOVED);a&&a({context:y?.context,operation:S,record:u})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,r,t,i){let a=this._insertViewFromCache(r,t);if(a){a.context.$implicit=i;return}let u=e();return t.createEmbeddedView(u.templateRef,u.context,u.index)}_detachAndCacheView(e,r){let t=r.detach(e);this._maybeCacheView(t,r)}_moveView(e,r,t,i){let a=t.get(e);return t.move(a,r),a.context.$implicit=i,a}_maybeCacheView(e,r){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let t=r.indexOf(e);t===-1?e.destroy():r.remove(t)}}_insertViewFromCache(e,r){let t=this._viewCache.pop();return t&&r.insert(t,e),t||null}};var av=["contentWrapper"],cv=["*"],Nd=new se("VIRTUAL_SCROLL_STRATEGY"),Mc=class{constructor(e,r,t){this._scrolledIndexChange=new Ie,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Pl()),this._viewport=null,this._itemSize=e,this._minBufferPx=r,this._maxBufferPx=t}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,r,t){t<r,this._itemSize=e,this._minBufferPx=r,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,r){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,r)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),r={start:e.start,end:e.end},t=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),a=this._viewport.measureScrollOffset(),u=this._itemSize>0?a/this._itemSize:0;if(r.end>i){let v=Math.ceil(t/this._itemSize),y=Math.max(0,Math.min(u,i-v));u!=y&&(u=y,a=y*this._itemSize,r.start=Math.floor(u)),r.end=Math.max(0,Math.min(i,r.start+v))}let h=a-r.start*this._itemSize;if(h<this._minBufferPx&&r.start!=0){let v=Math.ceil((this._maxBufferPx-h)/this._itemSize);r.start=Math.max(0,r.start-v),r.end=Math.min(i,Math.ceil(u+(t+this._minBufferPx)/this._itemSize))}else{let v=r.end*this._itemSize-(a+t);if(v<this._minBufferPx&&r.end!=i){let y=Math.ceil((this._maxBufferPx-v)/this._itemSize);y>0&&(r.end=Math.min(i,r.end+y),r.start=Math.max(0,Math.floor(u-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(r),this._viewport.setRenderedContentOffset(this._itemSize*r.start),this._scrolledIndexChange.next(Math.floor(u))}};function lv(n){return n._scrollStrategy}var Vd=(()=>{let e=class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Mc(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=si(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=si(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=si(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xe({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[lt([{provide:Nd,useFactory:lv,deps:[fn(()=>e)]}]),mn]});let n=e;return n})(),uv=20,xc=(()=>{let e=class e{constructor(t,i,a){this._ngZone=t,this._platform=i,this._scrolled=new Ie,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=uv){return this._platform.isBrowser?new Dt(i=>{this._globalSubscription||this._addGlobalListener();let a=t>0?this._scrolled.pipe(Xr(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let a=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vt(u=>!u||a.indexOf(u)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((a,u)=>{this._scrollableContainsElement(u,t)&&i.push(u)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let a=hr(i),u=t.getElementRef().nativeElement;do if(a==u)return!0;while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return oa(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(z(be),z(wt),z(Se,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),jd=(()=>{let e=class e{constructor(t,i,a,u){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=a,this.dir=u,this._destroyed=new Ie,this._elementScrolled=new Dt(h=>this.ngZone.runOutsideAngular(()=>oa(this.elementRef.nativeElement,"scroll").pipe(At(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,a=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=a?t.end:t.start),t.right==null&&(t.right=a?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),a&&oi()!=dt.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),oi()==dt.INVERTED?t.left=t.right:oi()==dt.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;od()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",a="right",u=this.elementRef.nativeElement;if(t=="top")return u.scrollTop;if(t=="bottom")return u.scrollHeight-u.clientHeight-u.scrollTop;let h=this.dir&&this.dir.value=="rtl";return t=="start"?t=h?a:i:t=="end"&&(t=h?i:a),h&&oi()==dt.INVERTED?t==i?u.scrollWidth-u.clientWidth-u.scrollLeft:u.scrollLeft:h&&oi()==dt.NEGATED?t==i?u.scrollLeft+u.scrollWidth-u.clientWidth:-u.scrollLeft:t==i?u.scrollLeft:u.scrollWidth-u.clientWidth-u.scrollLeft}};e.\u0275fac=function(i){return new(i||e)(L(Pe),L(xc),L(be),L(Wo,8))},e.\u0275dir=xe({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let n=e;return n})(),dv=20,hv=(()=>{let e=class e{constructor(t,i,a){this._platform=t,this._change=new Ie,this._changeListener=u=>{this._change.next(u)},this._document=a,i.runOutsideAngular(()=>{if(t.isBrowser){let u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+a,right:t.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),a=t.documentElement,u=a.getBoundingClientRect(),h=-u.top||t.body.scrollTop||i.scrollY||a.scrollTop||0,v=-u.left||t.body.scrollLeft||i.scrollX||a.scrollLeft||0;return{top:h,left:v}}change(t=dv){return t>0?this._change.pipe(Xr(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(z(wt),z(be),z(Se,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),kd=new se("VIRTUAL_SCROLLABLE"),fv=(()=>{let e=class e extends jd{constructor(t,i,a,u){super(t,i,a,u)}measureViewportSize(t){let i=this.elementRef.nativeElement;return t==="horizontal"?i.clientWidth:i.clientHeight}};e.\u0275fac=function(i){return new(i||e)(L(Pe),L(xc),L(be),L(Wo,8))},e.\u0275dir=xe({type:e,features:[yt]});let n=e;return n})();function pv(n,e){return n.start==e.start&&n.end==e.end}var mv=typeof requestAnimationFrame<"u"?xl:Ml,Tc=(()=>{let e=class e extends fv{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}constructor(t,i,a,u,h,v,y,S){super(t,v,a,h),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=u,this.scrollable=S,this._platform=U(wt),this._detachedSubject=new Ie,this._renderedRangeSubject=new Ie,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new Dt(O=>this._scrollStrategy.scrolledIndexChange.subscribe(F=>Promise.resolve().then(()=>this.ngZone.run(()=>O.next(F))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Zr.EMPTY,this._injector=U($n),this._isDestroyed=!1,this._viewportChanges=y.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(hn(null),Xr(0,mv),At(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(At(this._detachedSubject)).subscribe(i=>{let a=i.length;a!==this._dataLength&&(this._dataLength=a,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){pv(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&i==="to-start"?0:t;let a=this.dir&&this.dir.value=="rtl",u=this.orientation=="horizontal",h=u?"X":"Y",y=`translate${h}(${Number((u&&a?-1:1)*t)}px)`;this._renderedContentOffset=t,i==="to-end"&&(y+=` translate${h}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=y&&(this._renderedContentTransform=y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){let a={behavior:i};this.orientation==="horizontal"?a.start=t:a.top=t,this.scrollable.scrollTo(a)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return this.scrollable==this?i=a=>super.measureScrollOffset(a):i=a=>this.scrollable.measureScrollOffset(a),Math.max(0,i(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i,a="left",u="right",h=this.dir?.value=="rtl";t=="start"?i=h?u:a:t=="end"?i=h?a:u:t?i=t:i=this.orientation==="horizontal"?"left":"top";let v=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-v}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,no(()=>{this._isChangeDetectionPending=!1;let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of t)i()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};e.\u0275fac=function(i){return new(i||e)(L(Pe),L(nt),L(be),L(Nd,8),L(Wo,8),L(xc),L(hv),L(kd,8))},e.\u0275cmp=pe({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,a){if(i&1&&Vi(av,7),i&2){let u;Hn(u=qn())&&(a._contentWrapper=u.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,a){i&2&&bn("cdk-virtual-scroll-orientation-horizontal",a.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",a.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",wn]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[lt([{provide:jd,useFactory:(t,i)=>t||i,deps:[[new Qr,new Ul(kd)],e]}]),_n,yt,ve],ngContentSelectors:cv,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,a){i&1&&(ha(),W(0,"div",1,0),fa(2),K(),ce(3,"div",2)),i&2&&(ee(3),Fi("width",a._totalContentWidth)("height",a._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});let n=e;return n})();function Pd(n,e,r){let t=r;if(!t.getBoundingClientRect)return 0;let i=t.getBoundingClientRect();return n==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var Ld=(()=>{let e=class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,Od(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new ts(Ln(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,a)=>t(i+(this._renderedRange?this._renderedRange.start:0),a):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=si(t)}constructor(t,i,a,u,h,v){this._viewContainerRef=t,this._template=i,this._differs=a,this._viewRepeater=u,this._viewport=h,this.viewChange=new Ie,this._dataSourceChanges=new Ie,this.dataStream=this._dataSourceChanges.pipe(hn(null),Nl(),Ue(([y,S])=>this._changeDataSource(y,S)),jl(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Ie,this.dataStream.subscribe(y=>{this._data=y,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(At(this._destroyed)).subscribe(y=>{this._renderedRange=y,this.viewChange.observers.length&&v.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,i){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let a=t.start-this._renderedRange.start,u=t.end-t.start,h,v;for(let y=0;y<u;y++){let S=this._viewContainerRef.get(y+a);if(S&&S.rootNodes.length){h=v=S.rootNodes[0];break}}for(let y=u-1;y>-1;y--){let S=this._viewContainerRef.get(y+a);if(S&&S.rootNodes.length){v=S.rootNodes[S.rootNodes.length-1];break}}return h&&v?Pd(i,"end",v)-Pd(i,"start",h):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Q()}_updateContext(){let t=this._data.length,i=this._viewContainerRef.length;for(;i--;){let a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=t,this._updateComputedContextProperties(a.context),a.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(u,h,v)=>this._getEmbeddedViewArgs(u,v),u=>u.item),t.forEachIdentityChange(u=>{let h=this._viewContainerRef.get(u.currentIndex);h.context.$implicit=u.item});let i=this._data.length,a=this._viewContainerRef.length;for(;a--;){let u=this._viewContainerRef.get(a);u.context.index=this._renderedRange.start+a,u.context.count=i,this._updateComputedContextProperties(u.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}};e.\u0275fac=function(i){return new(i||e)(L(io),L(Gl),L(Ql),L(Ac),L(Tc,4),L(be))},e.\u0275dir=xe({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[lt([{provide:Ac,useClass:ns}])]});let n=e;return n})();var Fd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let n=e;return n})(),Bd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[ai,Fd,ai,Fd]});let n=e;return n})();function vv(n,e){if(n&1&&(W(0,"div",5),me(1),ce(2,"i",8),K()),n&2){let r=tt(2);ee(),_t(" ",r.card().foilCount,"")}}function yv(n,e){if(n&1&&(W(0,"div",2)(1,"div",3)(2,"div",4),me(3),K(),Fe(4,vv,3,1,"div",5),K(),W(5,"p",6),me(6),K(),ce(7,"img",7),K()),n&2){let r=tt();ee(3),_t(" ",r.card().count," "),ee(),Ve(r.card().foilCount>0?4:-1),ee(2),ct(r.priceTag),ee(),ze("src",r.card().imageUri,eo)}}function _v(n,e){n&1&&ce(0,"div",10)(1,"div",11)}function bv(n,e){if(n&1&&(W(0,"div",2),ce(1,"img",9),Fe(2,_v,2,0),K()),n&2){let r=tt();ee(2),Ve(r.card().imageUri==="loading"?2:-1)}}var Ud=(()=>{let e=class e{constructor(){this.card=Gt.required(),this.mouseIn=!1,this.rotationFactor=15}get quantityTag(){return this.card().count}get priceTag(){let t="No price found",i=this.card().prices;if(!i)return t;let a=i.eur,u=i.eur_foil;return a===null&&u===null||(t="",a!==null&&(t="\u20AC"+a),a!==null&&u!==null&&(t+=" / "),u!==null&&(t+="\u20AC"+u)),t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-card"]],inputs:{card:[1,"card"]},standalone:!0,features:[ve],decls:4,vars:1,consts:[["rotatable",""],[1,"card-container"],[1,"mtg-card","p-0"],[1,"quantity-border"],[1,"quantity-number"],[1,"quantity-number-foil"],[1,"price-tag"],[1,"card-image",3,"src"],[1,"bi","bi-brightness-high","quantity-number-foil-image",2,"font-size","9px"],["src","Back.png",1,"back-image"],[1,"spinner-background"],["role","status",1,"spinner","spinner-border","text-light"]],template:function(i,a){i&1&&(W(0,"div",1,0),Fe(2,yv,8,4,"div",2)(3,bv,3,1,"div",2),K()),i&2&&(ee(2),Ve(a.card().imageUri&&a.card().imageUri!=="loading"?2:3))},styles:[".card-container[_ngcontent-%COMP%]{width:100%;height:100%}.mtg-card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.back-image[_ngcontent-%COMP%]{position:absolute;border-radius:8px;width:100%;height:100%}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px}.spinner-background[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;background-color:#0009;border-radius:8px}.spinner[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;top:calc(50% - 25px);left:calc(50% - 25px)}.price-tag[_ngcontent-%COMP%]{background-color:#d47100;position:absolute;width:100px;bottom:-4px;left:calc(50% - 50px);margin:0;padding:5px;font-size:.7em;color:#fff;border-radius:5px;text-align:center}.quantity-border[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:5px;border-style:solid;font-style:bold;border-color:#d47100;color:#fff;font-size:.7em}.quantity-number[_ngcontent-%COMP%]{position:absolute;background-color:#d47100;padding:2px 6px 0 4px;bottom:0;border-radius:0 10px 0 0}.quantity-number-foil[_ngcontent-%COMP%]{position:absolute;background-color:#d47100;padding:0 6px 2px 4px;border-radius:0 0 10px}"]});let n=e;return n})();var Yd=(()=>{let e=class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(i){return new(i||e)(L(Wn),L(Pe))},e.\u0275dir=xe({type:e});let n=e;return n})(),Fc=(()=>{let e=class e extends Yd{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=yn(e)))(a||e)}})(),e.\u0275dir=xe({type:e,features:[yt]});let n=e;return n})(),as=new se("");var wv={provide:as,useExisting:fn(()=>cs),multi:!0};function Cv(){let n=Zn()?Zn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Ev=new se(""),cs=(()=>{let e=class e extends Yd{constructor(t,i,a){super(t,i),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Cv())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(i){return new(i||e)(L(Wn),L(Pe),L(Ev,8))},e.\u0275dir=xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,a){i&1&&Ke("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[lt([wv]),yt]});let n=e;return n})();var Sv=new se(""),Iv=new se("");function Xd(n){return n!=null}function Qd(n){return fo(n)?We(n):n}function Jd(n){let e={};return n.forEach(r=>{e=r!=null?j(j({},e),r):e}),Object.keys(e).length===0?null:e}function eh(n,e){return e.map(r=>r(n))}function Dv(n){return!n.validate}function th(n){return n.map(e=>Dv(e)?e:r=>e.validate(r))}function Av(n){if(!n)return null;let e=n.filter(Xd);return e.length==0?null:function(r){return Jd(eh(r,e))}}function nh(n){return n!=null?Av(th(n)):null}function Mv(n){if(!n)return null;let e=n.filter(Xd);return e.length==0?null:function(r){let t=eh(r,e).map(Qd);return Rl(t).pipe(oe(Jd))}}function ih(n){return n!=null?Mv(th(n)):null}function zd(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xv(n){return n._rawValidators}function Tv(n){return n._rawAsyncValidators}function Rc(n){return n?Array.isArray(n)?n:[n]:[]}function rs(n,e){return Array.isArray(n)?n.includes(e):n===e}function $d(n,e){let r=Rc(e);return Rc(n).forEach(i=>{rs(r,i)||r.push(i)}),r}function Wd(n,e){return Rc(e).filter(r=>!rs(n,r))}var os=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ih(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},Oc=class extends os{get formDirective(){return null}get path(){return null}},wr=class extends os{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Rv={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cw=ge(j({},Rv),{"[class.ng-submitted]":"isSubmitted"}),rh=(()=>{let e=class e extends kc{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(L(wr,2))},e.\u0275dir=xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){i&2&&bn("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[yt]});let n=e;return n})();var vr="VALID",is="INVALID",li="PENDING",yr="DISABLED",di=class{},ss=class extends di{constructor(e,r){super(),this.value=e,this.source=r}},_r=class extends di{constructor(e,r){super(),this.pristine=e,this.source=r}},br=class extends di{constructor(e,r){super(),this.touched=e,this.source=r}},ui=class extends di{constructor(e,r){super(),this.status=e,this.source=r}};function Ov(n){return(ls(n)?n.validators:n)||null}function kv(n){return Array.isArray(n)?nh(n):n||null}function Pv(n,e){return(ls(e)?e.asyncValidators:n)||null}function Fv(n){return Array.isArray(n)?ih(n):n||null}function ls(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Pc=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Ie,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vr}get invalid(){return this.status===is}get pending(){return this.status==li}get disabled(){return this.status===yr}get enabled(){return this.status!==yr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($d(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($d(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wd(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wd(e,this._rawAsyncValidators))}hasValidator(e){return rs(this._rawValidators,e)}hasAsyncValidator(e){return rs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(j({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new br(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),r&&e.emitEvent!==!1&&this._events.next(new br(!1,t))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(j({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new _r(!1,t))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&e.emitEvent!==!1&&this._events.next(new _r(!0,t))}markAsPending(e={}){this.status=li;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ui(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(j({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=yr,this.errors=null,this._forEachChild(i=>{i.disable(ge(j({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ss(this.value,t)),this._events.next(new ui(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(j({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=vr,this._forEachChild(t=>{t.enable(ge(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(j({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vr||this.status===li)&&this._runAsyncValidator(t,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ss(this.value,r)),this._events.next(new ui(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(j({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yr:vr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=li,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=Qd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,i)=>t&&t._find(i),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new ui(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,t)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?yr:this.errors?is:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(li)?li:this._anyControlsHaveStatus(is)?is:vr}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let t=!this._anyControlsDirty(),i=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new _r(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new br(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ls(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kv(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Fv(this._rawAsyncValidators)}};var oh=new se("CallSetDisabledState",{providedIn:"root",factory:()=>Nc}),Nc="always";function Nv(n,e){return[...e.path,n]}function Vv(n,e,r=Nc){Lv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Bv(n,e),zv(n,e),Uv(n,e),jv(n,e)}function Kd(n,e){n.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function jv(n,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(r),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(r)})}}function Lv(n,e){let r=xv(n);e.validator!==null?n.setValidators(zd(r,e.validator)):typeof r=="function"&&n.setValidators([r]);let t=Tv(n);e.asyncValidator!==null?n.setAsyncValidators(zd(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();Kd(e._rawValidators,i),Kd(e._rawAsyncValidators,i)}function Bv(n,e){e.valueAccessor.registerOnChange(r=>{n._pendingValue=r,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&sh(n,e)})}function Uv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&sh(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function sh(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zv(n,e){let r=(t,i)=>{e.valueAccessor.writeValue(t),i&&e.viewToModelUpdate(t)};n.registerOnChange(r),e._registerOnDestroy(()=>{n._unregisterOnChange(r)})}function $v(n,e){if(!n.hasOwnProperty("model"))return!1;let r=n.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Wv(n){return Object.getPrototypeOf(n.constructor)===Fc}function Kv(n,e){if(!e)return null;Array.isArray(e);let r,t,i;return e.forEach(a=>{a.constructor===cs?r=a:Wv(a)?t=a:i=a}),i||t||r||null}function Gd(n,e){let r=n.indexOf(e);r>-1&&n.splice(r,1)}function Hd(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Gv=class extends Pc{constructor(e=null,r,t){super(Ov(r),Pv(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ls(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Hd(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Hd(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hv={provide:wr,useExisting:fn(()=>Vc)},qd=Promise.resolve(),Vc=(()=>{let e=class e extends wr{constructor(t,i,a,u,h,v){super(),this._changeDetectorRef=h,this.callSetDisabledState=v,this.control=new Gv,this._registered=!1,this.name="",this.update=new De,this._parent=t,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=Kv(this,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$v(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,a=i!==0&&wn(i);qd.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Nv(t,this._parent):[t]}};e.\u0275fac=function(i){return new(i||e)(L(Oc,9),L(Sv,10),L(Iv,10),L(as,10),L(nt,8),L(oh,8))},e.\u0275dir=xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lt([Hv]),yt,mn]});let n=e;return n})();var qv={provide:as,useExisting:fn(()=>us),multi:!0};function ah(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Zv(n){return n.split(":")[0]}var us=(()=>{let e=class e extends Fc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),a=ah(i,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Zv(t);return this._optionMap.has(i)?this._optionMap.get(i):t}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=yn(e)))(a||e)}})(),e.\u0275dir=xe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,a){i&1&&Ke("change",function(h){return a.onChange(h.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[lt([qv]),yt]});let n=e;return n})(),ch=(()=>{let e=class e{constructor(t,i,a){this._element=t,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ah(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(L(Pe),L(Wn),L(us,9))},e.\u0275dir=xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),Yv={provide:as,useExisting:fn(()=>lh),multi:!0};function Zd(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Xv(n){return n.split(":")[0]}var lh=(()=>{let e=class e extends Fc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let a=t.map(u=>this._getOptionId(u));i=(u,h)=>{u._setSelected(a.indexOf(h.toString())>-1)}}else i=(a,u)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let a=[],u=i.selectedOptions;if(u!==void 0){let h=u;for(let v=0;v<h.length;v++){let y=h[v],S=this._getOptionValue(y.value);a.push(S)}}else{let h=i.options;for(let v=0;v<h.length;v++){let y=h[v];if(y.selected){let S=this._getOptionValue(y.value);a.push(S)}}}this.value=a,t(a)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Xv(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=yn(e)))(a||e)}})(),e.\u0275dir=xe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,a){i&1&&Ke("change",function(h){return a.onChange(h.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[lt([Yv]),yt]});let n=e;return n})(),uh=(()=>{let e=class e{constructor(t,i,a){this._element=t,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Zd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Zd(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(L(Pe),L(Wn),L(lh,9))},e.\u0275dir=xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();var Qv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let n=e;return n})();var dh=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:oh,useValue:t.callSetDisabledState??Nc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[Qv]});let n=e;return n})();var ey=["viewport"];function ty(n,e){n&1&&(W(0,"div",2),ce(1,"i",12),W(2,"p",13),me(3,"No card found"),K()())}function ny(n,e){if(n&1&&(W(0,"option",7),me(1),K()),n&2){let r=e.$implicit;ze("value",r.value),ee(),ct(r.display)}}function iy(n,e){if(n&1&&(W(0,"option",7),me(1),K()),n&2){let r=e.$implicit;ze("value",r.value),ee(),ct(r.display)}}function ry(n,e){if(n&1&&ce(0,"app-card",16),n&2){let r=e.$implicit;ze("card",r)}}function oy(n,e){if(n&1&&(W(0,"div",14)(1,"div",15),so(2,ry,1,1,"app-card",16,oo),K()()),n&2){let r=e.$implicit;ee(2),ao(r)}}var hh=(()=>{let e=class e{constructor(t,i){this.ref=t,this.compareService=i,this.collection=Gt.required(),this.cardWidth=170,this.cardSpacing=10,this.cardsDisplayed=0,this.name=Kn(""),this.minCopiesOptions=[{value:1,display:"At least one copy"},{value:2,display:"At least two copies"},{value:4,display:"At least four copies"}],this.minCopies=Kn(this.minCopiesOptions[0].value),this.orderOptions=[{value:"number-asc",display:"By number"},{value:"name-asc",display:"By name"},{value:"convertedManaCost-desc",display:"By mana cost (desc.)"},{value:"convertedManaCost-asc",display:"By mana cost (asc.)"},{value:"type-desc",display:"By type (desc.)"},{value:"type-asc",display:"By type (asc.)"},{value:"color-desc",display:"By color (desc.)"},{value:"color-asc",display:"By color (asc.)"},{value:"prices.eur-desc",display:"By price (desc.)"},{value:"prices.eur-asc",display:"By price (asc.)"},{value:"set-asc",display:"By edition"},{value:"releaseDate-desc",display:"By release date (desc.)"},{value:"releaseDate-asc",display:"By release date (asc.)"},{value:"count-desc",display:"By count (desc.)"},{value:"count-asc",display:"By count (asc.)"}],this.orderSelected=Kn(this.orderOptions[0].value),this.colors=["White","Blue","Black","Red","Green","Multicolors","Colorless"],this.grid=[],va(()=>{this.buildCardGrid()})}ngOnInit(){this.compareService.resultingCollectionUpdated.subscribe(t=>{this.buildCardGrid()})}onResize(){this.buildCardGrid()}get filteredCards(){return this.orderCards(),this.collection().cards.filter(t=>t.name.toLowerCase().includes(this.name().toLowerCase())&&t.count>=this.minCopies())}getPropertyValue(t,i){return i.split(".").reduce((a,u)=>a&&a[u],t)}orderCards(){let[t,i]=this.orderSelected().split("-");this.collection().cards.sort((a,u)=>{if(t==="color"){let h=this.colors.indexOf(a.color),v=this.colors.indexOf(u.color);return i==="asc"?h-v:v-h}else{let h=this.getPropertyValue(a,t),v=this.getPropertyValue(u,t);return!isNaN(Number(h))&&!isNaN(Number(v))?(h=Number(h),v=Number(v),i==="asc"?h-v:v-h):typeof h=="string"&&typeof v=="string"?i==="asc"?h.localeCompare(v):v.localeCompare(h):0}})}buildCardGrid(){let t=0;this.viewport!==void 0&&(t=this.viewport.nativeElement.offsetWidth);let i=Math.floor(t/(this.cardWidth+this.cardSpacing));this.grid=[];let a=0,u=[];this.filteredCards.forEach(h=>{a%i===0&&a>0&&(this.grid.push(u),u=[]),u.push(h),a++}),this.cardsDisplayed=a,u.length>0&&this.grid.push(u),this.ref.detectChanges()}};e.\u0275fac=function(i){return new(i||e)(L(nt),L(Xe))},e.\u0275cmp=pe({type:e,selectors:[["app-collection"]],viewQuery:function(i,a){if(i&1&&Vi(ey,5),i&2){let u;Hn(u=qn())&&(a.viewport=u.first)}},hostBindings:function(i,a){i&1&&Ke("resize",function(h){return a.onResize(h.target.innerWidth)},!1,Kl)},inputs:{collection:[1,"collection"]},standalone:!0,features:[ve],decls:19,vars:7,consts:[["viewport",""],[1,"main","m-0"],[1,"empty-parent","text-center"],["id","header",1,"row","px-3"],[1,"col","my-auto"],["type","text","id","nameFilter","autocomplete","off","placeholder","Name...",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["aria-label","Default select example",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],[3,"value"],[1,"col","text-end","fw-bold","my-auto"],[1,"viewport-container"],[1,"viewport",3,"itemSize"],["class","item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"bi","bi-info-circle-fill","empty",2,"font-size","4rem"],[1,"empty-description"],[1,"item"],[1,"row","card-row"],[1,"mtg-card",3,"card"]],template:function(i,a){if(i&1){let u=Ni();W(0,"div",1),Fe(1,ty,4,0,"div",2),W(2,"div",3)(3,"div",4)(4,"input",5),uo("ngModelChange",function(v){return gn(u),lo(a.name,v)||(a.name=v),vn(v)}),K()(),W(5,"div",4)(6,"select",6),uo("ngModelChange",function(v){return gn(u),lo(a.orderSelected,v)||(a.orderSelected=v),vn(v)}),so(7,ny,2,2,"option",7,oo),K()(),W(9,"div",4)(10,"select",6),uo("ngModelChange",function(v){return gn(u),lo(a.minCopies,v)||(a.minCopies=v),vn(v)}),so(11,iy,2,2,"option",7,oo),K()(),W(13,"div",8),me(14),K()(),W(15,"div",9,0)(17,"cdk-virtual-scroll-viewport",10),Fe(18,oy,4,0,"div",11),K()()()}i&2&&(ee(),Ve(a.grid.length===0?1:-1),ee(3),co("ngModel",a.name),ee(2),co("ngModel",a.orderSelected),ee(),ao(a.orderOptions),ee(3),co("ngModel",a.minCopies),ee(),ao(a.minCopiesOptions),ee(3),_t(" ",a.cardsDisplayed+" cards found"," "),ee(3),ze("itemSize",244),ee(),ze("cdkVirtualForOf",a.grid))},dependencies:[Bd,Vd,Ld,Tc,Ud,dh,ch,uh,cs,us,rh,Vc],styles:[".main[_ngcontent-%COMP%]{margin:20px 0 0;padding:10px 0;background-color:#fff;position:relative;height:100%;width:100%}#header[_ngcontent-%COMP%]{height:60px;margin:0}.viewport-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 60px)}.viewport[_ngcontent-%COMP%]{width:100%;height:100%;-ms-overflow-style:none;scrollbar-width:none}.viewport[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.item[_ngcontent-%COMP%]{height:234px;display:flex;justify-content:center;align-items:center}.card-row[_ngcontent-%COMP%]{height:100%;width:auto;margin:0 -10px}.mtg-card[_ngcontent-%COMP%]{width:170px;height:234px;padding:5px;transition:all .1s ease-in-out}.mtg-card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.03)}.empty-parent[_ngcontent-%COMP%]{position:absolute;width:100%;height:calc(100% - 60px);padding:0;top:60px}.empty[_ngcontent-%COMP%]{position:absolute;width:64px;height:64px;top:calc(50% - 60px);left:calc(50% - 32px)}.empty-description[_ngcontent-%COMP%]{position:absolute;width:100%;height:50px;top:calc(50% + 30px)}"]});let n=e;return n})();var fh=(()=>{let e=class e{constructor(t){this.compareService=t,this.collection=new ht([])}ngOnInit(){this.compareService.resultingCollectionUpdated.subscribe(t=>{this.collection=t}),this.compareService.update()}};e.\u0275fac=function(i){return new(i||e)(L(Xe))},e.\u0275cmp=pe({type:e,selectors:[["app-compare-page"]],standalone:!0,features:[ve],decls:3,vars:1,consts:[["id","container"],["id","result"],[3,"collection"]],template:function(i,a){i&1&&(W(0,"div",0)(1,"div",1),ce(2,"app-collection",2),K()()),i&2&&(ee(2),ze("collection",a.collection))},dependencies:[hh],styles:["#container[_ngcontent-%COMP%], #result[_ngcontent-%COMP%]{height:100%}"]});let n=e;return n})();var ph=(()=>{let e=class e{constructor(t){this.route=t,this.errorMessage=""}ngOnInit(){this.route.data.subscribe(t=>{this.errorMessage=t.message})}};e.\u0275fac=function(i){return new(i||e)(L(Xt))},e.\u0275cmp=pe({type:e,selectors:[["app-error-page"]],decls:2,vars:1,template:function(i,a){i&1&&(W(0,"h4"),me(1),K()),i&2&&(ee(),ct(a.errorMessage))}});let n=e;return n})();var mh=[{path:"",component:Rd},{path:"compare",component:fh},{path:"not-found",component:ph,data:{message:"Page not found!"}},{path:"**",redirectTo:"/not-found"}];var sy="@",ay=(()=>{let e=class e{constructor(t,i,a,u,h){this.doc=t,this.delegate=i,this.zone=a,this.animationType=u,this.moduleImpl=h,this._rendererFactoryPromise=null,this.scheduler=U(Hl,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-7R74TPM5.js").then(i=>i)).catch(i=>{throw new Ee(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:a})=>{this._engine=i(this.animationType,this.doc);let u=new a(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,i){let a=this.delegate.createRenderer(t,i);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let u=new jc(a);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(h=>{let v=h.createRenderer(t,i);u.use(v),this.scheduler?.notify(9)}).catch(h=>{u.use(a)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(i){ua()},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),jc=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,t,i){this.delegate.insertBefore(e,r,t,i)}removeChild(e,r,t){this.delegate.removeChild(e,r,t)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,i){this.delegate.setAttribute(e,r,t,i)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,i){this.delegate.setStyle(e,r,t,i)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(e,r,t)),this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(e,r,t)),this.delegate.listen(e,r,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(sy)}};function gh(n="animations"){return da("NgAsyncAnimations"),pn([{provide:to,useFactory:(e,r,t)=>new ay(e,r,t,n),deps:[Se,So,be]},{provide:Oi,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var vh={providers:[Xl({eventCoalescing:!0}),rd(mh),pu(),gh()]};var yh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-navbar"]],standalone:!0,features:[ve],decls:6,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"]],template:function(i,a){i&1&&(W(0,"nav",0)(1,"div",1)(2,"a",2),me(3,"Urza Comparator"),K(),W(4,"button",3),ce(5,"span",4),K()()())}});let n=e;return n})();function cy(n,e){if(n&1&&(W(0,"p",1),me(1),K(),W(2,"p"),me(3),K()),n&2){let r=tt();ee(),ct(r.collection.file==null?null:r.collection.file.name),ee(2),_t("",r.collection.cards.length," cards")}}var _h=(()=>{let e=class e{constructor(t){this.compareService=t,this.id=Gt.required()}ngOnInit(){this.compareService.getCollection(this.id()).then(t=>{this.collection=t})}};e.\u0275fac=function(i){return new(i||e)(L(Xe))},e.\u0275cmp=pe({type:e,selectors:[["app-collection-details"]],inputs:{id:[1,"id"]},standalone:!0,features:[ve],decls:2,vars:1,consts:[["id","container"],[1,"m-0","fw-bold"]],template:function(i,a){i&1&&(W(0,"div",0),Fe(1,cy,4,2),K()),i&2&&(ee(),Ve(a.collection?1:-1))},styles:["#container[_ngcontent-%COMP%]{background-color:#fff;padding:14px 30px;height:100%}"]});let n=e;return n})();function ly(n,e){n&1&&ce(0,"i",6)}function uy(n,e){n&1&&ce(0,"i",7)}var bh=(()=>{let e=class e{constructor(t){this.compareService=t,this.rightToLeft=!0}swap(){this.rightToLeft=!this.rightToLeft,this.compareService.swap()}};e.\u0275fac=function(i){return new(i||e)(L(Xe))},e.\u0275cmp=pe({type:e,selectors:[["app-collections"]],standalone:!0,features:[ve],decls:9,vars:1,consts:[["id","main"],["id","row",1,"row"],[1,"collection","col"],["id","Details 1"],["id","Details 2"],["id","swap",1,"btn","btn-primary",3,"click"],[1,"bi","bi-arrow-bar-left",2,"font-size","1rem"],[1,"bi","bi-arrow-bar-right",2,"font-size","1rem"]],template:function(i,a){i&1&&(W(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"app-collection-details",3),K(),W(4,"div",2),ce(5,"app-collection-details",4),K(),W(6,"button",5),Ke("click",function(){return a.swap()}),Fe(7,ly,1,0,"i",6)(8,uy,1,0,"i",7),K()()()),i&2&&(ee(7),Ve(a.rightToLeft?7:8))},dependencies:[_h],styles:["@media only screen and (max-width: 600px){#main[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 600px){#main[_ngcontent-%COMP%]{width:600px}}@media only screen and (min-width: 768px){#main[_ngcontent-%COMP%]{width:768px}}@media only screen and (min-width: 992px){#main[_ngcontent-%COMP%]{width:992px}}@media only screen and (min-width: 1200px){#main[_ngcontent-%COMP%]{width:1200px}}#main[_ngcontent-%COMP%]{padding:10px;margin:auto;height:100%}#row[_ngcontent-%COMP%]{position:relative}.collection[_ngcontent-%COMP%]{height:80px}#swap[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;position:absolute;top:calc(50% - 20px);left:calc(50% - 20px)}#image[_ngcontent-%COMP%]{width:100%;height:100%}"]});let n=e;return n})();function dy(n,e){n&1&&ce(0,"app-collections",1)}var wh=(()=>{let e=class e{constructor(t,i){this.collectionService=t,this.router=i,this.currentRoute=Kn(""),this.collection=new ht([]),t.collectionLoaded.subscribe(a=>{this.collection=a}),this.router.events.subscribe(()=>{this.currentRoute.set(this.router.url)})}ngOnInit(){this.collectionService.loadScryfallCollection()}};e.\u0275fac=function(i){return new(i||e)(L(xn),L(Jt))},e.\u0275cmp=pe({type:e,selectors:[["app-root"]],standalone:!0,features:[ve],decls:5,vars:1,consts:[[1,"app-content"],["id","collections"],["id","router-render"]],template:function(i,a){i&1&&(W(0,"div",0),ce(1,"app-navbar"),Fe(2,dy,1,0,"app-collections",1),W(3,"div",2),ce(4,"router-outlet"),K()()),i&2&&(ee(2),Ve(a.currentRoute()!=="/"?2:-1))},dependencies:[uc,yh,bh],styles:[".app-content[_ngcontent-%COMP%]{width:100%;padding-top:56px;height:100vh}#collections[_ngcontent-%COMP%]{width:100%;height:100px;position:fixed;background-color:#d3d3d3}#router-render[_ngcontent-%COMP%]{width:100%;margin-top:100px;height:calc(100% - 100px)}"]});let n=e;return n})();Cu(wh,vh).catch(n=>console.error(n));
